!function(g){var I={};function n(t){if(I[t])return I[t].exports;var c=I[t]={i:t,l:!1,exports:{}};return g[t].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=g,n.c=I,n.d=function(g,I,t){n.o(g,I)||Object.defineProperty(g,I,{enumerable:!0,get:t})},n.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},n.t=function(g,I){if(1&I&&(g=n(g)),8&I)return g;if(4&I&&"object"==typeof g&&g&&g.__esModule)return g;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:g}),2&I&&"string"!=typeof g)for(var c in g)n.d(t,c,function(I){return g[I]}.bind(null,c));return t},n.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return n.d(I,"a",I),I},n.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},n.p="",n(n.s=7)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return common; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return STAGEGROUP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return BLOCKTYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BLOCKCONFIG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return BOTTLECONFIG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return STATUS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return COLOR; });\nconst common = {\n  canvas: null,\n  width: 300,\n  height: 300,\n  aspect: 1,\n  gravity: 700\n};\nconst STAGEGROUP = {\n  GAMEOVER: "game-over",\n  GAMEMAIN: "game-main"\n};\nconst BLOCKTYPE = {\n  CUBOID: "cuboid",\n  CYLINDER: "cylinder"\n};\nconst BLOCKCONFIG = {\n  width: 16,\n  height: 12\n};\nconst BOTTLECONFIG = {\n  x: -15,\n  y: 0,\n  z: 0\n};\nconst STATUS = {\n  "STOP": "stop",\n  "SKRINK": "shrink",\n  "JUMP": "jump",\n  "FORERAKE": "forerake",\n  "HYPSOKINESIS": "hypsokinesis",\n  "FALL": "fall"\n};\nconst COLOR = [0x329ffc, 0x9fcf1f, 0xf44f3c, 0xffcf00];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9jb21tb24uanM/Y2Y0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY29tbW9uID0ge1xyXG4gICAgY2FudmFzOiBudWxsLFxyXG4gICAgd2lkdGg6IDMwMCxcclxuICAgIGhlaWdodDogMzAwLFxyXG4gICAgYXNwZWN0OiAxLFxyXG4gICAgZ3Jhdml0eTogNzAwXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTVEFHRUdST1VQID0ge1xyXG4gICAgR0FNRU9WRVI6IFwiZ2FtZS1vdmVyXCIsXHJcbiAgICBHQU1FTUFJTjogXCJnYW1lLW1haW5cIlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQkxPQ0tUWVBFID0ge1xyXG4gICAgQ1VCT0lEOiBcImN1Ym9pZFwiLFxyXG4gICAgQ1lMSU5ERVI6IFwiY3lsaW5kZXJcIlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQkxPQ0tDT05GSUcgPSB7XHJcbiAgICB3aWR0aDogMTYsXHJcbiAgICBoZWlnaHQ6IDEyXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBCT1RUTEVDT05GSUcgPSB7XHJcbiAgICB4OiAtMTUsXHJcbiAgICB5OiAwLFxyXG4gICAgejogMCxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNUQVRVUyA9IHtcclxuICAgIFwiU1RPUFwiOiBcInN0b3BcIixcclxuICAgIFwiU0tSSU5LXCI6IFwic2hyaW5rXCIsXHJcbiAgICBcIkpVTVBcIjogXCJqdW1wXCIsXHJcbiAgICBcIkZPUkVSQUtFXCI6XCJmb3JlcmFrZVwiLFxyXG4gICAgXCJIWVBTT0tJTkVTSVNcIjpcImh5cHNva2luZXNpc1wiLFxyXG4gICAgXCJGQUxMXCI6XCJmYWxsXCJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENPTE9SID0gWzB4MzI5ZmZjLCAweDlmY2YxZiwgMHhmNDRmM2MsIDB4ZmZjZjAwXSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBU0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},,,function(module,exports,__webpack_require__){eval("var content = __webpack_require__(4);\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(6)(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3B1YmxpYy9jc3Mvc3R5bGUuY3NzPzFkNWEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG59XG5cbnZhciBvcHRpb25zID0ge31cblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYgKGNvbnRlbnQubG9jYWxzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(5)(false);\n// Module\nexports.push([module.i, "* {\\r\\n    padding  : 0;\\r\\n    margin   : 0;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody,\\r\\n#app {\\r\\n    width : 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    background: #333333;\\r\\n}\\r\\n#app{\\r\\n    box-sizing: border-box;\\r\\n}\\r\\ncanvas {\\r\\n    background: #ffffff;\\r\\n    display: block;\\r\\n    margin: 0 auto;\\r\\n}", ""]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3B1YmxpYy9jc3Mvc3R5bGUuY3NzPzg1MmEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqIHtcXHJcXG4gICAgcGFkZGluZyAgOiAwO1xcclxcbiAgICBtYXJnaW4gICA6IDA7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTRweDtcXHJcXG59XFxyXFxuXFxyXFxuaHRtbCxcXHJcXG5ib2R5LFxcclxcbiNhcHAge1xcclxcbiAgICB3aWR0aCA6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICAgIGJhY2tncm91bmQ6ICMzMzMzMzM7XFxyXFxufVxcclxcbiNhcHB7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxufVxcclxcbmNhbnZhcyB7XFxyXFxuICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBtYXJnaW46IDAgYXV0bztcXHJcXG59XCIsIFwiXCJdKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return "@media ".concat(item[2], "{").concat(content, "}");\n      }\n\n      return content;\n    }).join(\'\');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === \'string\') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \'\']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = "(".concat(item[2], ") and (").concat(mediaQuery, ")");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || \'\'; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === \'function\') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return "/*# sourceURL=".concat(cssMapping.sourceRoot).concat(source, " */");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n  }\n\n  return [content].join(\'\\n\');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);\n  return "/*# ".concat(data, " */");\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanM/MjRmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIntcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tfaV07IC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcbiAgICAgIC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG4gICAgICAvLyB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG4gICAgICAvLyBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cbiAgICAgIGlmIChpdGVtWzBdID09IG51bGwgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgaWYgKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiKFwiLmNvbmNhdChpdGVtWzJdLCBcIikgYW5kIChcIikuY29uY2F0KG1lZGlhUXVlcnksIFwiKVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290KS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcz8yZGJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZXMgPSBbXTtcbiAgdmFyIG5ld1N0eWxlcyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY3NzID0gaXRlbVsxXTtcbiAgICB2YXIgbWVkaWEgPSBpdGVtWzJdO1xuICAgIHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuICAgIHZhciBwYXJ0ID0ge1xuICAgICAgY3NzOiBjc3MsXG4gICAgICBtZWRpYTogbWVkaWEsXG4gICAgICBzb3VyY2VNYXA6IHNvdXJjZU1hcFxuICAgIH07XG5cbiAgICBpZiAoIW5ld1N0eWxlc1tpZF0pIHtcbiAgICAgIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcGFydHM6IFtwYXJ0XVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IHN0eWxlc1tpXTtcbiAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcbiAgICB2YXIgaiA9IDA7XG5cbiAgICBpZiAoZG9tU3R5bGUpIHtcbiAgICAgIGRvbVN0eWxlLnJlZnMrKztcblxuICAgICAgZm9yICg7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcbiAgICAgIH1cblxuICAgICAgZm9yICg7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgICAgZm9yICg7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuICAgICAgfVxuXG4gICAgICBzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtcbiAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgIHJlZnM6IDEsXG4gICAgICAgIHBhcnRzOiBwYXJ0c1xuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBvcHRpb25zLmF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhvcHRpb25zLmF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIG9wdGlvbnMuYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmF0dHJpYnV0ZXMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGVzID09PSAnb2JqZWN0JyA/IG9wdGlvbnMuYXR0cmlidXRlcyA6IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG4gIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIHZhciBtYXlSZW1vdmUgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IHN0eWxlc1tpXTtcbiAgICAgIHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG4gICAgICBpZiAoZG9tU3R5bGUpIHtcbiAgICAgICAgZG9tU3R5bGUucmVmcy0tO1xuICAgICAgICBtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5ld0xpc3QpIHtcbiAgICAgIHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgICBhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtYXlSZW1vdmUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2RvbVN0eWxlID0gbWF5UmVtb3ZlW19pXTtcblxuICAgICAgaWYgKF9kb21TdHlsZS5yZWZzID09PSAwKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX2RvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgX2RvbVN0eWxlLnBhcnRzW2pdKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgc3R5bGVzSW5Eb21bX2RvbVN0eWxlLmlkXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./public/css/style.css\nvar style = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/utils/event.js\nclass Event {\n  constructor(sender) {\n    this._sender = sender;\n    this._listeners = [];\n  }\n\n  attach(callback = null) {\n    if (callback == null) return;\n\n    this._listeners.push(callback);\n  }\n\n  notify(args) {\n    this._listeners.map(item => {\n      item(this._sender, args);\n    });\n  }\n\n}\n// CONCATENATED MODULE: ./src/game/model.js\n\n\nclass model_GameModel {\n  constructor() {\n    this.stage = "";\n    this.changeStage = new Event(this);\n  }\n\n  getStage() {\n    return this.stage;\n  }\n\n  setStage(stage) {\n    this.stage = stage;\n    this.changeStage.notify({\n      stage\n    });\n  }\n\n}\n\n/* harmony default export */ var model = (new model_GameModel());\n// EXTERNAL MODULE: ./src/utils/common.js\nvar common = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/utils/tween.js\nvar Tween = {\n  Linear: function Linear(t, b, c, d) {\n    return c * t / d + b;\n  },\n  Quad: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t + b;\n      return -c / 2 * (--t * (t - 2) - 1) + b;\n    }\n  },\n  Cubic: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c * (t /= d) * t * t + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t + 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n      return c / 2 * ((t -= 2) * t * t + 2) + b;\n    }\n  },\n  Quart: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c * (t /= d) * t * t * t + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n      return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n    }\n  },\n  Quint: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c * (t /= d) * t * t * t * t + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n      return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n  },\n  Sine: {\n    easeIn: function easeIn(t, b, c, d) {\n      return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n    }\n  },\n  Expo: {\n    easeIn: function easeIn(t, b, c, d) {\n      return t == 0 ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return t == d ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if (t == 0) return b;\n      if (t == d) return b + c;\n      if ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n      return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n  },\n  Circ: {\n    easeIn: function easeIn(t, b, c, d) {\n      return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n      return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n  },\n  Elastic: {\n    easeIn: function easeIn(t, b, c, d, a, p) {\n      var s;\n      if (t == 0) return b;\n      if ((t /= d) == 1) return b + c;\n      if (typeof p == "undefined") p = d * .3;\n\n      if (!a || a < Math.abs(c)) {\n        s = p / 4;\n        a = c;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n\n      return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    },\n    easeOut: function easeOut(t, b, c, d, a, p) {\n      var s;\n      if (t == 0) return b;\n      if ((t /= d) == 1) return b + c;\n      if (typeof p == "undefined") p = d * .3;\n\n      if (!a || a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n\n      return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d, a, p) {\n      var s;\n      if (t == 0) return b;\n      if ((t /= d / 2) == 2) return b + c;\n      if (typeof p == "undefined") p = d * (.3 * 1.5);\n\n      if (!a || a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n\n      if (t < 1) return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n      return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n    }\n  },\n  Back: {\n    easeIn: function easeIn(t, b, c, d, s) {\n      if (typeof s == "undefined") s = 1.70158;\n      return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    easeOut: function easeOut(t, b, c, d, s) {\n      if (typeof s == "undefined") s = 1.70158;\n      return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d, s) {\n      if (typeof s == "undefined") s = 1.70158;\n      if ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n      return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n  },\n  Bounce: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      if ((t /= d) < 1 / 2.75) {\n        return c * (7.5625 * t * t) + b;\n      } else if (t < 2 / 2.75) {\n        return c * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + b;\n      } else if (t < 2.5 / 2.75) {\n        return c * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + b;\n      } else {\n        return c * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + b;\n      }\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if (t < d / 2) {\n        return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n      } else {\n        return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n      }\n    }\n  }\n};\n/* harmony default export */ var utils_tween = (Tween);\n// CONCATENATED MODULE: ./src/utils/animation.js\n\nvar animationId = -1;\nvar killAnimationId = animationId - 1;\nvar _customAnimation = {};\n\n_customAnimation.to = function (obj, duration, options) {\n  duration *= 1000;\n  var delay = options.delay || 0;\n\n  for (var name in options) {\n    if (name === \'delay\') {\n      delay = options[name];\n    } else if (name === \'onComplete\') {} else if (name === \'ease\') {} else {\n      setTimeout(function (name) {\n        return function () {\n          animation_TweenAnimation(obj[name], options[name], duration, options.ease || \'Linear\', function (value, complete) {\n            obj[name] = value;\n\n            if (complete) {\n              options.onComplete && options.onComplete();\n            }\n          });\n        };\n      }(name), delay * 1000);\n    }\n  }\n}; // 对运动方法进行封装\n\n\nvar _TweenAnimation = function TweenAnimation(from, to, duration, easing, callback) {\n  var selfAnimationId = ++animationId;\n\n  var isUndefined = function isUndefined(obj) {\n    return typeof obj == \'undefined\';\n  };\n\n  var isFunction = function isFunction(obj) {\n    return typeof obj == \'function\';\n  };\n\n  var isNumber = function isNumber(obj) {\n    return typeof obj == \'number\';\n  };\n\n  var isString = function isString(obj) {\n    return typeof obj == \'string\';\n  }; // 转换成毫秒\n\n\n  var toMillisecond = function toMillisecond(obj) {\n    if (isNumber(obj)) {\n      return obj;\n    } else if (isString(obj)) {\n      if (/\\d+m?s$/.test(obj)) {\n        if (/ms/.test(obj)) {\n          return 1 * obj.replace(\'ms\', \'\');\n        }\n\n        return 1000 * obj.replace(\'s\', \'\');\n      } else if (/^\\d+$/.test(obj)) {\n        return +obj;\n      }\n    }\n\n    return -1;\n  };\n\n  if (!isNumber(from) || !isNumber(to)) {\n    if (window.console) {\n      console.error(\'from和to两个参数必须且为数值\');\n    }\n\n    return 0;\n  } // 缓动算法\n\n\n  var tween = utils_tween;\n\n  if (!tween) {\n    if (window.console) {\n      console.error(\'缓动算法函数缺失\');\n    }\n\n    return 0;\n  } // duration, easing, callback均为可选参数\n  // 而且顺序可以任意\n\n\n  var options = {\n    duration: 300,\n    easing: \'Linear\',\n    callback: function callback() {}\n  };\n\n  var setOptions = function setOptions(obj) {\n    if (isFunction(obj)) {\n      options.callback = obj;\n    } else if (toMillisecond(obj) != -1) {\n      options.duration = toMillisecond(obj);\n    } else if (isString(obj)) {\n      options.easing = obj;\n    }\n  };\n\n  setOptions(duration);\n  setOptions(easing);\n  setOptions(callback); // requestAnimationFrame的兼容处理\n\n  if (!window.requestAnimationFrame) {\n    requestAnimationFrame = function requestAnimationFrame(fn) {\n      setTimeout(fn, 16.7);\n    };\n  } // 算法需要的几个变量\n\n\n  var start = -1; // during根据设置的总时间计算\n\n  var during = Math.ceil(options.duration / 16.7); // 当前动画算法\n  // 确保首字母大写\n\n  options.easing = options.easing.slice(0, 1).toUpperCase() + options.easing.slice(1);\n  var arrKeyTween = options.easing.split(\'.\');\n  var fnGetValue;\n\n  if (arrKeyTween.length == 1) {\n    fnGetValue = tween[arrKeyTween[0]];\n  } else if (arrKeyTween.length == 2) {\n    fnGetValue = tween[arrKeyTween[0]] && tween[arrKeyTween[0]][arrKeyTween[1]];\n  }\n\n  if (isFunction(fnGetValue) == false) {\n    console.error(\'没有找到名为"\' + options.easing + \'"的动画算法\');\n    return;\n  }\n\n  var startTime = Date.now();\n  var lastTime = Date.now(); // 运动\n\n  var step = function step() {\n    var currentTime = Date.now();\n    var interval = currentTime - lastTime;\n\n    if (interval) {\n      var fps = Math.ceil(1000 / interval);\n    } else {\n      requestAnimationFrame(step);\n      return;\n    }\n\n    lastTime = currentTime;\n\n    if (interval > 100) {\n      requestAnimationFrame(step);\n      return;\n    }\n\n    if (fps >= 30) {\n      start++;\n    } else {\n      var _start = Math.floor((currentTime - startTime) / 16.7);\n\n      start = _start > start ? _start : start + 1;\n    } // 当前的运动位置\n\n\n    var value = fnGetValue(start, from, to - from, during); // 如果还没有运动到位，继续\n\n    if (start <= during && selfAnimationId > killAnimationId) {\n      options.callback(value);\n      requestAnimationFrame(step);\n    } else if (start > during && selfAnimationId > killAnimationId) {\n      // 动画结束，这里可以插入回调...\n      options.callback(to, true);\n    } else {}\n  }; // 开始执行动画\n\n\n  step();\n};\n\nvar _stopAllAnimation = () => {\n  killAnimationId = animationId;\n};\n\nconst customAnimation = _customAnimation;\nconst animation_TweenAnimation = _TweenAnimation;\nconst stopAllAnimation = _stopAllAnimation;\n// CONCATENATED MODULE: ./src/scene/camera.js\n\n\n\nclass camera_Camera {\n  constructor() {\n    this.instance = null;\n    this.frustumSize = 30;\n  }\n\n  init() {\n    const {\n      aspect\n    } = common["g" /* common */];\n    let frustumSize = this.frustumSize;\n    this.instance = new THREE.OrthographicCamera(-frustumSize, frustumSize, frustumSize * aspect, -frustumSize * aspect, -100, 85);\n    this.reset();\n    this.instance.lookAt(this.target);\n  }\n\n  reset() {\n    //-10,10,10\n    this.instance.position.set(-10, 10, 10);\n    this.target = new THREE.Vector3(0, 0, 0);\n  }\n\n  updatePosition(newTargetPosition) {\n    customAnimation.to(this.instance.position, 0.5, {\n      x: newTargetPosition.x - 10,\n      y: newTargetPosition.y + 10,\n      z: newTargetPosition.z + 10\n    });\n    customAnimation.to(this.target, 0.5, {\n      x: newTargetPosition.x,\n      y: newTargetPosition.y,\n      z: newTargetPosition.z\n    });\n  }\n\n}\n\n/* harmony default export */ var camera = (new camera_Camera());\n// CONCATENATED MODULE: ./src/scene/light.js\n\n\nclass light_Light {\n  constructor() {\n    this.instances = {};\n  }\n\n  init() {\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\n    const shadowLight = new THREE.DirectionalLight(0xffffff, 0.3);\n    this.shadowLight = shadowLight; // const shadowLightHelper = new THREE.DirectionalLightHelper(shadowLight,5);\n    // this.instances.shadowLightHelper = shadowLightHelper;\n\n    shadowLight.position.set(10, 30, 20);\n    shadowLight.castShadow = true;\n    var basicMaterial = new THREE.MeshBasicMaterial({\n      color: 0xF5F5F5\n    });\n    this.shadowTarget = new THREE.Mesh(new THREE.PlaneGeometry(0.1, 0.1), basicMaterial);\n    this.shadowTarget.visible = false;\n    this.shadowTarget.name = \'shadowTarget\';\n    shadowLight.target = this.shadowTarget;\n    shadowLight.shadow.camera.near = 0.5;\n    shadowLight.shadow.camera.far = 500;\n    shadowLight.shadow.camera.left = -100;\n    shadowLight.shadow.camera.right = 100;\n    shadowLight.shadow.camera.top = 100;\n    shadowLight.shadow.camera.bottom = -100;\n    shadowLight.shadow.mapSize.width = 1024;\n    shadowLight.shadow.mapSize.height = 1024;\n    this.instances.shadowLight = shadowLight;\n    this.instances.ambientLight = ambientLight;\n    this.instances.shadowTarget = this.shadowTarget;\n  }\n\n  updatePosition(targetPosition) {\n    customAnimation.to(this.shadowTarget.position, 0.5, {\n      x: targetPosition.x,\n      y: targetPosition.y,\n      z: targetPosition.z\n    });\n    customAnimation.to(this.shadowLight.position, 0.5, {\n      x: 10 + targetPosition.x,\n      y: 30 + targetPosition.y,\n      z: 20 + targetPosition.z\n    });\n  }\n\n  reset() {\n    this.shadowLight.position.set(10, 30, 20);\n    this.shadowTarget.position.set(0, 0, 0);\n  }\n\n}\n\n/* harmony default export */ var light = (new light_Light());\n// CONCATENATED MODULE: ./src/part/background.js\n\n\n\nclass background_Background {\n  constructor() {\n    this.instance = null;\n    this.frustumSize = camera.frustumSize;\n  }\n\n  init() {\n    const {\n      width,\n      height\n    } = common["g" /* common */];\n    const geometry = new THREE.PlaneGeometry(this.frustumSize * 2, this.frustumSize * 2 * height / width);\n    const material = new THREE.MeshBasicMaterial({\n      color: 0xf5f5f5,\n      opacity: 1,\n      transparent: true\n    });\n    const mesh = new THREE.Mesh(geometry, material);\n    this.instance = mesh;\n  }\n\n}\n\n/* harmony default export */ var background = (new background_Background());\n// CONCATENATED MODULE: ./src/scene/index.js\n\n\n\n\n\nclass scene_Scene {\n  constructor() {\n    this.instance = null;\n  }\n\n  init() {\n    const {\n      width,\n      height,\n      canvas\n    } = common["g" /* common */];\n    this.renderer = new THREE.WebGLRenderer({\n      canvas,\n      antialias: true,\n      preserveDrawingBuffer: true\n    });\n    this.renderer.shadowMap.enabled = true;\n    this.renderer.shadowMap.type = THREE.PCFShadowMap; // this.renderer.setClearColor(new THREE.Color(0xffffff));\n\n    this.renderer.setSize(width, height);\n    this.instance = new THREE.Scene();\n    this.camera = camera;\n    this.camera.init();\n    this.light = light;\n    this.light.init(); // this.axesHelper = new THREE.AxesHelper(100);\n    // this.instance.add(this.axesHelper);\n\n    this.instance.add(this.camera.instance);\n\n    for (const key in this.light.instances) {\n      if (this.light.instances.hasOwnProperty(key)) {\n        this.instance.add(this.light.instances[key]);\n      }\n    }\n\n    this.background = background;\n    this.background.init();\n    this.background.instance.position.z = -84;\n    this.camera.instance.add(this.background.instance);\n  }\n\n  render() {\n    this.renderer.render(this.instance, this.camera.instance);\n  }\n\n  updateCameraPosition(targetPosition) {\n    this.camera.updatePosition(targetPosition);\n    this.light.updatePosition(targetPosition);\n  }\n\n  reset() {\n    this.camera.reset();\n    this.light.reset();\n  }\n\n  addScore(scoreInstance) {\n    this.currentScore = scoreInstance;\n    this.camera.instance.add(scoreInstance);\n    scoreInstance.position.x = -24;\n    scoreInstance.position.y = 40;\n  }\n\n  updateScore(scoreInstance) {\n    this.camera.instance.remove(this.currentScore);\n    this.currentScore = scoreInstance;\n    this.camera.instance.add(scoreInstance);\n    scoreInstance.position.x = -24;\n    scoreInstance.position.y = 40;\n  }\n\n}\n\n/* harmony default export */ var src_scene = (new scene_Scene());\n// CONCATENATED MODULE: ./src/block/base.js\n\n\nclass base_BaseBlock {\n  constructor(type) {\n    this.type = type;\n    this.width = common["a" /* BLOCKCONFIG */].width;\n    this.height = common["a" /* BLOCKCONFIG */].height;\n    this.status = common["f" /* STATUS */].STOP;\n    this.scale = 1;\n  }\n\n  popup() {\n    this.instance.position.set(this.x, this.y + 30, this.z);\n    customAnimation.to(this.instance.position, 0.5, {\n      x: this.x,\n      y: this.y,\n      z: this.z,\n      ease: \'Bounce.easeOut\'\n    });\n  }\n\n  _shrink() {\n    const DELTA_SCALE = 0.005;\n    const MIN_SCALE = 0.55;\n    this.scale -= DELTA_SCALE;\n    this.scale = Math.max(MIN_SCALE, this.scale);\n\n    if (this.scale <= MIN_SCALE) {\n      this.status = common["f" /* STATUS */].STOP;\n      return;\n    }\n\n    this.instance.scale.y = this.scale;\n    const deltaY = this.height * DELTA_SCALE / 2;\n    this.instance.position.y -= deltaY;\n  }\n\n  rebound() {\n    this.status = common["f" /* STATUS */].STOP;\n    this.scale = 1;\n    customAnimation.to(this.instance.scale, 0.5, {\n      ease: \'Elastic.easeOut\',\n      y: 1\n    });\n    customAnimation.to(this.instance.position, 0.5, {\n      ease: \'Elastic.easeOut\',\n      y: 0\n    });\n  }\n\n  shrink() {\n    this.status = common["f" /* STATUS */].SKRINK;\n  }\n\n  update() {\n    if (this.status === common["f" /* STATUS */].SKRINK) {\n      this._shrink();\n    }\n  }\n\n  getVertices() {\n    const vertices = [];\n    const centerPosition = {\n      x: this.instance.position.x,\n      z: this.instance.position.z\n    };\n    vertices.push([centerPosition.x + this.width / 2, centerPosition.z + this.width / 2]);\n    vertices.push([centerPosition.x + this.width / 2, centerPosition.z - this.width / 2]);\n    vertices.push([centerPosition.x - this.width / 2, centerPosition.z + this.width / 2]);\n    vertices.push([centerPosition.x - this.width / 2, centerPosition.z - this.width / 2]);\n    return vertices;\n  }\n\n}\n// CONCATENATED MODULE: ./src/block/cuboid.js\n\n // import img_stool from \'@images/stool.png\'\n\nclass cuboid_CuboidBlock extends base_BaseBlock {\n  constructor(x = 0, y = 0, z = 0, type, size) {\n    super(common["b" /* BLOCKTYPE */].CUBOID);\n    this.name = "block";\n    this.instance = null;\n    this.size = size || this.width; // const geometry = new THREE.BoxGeometry(this.size, this.height, this.size);\n    // this.texture = new THREE.TextureLoader().load(img_stool);\n\n    const main_material = new THREE.MeshPhongMaterial({\n      color: ~~common["d" /* COLOR */][~~(common["d" /* COLOR */].length * Math.random())]\n    });\n    const while_material = new THREE.MeshPhongMaterial({\n      color: 0xf5f5f5\n    });\n    const while_box_height = 2.2;\n    const main_box_height = (this.height - while_box_height) / 2;\n    const main_geometry = new THREE.BoxGeometry(this.size, main_box_height, this.size);\n    const while_geometry = new THREE.BoxGeometry(this.size, while_box_height, this.size);\n    const total_mesh = new THREE.Object3D();\n    const top_mesh = new THREE.Mesh(main_geometry, main_material);\n    const middle_mesh = new THREE.Mesh(while_geometry, while_material);\n    const bottom_mesh = new THREE.Mesh(main_geometry, main_material);\n    top_mesh.position.y = (while_box_height + main_box_height) / 2;\n    middle_mesh.position.y = 0;\n    bottom_mesh.position.y = -top_mesh.position.y;\n    top_mesh.castShadow = middle_mesh.castShadow = bottom_mesh.castShadow = true;\n    top_mesh.receiveShadow = middle_mesh.receiveShadow = bottom_mesh.receiveShadow = true;\n    total_mesh.add(top_mesh, middle_mesh, bottom_mesh);\n    this.instance = total_mesh;\n    this.instance.receiveShadow = true;\n    this.instance.castShadow = true;\n    this.instance.name = this.name;\n    this.x = this.instance.position.x = x;\n    this.y = this.instance.position.y = y;\n    this.z = this.instance.position.z = z;\n\n    if (type === \'popup\') {\n      this.popup();\n    } else if (type === \'show\') {\n      this.instance.position.x = this.x;\n      this.instance.position.y = this.y;\n      this.instance.position.z = this.z;\n    }\n  }\n\n}\n// CONCATENATED MODULE: ./src/block/cylinder.js\n\n // import img_stool from \'@images/stool.png\'\n\nclass cylinder_CylinderBlock extends base_BaseBlock {\n  constructor(x = 0, y = 0, z = 0, type, size) {\n    super(common["b" /* BLOCKTYPE */].CYLINDER);\n    this.name = "block";\n    this.instance = null;\n    this.size = size || this.width; // const geometry = new THREE.CylinderGeometry(this.size / 2, this.size / 2, this.height, 100);\n    // this.texture = new THREE.TextureLoader().load(img_stool);\n    // const material = new THREE.MeshPhongMaterial({ color: ~~COLOR[~~(COLOR.length*Math.random())] });\n\n    const main_material = new THREE.MeshPhongMaterial({\n      color: ~~common["d" /* COLOR */][~~(common["d" /* COLOR */].length * Math.random())]\n    });\n    const while_material = new THREE.MeshPhongMaterial({\n      color: 0xf5f5f5\n    });\n    const while_box_height = 2.2;\n    const main_box_height = (this.height - while_box_height) / 2;\n    const main_geometry = new THREE.CylinderGeometry(this.size / 2, this.size / 2, main_box_height, 100);\n    const while_geometry = new THREE.CylinderGeometry(this.size / 2, this.size / 2, while_box_height, 100);\n    const total_mesh = new THREE.Object3D();\n    const top_mesh = new THREE.Mesh(main_geometry, main_material);\n    const middle_mesh = new THREE.Mesh(while_geometry, while_material);\n    const bottom_mesh = new THREE.Mesh(main_geometry, main_material);\n    top_mesh.position.y = (while_box_height + main_box_height) / 2;\n    middle_mesh.position.y = 0;\n    bottom_mesh.position.y = -top_mesh.position.y;\n    top_mesh.castShadow = middle_mesh.castShadow = bottom_mesh.castShadow = true;\n    top_mesh.receiveShadow = middle_mesh.receiveShadow = bottom_mesh.receiveShadow = true;\n    total_mesh.add(top_mesh, middle_mesh, bottom_mesh);\n    this.instance = total_mesh;\n    this.instance.receiveShadow = true;\n    this.instance.castShadow = true;\n    this.instance.name = this.name;\n    this.x = this.instance.position.x = x;\n    this.y = this.instance.position.y = y;\n    this.z = this.instance.position.z = z;\n\n    if (type === \'popup\') {\n      this.popup();\n    } else if (type === \'show\') {\n      this.instance.position.x = this.x;\n      this.instance.position.y = this.y;\n      this.instance.position.z = this.z;\n    }\n  }\n\n}\n// CONCATENATED MODULE: ./src/part/ground.js\nclass Ground {\n  constructor() {\n    this.instance = null;\n  }\n\n  init() {\n    const geometry = new THREE.PlaneGeometry(200, 200);\n    const material = new THREE.ShadowMaterial({\n      transparent: true,\n      color: 0x000000,\n      opacity: 0.2\n    });\n    this.instance = new THREE.Mesh(geometry, material);\n    this.instance.rotation.x = -Math.PI / 2;\n    this.instance.position.y = -6;\n    this.instance.receiveShadow = true;\n  }\n\n  reset() {\n    this.instance.rotation.x = -Math.PI / 2;\n    this.instance.position.y = -6;\n    this.instance.position.x = 0;\n    this.instance.position.z = 0;\n  }\n\n  updatePosition(targetPosition) {\n    this.instance.position.x = targetPosition.x;\n    this.instance.position.z = targetPosition.z;\n  }\n\n}\n\n/* harmony default export */ var ground = (new Ground());\n// CONCATENATED MODULE: ./public/images/head.png\n/* harmony default export */ var head = (__webpack_require__.p + "images/head.1facdcc1.png");\n// CONCATENATED MODULE: ./public/images/bottom.png\n/* harmony default export */ var bottom = (__webpack_require__.p + "images/bottom.3835d18c.png");\n// CONCATENATED MODULE: ./public/images/top.png\n/* harmony default export */ var images_top = (__webpack_require__.p + "images/top.110c5048.png");\n// CONCATENATED MODULE: ./src/part/bottle.js\n\n\n\n\n\n\n\nclass bottle_Bottle {\n  constructor() {\n    const {\n      x,\n      y,\n      z\n    } = common["c" /* BOTTLECONFIG */];\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.instance = null;\n    this.name = "bottle";\n    this.radius = 1.78;\n    this.depth = 10.24;\n    this.width = this.radius * 2;\n    this.blockHeight = common["a" /* BLOCKCONFIG */].height;\n    this.gravity = common["g" /* common */].gravity;\n    this.flyingTime = 0;\n    this.direction = 0;\n    this.axis = null;\n    this.status = \'\';\n    this.reset();\n  }\n\n  init() {\n    this.instance = new THREE.Object3D();\n    this.hero = new THREE.Object3D();\n    this.instance.name = this.name;\n    this.instance.position.set(this.x, this.y + 30, this.z);\n    this.instance.castShadow = true;\n    this.instance.receiveShadow = true;\n    this.head = this.createHead();\n    this.head.position.y = 10.24;\n    this.head.receiveShadow = true;\n    this.head.castShadow = true;\n    this.body = new THREE.Object3D();\n    const bottom = this.createBottom();\n    bottom.receiveShadow = true;\n    bottom.castShadow = true;\n    const middle = this.createMiddle();\n    middle.receiveShadow = true;\n    middle.castShadow = true;\n    middle.position.y = 3.06;\n    const top = this.createTop();\n    top.receiveShadow = true;\n    top.castShadow = true;\n    top.position.y = 3.86;\n    this.body.add(top);\n    this.body.add(middle);\n    this.body.add(bottom);\n    this.body.position.y = 1.8;\n    this.hero.add(this.head);\n    this.hero.add(this.body);\n    this.instance.add(this.hero);\n  }\n\n  createHead() {\n    const geometry = new THREE.IcosahedronGeometry(this.radius, 3);\n    const texture = new THREE.TextureLoader().load(head);\n    const material = new THREE.MeshPhongMaterial({\n      map: texture,\n      color: 0xffffff\n    });\n    return new THREE.Mesh(geometry, material);\n  }\n\n  createBottom() {\n    const geometry = new THREE.CylinderGeometry(this.radius * 0.78, this.radius * 1.17, this.radius * 2.1, 20);\n    const texture = new THREE.TextureLoader().load(bottom);\n    const material = new THREE.MeshPhongMaterial({\n      map: texture,\n      color: 0xffffff\n    });\n    return new THREE.Mesh(geometry, material);\n  }\n\n  createMiddle() {\n    const geometry = new THREE.CylinderGeometry(this.radius * 0.955, this.radius * 0.78, this.radius * 1.41, 20);\n    const texture = new THREE.TextureLoader().load(bottom);\n    const material = new THREE.MeshPhongMaterial({\n      map: texture,\n      color: 0xffffff\n    });\n    return new THREE.Mesh(geometry, material);\n  }\n\n  createTop() {\n    const geometry = new THREE.SphereGeometry(this.radius, 32, 32, 0, 6.4, 0, 1.3);\n    const texture = new THREE.TextureLoader().load(images_top);\n    const material = new THREE.MeshPhongMaterial({\n      map: texture,\n      color: 0xffffff\n    });\n    return new THREE.Mesh(geometry, material);\n  }\n\n  show() {\n    return new Promise((resolve, reject) => {\n      customAnimation.to(this.instance.position, 1, {\n        x: common["c" /* BOTTLECONFIG */].x,\n        y: common["c" /* BOTTLECONFIG */].y + this.blockHeight / 2,\n        z: common["c" /* BOTTLECONFIG */].z,\n        ease: \'Bounce.easeOut\',\n        onComplete: () => resolve()\n      });\n    });\n  }\n\n  setDirection(direction, axis) {\n    this.direction = direction;\n    this.axis = axis;\n  }\n\n  rotate() {\n    const scale = 1.35;\n    this.hero.rotation.z = this.hero.rotation.x = 0;\n\n    if (this.direction == 0) {\n      // x\n      customAnimation.to(this.hero.rotation, 0.14, {\n        z: this.hero.rotation.z - Math.PI\n      });\n      customAnimation.to(this.hero.rotation, 0.18, {\n        z: this.hero.rotation.z - 2 * Math.PI,\n        delay: 0.14\n      });\n      customAnimation.to(this.head.position, 0.1, {\n        y: this.head.position.y + 0.9 * scale,\n        x: this.head.position.x + 0.45 * scale\n      });\n      customAnimation.to(this.head.position, 0.1, {\n        y: this.head.position.y - 0.9 * scale,\n        x: this.head.position.x - 0.45 * scale,\n        delay: 0.1\n      });\n      customAnimation.to(this.head.position, 0.15, {\n        y: 10.24,\n        x: 0,\n        delay: 0.25\n      });\n      customAnimation.to(this.body.scale, 0.1, {\n        y: Math.max(scale, 1),\n        x: Math.max(Math.min(1 / scale, 1), 0.7),\n        z: Math.max(Math.min(1 / scale, 1), 0.7)\n      });\n      customAnimation.to(this.body.scale, 0.1, {\n        y: Math.min(0.9 / scale, 0.7),\n        x: Math.max(scale, 1.2),\n        z: Math.max(scale, 1.2),\n        delay: 0.1\n      });\n      customAnimation.to(this.body.scale, 0.3, {\n        y: 1,\n        x: 1,\n        z: 1,\n        delay: 0.2\n      });\n    } else if (this.direction == 1) {\n      // z\n      customAnimation.to(this.hero.rotation, 0.14, {\n        x: this.hero.rotation.x - Math.PI\n      });\n      customAnimation.to(this.hero.rotation, 0.18, {\n        x: this.hero.rotation.x - 2 * Math.PI,\n        delay: 0.14\n      });\n      customAnimation.to(this.head.position, 0.1, {\n        y: this.head.position.y + 0.9 * scale,\n        z: this.head.position.z - 0.45 * scale\n      });\n      customAnimation.to(this.head.position, 0.1, {\n        z: this.head.position.z + 0.45 * scale,\n        y: this.head.position.y - 0.9 * scale,\n        delay: 0.1\n      });\n      customAnimation.to(this.head.position, 0.15, {\n        y: 10.24,\n        z: 0,\n        delay: 0.25\n      });\n      customAnimation.to(this.body.scale, 0.05, {\n        y: Math.max(scale, 1),\n        x: Math.max(Math.min(1 / scale, 1), 0.7),\n        z: Math.max(Math.min(1 / scale, 1), 0.7)\n      });\n      customAnimation.to(this.body.scale, 0.05, {\n        y: Math.min(0.9 / scale, 0.7),\n        x: Math.max(scale, 1.2),\n        z: Math.max(scale, 1.2),\n        delay: 0.1\n      });\n      customAnimation.to(this.body.scale, 0.2, {\n        y: 1,\n        x: 1,\n        z: 1,\n        delay: 0.2\n      });\n    }\n  }\n\n  reset() {\n    this.stop();\n    this.instance && this.instance.position.set(this.x, this.y + 30, this.z);\n    this.instance && this.instance.rotation.set(0, 0, 0);\n  }\n\n  shrink() {\n    this.status = common["f" /* STATUS */].SKRINK;\n  }\n\n  jump() {\n    this.status = common["f" /* STATUS */].JUMP;\n  }\n\n  stop() {\n    this.status = common["f" /* STATUS */].STOP;\n    this.velocity = {\n      vx: 0,\n      vy: 0\n    };\n    this.flyingTime = 0;\n    this.scale = 1;\n\n    if (this.instance) {\n      this.body.scale.x = this.scale;\n      this.body.scale.y = this.scale;\n      this.body.scale.z = this.scale;\n      this.head.position.y = 10.24;\n      this.hero.position.y = 0;\n    }\n  }\n\n  _shrink() {\n    const DELTA_SCALE = 0.005;\n    const HORIZON_DELTA_SCALE = 0.002;\n    const HEAD_DELTA = 0.03;\n    const MIN_SCALE = 0.55;\n    this.scale -= DELTA_SCALE;\n    this.scale = Math.max(MIN_SCALE, this.scale);\n\n    if (this.scale <= MIN_SCALE) {\n      return;\n    }\n\n    this.body.scale.y = this.scale;\n    this.body.scale.x += HORIZON_DELTA_SCALE;\n    this.body.scale.z += HORIZON_DELTA_SCALE;\n    this.head.position.y -= HEAD_DELTA;\n    const bottleDeltaY = HEAD_DELTA / 2;\n    const deltaY = this.blockHeight * DELTA_SCALE / 2;\n    this.hero.position.y -= bottleDeltaY + deltaY * 2;\n  }\n\n  _jump(tickTime) {\n    const t = tickTime / 1000;\n    this.flyingTime = this.flyingTime + t;\n    const translateH = this.velocity.vx * t;\n    const translateY = this.velocity.vy * t - 0.5 * this.gravity * t * t - this.gravity * this.flyingTime * t;\n    this.instance.translateY(translateY);\n    this.instance.translateOnAxis(this.axis, translateH);\n  }\n\n  forerake() {\n    this.status = common["f" /* STATUS */].FORERAKE;\n    this.instance.position.y = common["a" /* BLOCKCONFIG */].height / 2;\n    setTimeout(() => {\n      if (this.direction === 0) {\n        customAnimation.to(this.instance.rotation, .5, {\n          z: -Math.PI / 2\n        });\n      }\n\n      if (this.direction === 1) {\n        customAnimation.to(this.instance.rotation, .5, {\n          x: -Math.PI / 2\n        });\n      }\n\n      setTimeout(() => {\n        customAnimation.to(this.instance.position, 0.2, {\n          y: -common["a" /* BLOCKCONFIG */].height / 2 + 2\n        });\n      }, 350);\n    }, 200);\n  }\n\n  hypsokinesis() {\n    this.status = common["f" /* STATUS */].HYPSOKINESIS;\n    this.instance.position.y = common["a" /* BLOCKCONFIG */].height / 2;\n    setTimeout(() => {\n      if (this.direction === 0) {\n        customAnimation.to(this.instance.rotation, .5, {\n          z: Math.PI / 2\n        });\n      }\n\n      if (this.direction === 1) {\n        customAnimation.to(this.instance.rotation, .5, {\n          x: Math.PI / 2\n        });\n      }\n\n      setTimeout(() => {\n        customAnimation.to(this.instance.position, 0.2, {\n          y: -common["a" /* BLOCKCONFIG */].height / 2 + 2\n        });\n      }, 150);\n    }, 200);\n  }\n\n  fall() {\n    this.status = common["f" /* STATUS */].FALL;\n    console.log(\'fall\');\n    customAnimation.to(this.instance.position, 0.2, {\n      y: -common["a" /* BLOCKCONFIG */].height / 2\n    });\n  }\n\n  update() {\n    if (this.status === common["f" /* STATUS */].SKRINK) {\n      this._shrink();\n    } else if (this.status === common["f" /* STATUS */].JUMP) {\n      const tickTime = Date.now() - this.lastFrameTime;\n\n      this._jump(tickTime);\n    }\n\n    this.lastFrameTime = Date.now();\n  }\n\n}\n\n/* harmony default export */ var part_bottle = (new bottle_Bottle());\n// CONCATENATED MODULE: ./src/utils/index.js\n/* harmony default export */ var utils = ({\n  pointInPolygon(point, vs) {\n    var x = point[0],\n        y = point[1];\n    var inside = false;\n    const xMin = vs[0][0] > vs[2][0] ? vs[2][0] : vs[0][0];\n    const xMax = vs[0][0] < vs[2][0] ? vs[2][0] : vs[0][0];\n    const yMin = vs[0][1] > vs[1][1] ? vs[1][1] : vs[0][1];\n    const yMax = vs[0][1] < vs[1][1] ? vs[1][1] : vs[0][1];\n\n    if (x > xMin && x < xMax && y > yMin && y < yMax) {\n      inside = true;\n    }\n\n    return inside;\n  },\n\n  merge(totalGeometry, geometry, index, positions) {\n    for (var i = 0, len = geometry.faces.length; i < len; ++i) {\n      geometry.faces[i].materialIndex = 0;\n    }\n\n    var mesh = new THREE.Mesh(geometry);\n\n    for (var i = 0, len = positions.length; i < len; ++i) {\n      mesh.position.set(positions[i].x, positions[i].y, positions[i].z);\n      mesh.updateMatrix();\n      totalGeometry.merge(mesh.geometry, mesh.matrix, index);\n    }\n  },\n\n  mapUv(textureWidth, textureHeight, geometry, faceIdx, x1, y1, x2, y2, flag) {\n    var tileUvW = 1 / textureWidth;\n    var tileUvH = 1 / textureHeight;\n\n    if (geometry.faces[faceIdx] instanceof THREE.Face3) {\n      var UVs = geometry.faceVertexUvs[0][faceIdx * 2];\n\n      if (faceIdx == 4 && !flag) {\n        UVs[0].x = x1 * tileUvW;\n        UVs[0].y = y1 * tileUvH;\n        UVs[2].x = x1 * tileUvW;\n        UVs[2].y = y2 * tileUvH;\n        UVs[1].x = x2 * tileUvW;\n        UVs[1].y = y1 * tileUvH;\n      } else {\n        UVs[0].x = x1 * tileUvW;\n        UVs[0].y = y1 * tileUvH;\n        UVs[1].x = x1 * tileUvW;\n        UVs[1].y = y2 * tileUvH;\n        UVs[2].x = x2 * tileUvW;\n        UVs[2].y = y1 * tileUvH;\n      }\n\n      var UVs = geometry.faceVertexUvs[0][faceIdx * 2 + 1];\n\n      if (faceIdx == 4 && !flag) {\n        UVs[2].x = x1 * tileUvW;\n        UVs[2].y = y2 * tileUvH;\n        UVs[1].x = x2 * tileUvW;\n        UVs[1].y = y2 * tileUvH;\n        UVs[0].x = x2 * tileUvW;\n        UVs[0].y = y1 * tileUvH;\n      } else {\n        UVs[0].x = x1 * tileUvW;\n        UVs[0].y = y2 * tileUvH;\n        UVs[1].x = x2 * tileUvW;\n        UVs[1].y = y2 * tileUvH;\n        UVs[2].x = x2 * tileUvW;\n        UVs[2].y = y1 * tileUvH;\n      }\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./src/part/font.js\nconst font = {\n  "glyphs": {\n    "0": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 696,\n      "o": "m 0 868 l 696 868 l 696 693 l 0 693 l 0 868 m 696 0 l 0 0 l 0 175 l 696 175 l 696 0 m 0 694 l 175 694 l 175 174 l 0 174 l 0 694 m 521 694 l 696 694 l 696 174 l 521 174 l 521 694 z "\n    },\n    "1": {\n      "ha": 521,\n      "x_min": 0,\n      "x_max": 347,\n      "o": "m 174 0 l 347 0 l 347 868 l 0 868 l 0 694 l 174 694 l 174 0 z "\n    },\n    "2": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 0 868 l 0 694 l 521 694 l 521 521 l 0 521 l 0 0 l 694 0 l 694 174 l 174 174 l 174 347 l 694 347 l 694 868 l 0 868 z "\n    },\n    "3": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 694 0 l 694 868 l 0 868 l 0 694 l 521 694 l 521 521 l 0 521 l 0 347 l 521 347 l 521 174 l 0 174 l 0 0 l 694 0 z "\n    },\n    "4": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 521 347 l 174 347 l 174 868 l 0 868 l 0 174 l 521 174 l 521 0 l 694 0 l 694 868 l 521 868 l 521 347 z "\n    },\n    "5": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 694 694 l 694 868 l 0 868 l 0 347 l 521 347 l 521 174 l 0 174 l 0 0 l 694 0 l 694 521 l 174 521 l 174 694 l 694 694 z "\n    },\n    "6": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 0 869 l 175 869 l 175 0 l 0 0 l 0 869 m 174 519 l 694 519 l 694 346 l 174 346 l 174 519 m 174 869 l 519 869 l 519 694 l 174 694 l 174 869 m 174 174 l 694 174 l 694 0 l 174 0 l 174 174 m 521 347 l 694 347 l 694 174 l 521 174 l 521 347 z "\n    },\n    "7": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 0 868 l 0 694 l 521 694 l 521 521 l 694 521 l 694 868 l 0 868 m 347 347 l 521 347 l 521 521 l 347 521 l 347 347 m 174 0 l 347 0 l 347 347 l 174 347 l 174 0 z "\n    },\n    "8": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 0 868 l 174 868 l 174 0 l 0 0 l 0 868 m 521 868 l 694 868 l 694 0 l 521 0 l 521 868 m 174 174 l 521 174 l 521 0 l 174 0 l 174 174 m 174 868 l 521 868 l 521 693 l 174 693 l 174 868 m 174 521 l 521 521 l 521 346 l 174 346 l 174 521 z "\n    },\n    "9": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 696,\n      "o": "m 0 521 l 696 521 l 696 346 l 0 346 l 0 521 m 0 868 l 694 868 l 694 694 l 0 694 l 0 868 m 0 696 l 175 696 l 175 519 l 0 519 l 0 696 m 521 696 l 694 696 l 694 521 l 521 521 l 521 696 m 521 349 l 696 349 l 696 -1 l 521 -1 l 521 349 m 174 174 l 521 174 l 521 -1 l 174 -1 l 174 174 z "\n    },\n    "+": {\n      "ha": 694,\n      "x_min": 0,\n      "x_max": 521,\n      "o": "m 174 174 l 347 174 l 347 347 l 521 347 l 521 521 l 347 521 l 347 694 l 174 694 l 174 521 l 0 521 l 0 347 l 174 347 l 174 174 z "\n    },\n    "了": {\n      "ha": 1389,\n      "x_min": 72,\n      "x_max": 1278,\n      "o": "m 659 954 q 1092 1246 891 1096 l 72 1246 l 72 1358 l 1278 1358 l 1278 1225 q 781 899 1035 1058 l 781 400 q 730 216 781 266 q 544 159 680 161 q 323 164 469 159 q 301 293 315 231 q 534 277 437 278 q 659 400 659 275 l 659 954 z "\n    },\n    "住": {\n      "ha": 1389,\n      "x_min": 18,\n      "x_max": 1364,\n      "o": "m 423 279 l 841 279 l 841 694 l 502 694 l 502 793 l 841 793 l 841 1122 l 464 1122 l 464 1221 l 1324 1221 l 1324 1122 l 949 1122 l 949 793 l 1286 793 l 1286 694 l 949 694 l 949 279 l 1364 279 l 1364 180 l 423 180 l 423 279 m 18 788 q 346 1462 235 1084 l 457 1430 q 339 1135 401 1274 l 339 129 l 233 129 l 233 926 q 64 670 152 783 q 18 788 45 730 m 773 1407 l 860 1462 q 996 1287 935 1373 l 897 1225 q 773 1407 837 1325 z "\n    },\n    "力": {\n      "ha": 1389,\n      "x_min": 30,\n      "x_max": 1265,\n      "o": "m 87 1154 l 526 1154 q 532 1458 530 1303 l 650 1458 q 643 1154 647 1314 l 1265 1154 q 1234 406 1249 625 q 985 170 1217 172 q 716 175 873 170 q 696 302 711 228 l 700 302 q 974 288 876 286 q 1119 433 1105 290 q 1143 1044 1135 677 l 640 1044 q 528 513 628 690 q 110 132 420 315 q 30 235 72 180 q 415 567 323 399 q 522 1044 510 720 l 87 1044 l 87 1154 z "\n    },\n    "太": {\n      "ha": 1389,\n      "x_min": 19,\n      "x_max": 1367,\n      "o": "m 19 229 q 616 1019 548 514 l 43 1019 l 43 1123 l 624 1123 q 629 1453 629 1260 l 747 1453 q 743 1123 747 1280 l 1344 1123 l 1344 1019 l 749 1019 q 1367 262 891 467 q 1270 155 1303 199 q 694 878 831 401 q 102 129 581 411 q 19 229 75 164 m 540 408 l 625 476 q 817 267 723 372 l 720 190 q 540 408 636 297 z "\n    },\n    "好": {\n      "ha": 1389,\n      "x_min": 24,\n      "x_max": 1370,\n      "o": "m 591 376 l 511 290 q 358 430 434 362 q 90 145 258 275 q 27 232 61 187 q 283 496 189 349 q 79 671 176 590 q 168 1073 127 842 l 24 1073 l 24 1173 l 184 1173 q 227 1459 206 1309 l 336 1444 q 290 1173 312 1295 l 547 1173 l 547 1086 q 414 521 515 718 q 591 376 503 449 m 545 849 l 918 849 l 918 1061 q 1165 1268 1053 1175 l 594 1268 l 594 1366 l 1314 1366 l 1314 1260 q 1025 1015 1168 1135 l 1025 849 l 1370 849 l 1370 751 l 1025 751 l 1025 316 q 850 152 1025 152 q 673 156 793 152 q 655 263 666 206 q 836 251 777 252 q 918 332 918 251 l 918 751 l 545 751 l 545 849 m 442 1073 l 271 1073 q 189 699 224 812 l 332 585 q 442 1073 423 774 z "\n    },\n    "很": {\n      "ha": 1389,\n      "x_min": 22,\n      "x_max": 1370,\n      "o": "m 552 1381 l 1248 1381 l 1248 716 l 1145 716 l 1145 750 l 886 750 q 1002 526 928 627 q 1248 688 1134 605 l 1313 604 q 1058 457 1188 528 q 1370 235 1183 323 q 1287 138 1331 191 q 785 750 902 370 l 655 750 l 655 297 q 899 408 753 336 q 921 308 909 351 q 658 175 825 267 q 579 117 617 151 l 507 210 q 552 316 552 254 l 552 1381 m 22 650 q 395 1111 245 842 l 488 1058 q 343 844 419 944 l 343 123 l 239 123 l 239 715 q 69 545 157 623 q 22 650 49 600 m 1145 1289 l 655 1289 l 655 1112 l 1145 1112 l 1145 1289 m 28 1070 q 376 1458 243 1234 l 469 1404 q 79 972 312 1164 q 28 1070 54 1024 m 655 841 l 1145 841 l 1145 1021 l 655 1021 l 655 841 z "\n    },\n    "快": {\n      "ha": 1389,\n      "x_min": 18,\n      "x_max": 1354,\n      "o": "m 407 779 l 768 779 q 783 1115 779 891 l 499 1115 l 499 1210 l 784 1210 q 784 1447 784 1317 l 891 1447 q 890 1210 891 1320 l 1221 1210 l 1221 779 l 1354 779 l 1354 684 l 914 684 q 1345 232 1025 374 q 1256 127 1312 199 q 840 623 948 302 q 442 117 758 317 q 363 208 397 175 q 754 684 688 399 l 407 684 l 407 779 m 209 1447 l 311 1447 l 311 1149 l 363 1184 q 515 994 452 1086 l 435 936 q 311 1108 376 1028 l 311 122 l 209 122 l 209 1447 m 1115 1115 l 888 1115 q 876 779 886 899 l 1115 779 l 1115 1115 m 77 1135 l 168 1122 q 109 776 148 959 q 18 798 71 785 q 77 1135 50 937 z "\n    },\n    "棒": {\n      "ha": 1389,\n      "x_min": 8,\n      "x_max": 1375,\n      "o": "m 487 423 l 837 423 l 837 557 l 605 557 l 605 636 q 456 517 538 574 q 385 595 434 545 q 654 841 556 701 l 449 841 l 449 926 l 705 926 q 749 1039 732 981 l 528 1039 l 528 1124 l 770 1124 q 789 1236 781 1177 l 488 1236 l 488 1321 l 798 1321 q 806 1457 803 1386 l 906 1457 q 898 1321 903 1386 l 1312 1321 l 1312 1236 l 888 1236 q 871 1124 882 1176 l 1275 1124 l 1275 1039 l 852 1039 q 814 926 838 982 l 1366 926 l 1366 841 l 1085 841 q 1375 621 1191 690 q 1313 530 1341 576 q 1161 632 1229 575 l 1161 557 l 936 557 l 936 423 l 1290 423 l 1290 338 l 936 338 l 936 122 l 837 122 l 837 338 l 487 338 l 487 423 m 8 609 q 206 1101 130 807 l 24 1101 l 24 1195 l 209 1195 l 209 1459 l 304 1459 l 304 1195 l 461 1195 l 461 1101 l 304 1101 l 304 869 l 353 909 q 472 769 419 834 l 401 711 q 304 840 359 772 l 304 123 l 209 123 l 209 886 q 52 490 141 642 q 8 609 34 549 m 837 760 l 936 760 l 936 643 l 1147 643 q 989 841 1050 730 l 770 841 q 612 643 709 736 l 837 643 l 837 760 z "\n    },\n    "稳": {\n      "ha": 1389,\n      "x_min": 7,\n      "x_max": 1386,\n      "o": "m 530 690 l 1183 690 l 1183 808 l 556 808 l 556 897 l 1183 897 l 1183 1013 l 559 1013 l 559 1099 l 540 1080 q 461 1146 506 1112 q 711 1469 614 1286 l 817 1449 q 749 1339 784 1393 l 1153 1339 l 1153 1252 q 1042 1104 1099 1179 l 1286 1104 l 1286 551 l 1183 551 l 1183 600 l 530 600 l 530 690 m 7 519 q 214 964 134 696 l 31 964 l 31 1058 l 222 1058 l 222 1275 q 58 1261 141 1268 q 39 1358 52 1303 q 484 1402 260 1371 l 506 1303 q 323 1284 415 1293 l 323 1058 l 492 1058 l 492 964 l 323 964 l 323 802 l 378 845 q 524 682 456 766 l 444 617 q 323 772 385 701 l 323 125 l 222 125 l 222 726 q 53 407 152 538 q 7 519 33 464 m 640 519 l 743 519 l 743 327 q 830 248 743 248 l 960 248 q 1061 316 1046 248 q 1081 442 1073 370 q 1184 401 1126 422 q 1154 274 1171 332 q 990 156 1124 156 l 810 156 q 640 321 640 156 l 640 519 m 1031 1251 l 689 1251 q 564 1104 629 1172 l 925 1104 q 1031 1251 982 1181 m 494 519 l 585 487 q 477 217 538 345 q 385 259 434 240 q 494 519 449 374 m 1177 477 l 1264 517 q 1386 274 1340 372 l 1293 229 q 1177 477 1248 339 m 795 544 l 868 594 q 1009 419 948 502 l 926 361 q 795 544 867 456 z "\n    },\n    "给": {\n      "ha": 1389,\n      "x_min": 18,\n      "x_max": 1378,\n      "o": "m 551 693 l 1237 693 l 1237 121 l 1134 121 l 1134 212 l 654 212 l 654 119 l 551 119 l 551 693 m 184 646 q 467 667 191 646 q 454 581 460 625 q 68 543 228 560 l 46 628 q 252 914 127 705 q 46 899 165 909 l 18 983 q 273 1450 134 1116 l 380 1412 q 136 991 247 1157 q 297 994 217 993 q 399 1180 346 1078 l 499 1137 q 184 646 311 823 m 1134 601 l 654 601 l 654 304 l 1134 304 l 1134 601 m 971 1450 l 943 1404 q 1378 975 1101 1145 q 1299 888 1339 936 q 886 1313 1034 1077 q 502 871 738 1063 q 423 945 476 901 q 850 1450 697 1154 l 971 1450 m 597 947 l 1191 947 l 1191 854 l 597 854 l 597 947 m 23 331 q 476 425 275 378 q 477 330 475 376 q 58 232 201 273 l 23 331 z "\n    },\n    "超": {\n      "ha": 1389,\n      "x_min": 23,\n      "x_max": 1370,\n      "o": "m 23 248 q 134 791 126 427 l 235 785 q 214 541 231 654 q 343 370 263 435 l 343 873 l 30 873 l 30 971 l 301 971 l 301 1166 l 77 1166 l 77 1264 l 301 1264 l 301 1457 l 407 1457 l 407 1264 l 609 1264 l 609 1166 l 407 1166 l 407 971 l 627 971 l 627 873 l 445 873 l 445 662 l 639 662 l 639 566 l 445 566 l 445 311 q 671 269 543 270 q 1370 274 929 264 q 1332 170 1345 214 q 637 172 922 167 q 193 408 309 180 q 83 121 153 232 q 23 248 56 184 m 711 836 l 1278 836 l 1278 351 l 1177 351 l 1177 410 l 811 410 l 811 343 l 711 343 l 711 836 m 644 1308 l 644 1398 l 1293 1398 q 1274 1086 1286 1214 q 1112 928 1259 932 q 943 932 1039 926 q 922 1039 935 981 q 1092 1024 1023 1023 q 1177 1111 1169 1024 q 1191 1308 1187 1190 l 933 1308 q 705 879 922 1001 q 640 964 680 921 q 831 1308 827 1067 l 644 1308 m 1177 745 l 811 745 l 811 500 l 1177 500 l 1177 745 z "\n    },\n    "越": {\n      "ha": 1389,\n      "x_min": 26,\n      "x_max": 1370,\n      "o": "m 26 233 q 134 791 130 422 l 228 785 q 213 538 227 652 q 339 373 262 435 l 339 873 l 30 873 l 30 966 l 298 966 l 298 1166 l 77 1166 l 77 1259 l 298 1259 l 298 1455 l 393 1455 l 393 1259 l 602 1259 l 602 1166 l 393 1166 l 393 966 l 624 966 l 624 873 l 434 873 l 434 658 l 608 658 l 608 566 l 434 566 l 434 315 q 666 269 534 270 q 1370 274 981 264 q 1332 168 1345 214 q 637 172 947 168 q 191 406 316 178 q 83 121 155 232 q 26 233 56 184 m 770 395 q 987 644 895 511 q 917 1112 933 829 l 758 1112 l 758 650 q 897 773 819 703 q 917 674 905 720 q 755 529 837 606 q 692 457 726 500 l 624 525 q 666 658 666 579 l 666 1200 l 913 1200 q 909 1459 909 1328 l 1001 1459 q 1005 1200 1000 1336 l 1340 1200 l 1340 1112 l 1009 1112 q 1058 750 1020 902 q 1180 1017 1133 878 l 1271 979 q 1093 632 1196 792 q 1154 507 1120 560 q 1202 467 1179 467 q 1230 517 1222 467 q 1253 726 1242 604 q 1347 692 1316 703 q 1318 471 1332 544 q 1215 355 1298 355 q 1088 431 1142 355 q 1027 538 1054 476 q 844 331 944 426 q 770 395 818 362 m 1074 1404 l 1145 1455 q 1278 1298 1203 1392 l 1199 1242 q 1074 1404 1130 1340 z "\n    },\n    "！": {\n      "ha": 1389,\n      "x_min": 608,\n      "x_max": 781,\n      "o": "m 761 1321 l 746 570 l 639 570 l 624 1321 l 761 1321 m 694 426 q 755 401 730 426 q 781 340 781 376 q 755 279 781 304 q 694 255 730 255 q 633 279 659 255 q 608 340 608 304 q 633 401 608 376 q 694 426 659 426 z "\n    }\n  },\n  "familyName": "Microsoft YaHei",\n  "ascender": 1636,\n  "descender": -296,\n  "underlinePosition": -119,\n  "underlineThickness": 80,\n  "boundingBox": {\n    "yMin": -186,\n    "xMin": -220,\n    "yMax": 1706,\n    "xMax": 1763\n  },\n  "resolution": 1000,\n  "original_font_information": {\n    "format": 0,\n    "copyright": "`2005 Microsoft Corporation. All rights reserved.",\n    "fontFamily": "Microsoft YaHei",\n    "fontSubfamily": "Regular",\n    "uniqueID": "Microsoft YaHei-Regular",\n    "fullName": "Microsoft YaHei",\n    "version": "Version 0.71",\n    "postScriptName": "MicrosoftYaHei",\n    "trademark": "Microsoft YaHei is either a registered trademark or a trademark of Microsoft Corporation in the United States and/or other countries.",\n    "manufacturer": "Microsoft Corporation",\n    "designer": "Founder",\n    "description": "Microsoft YaHei is a Simplified Chinese font developed by taking advantage of ClearType technology, and it provides excellent reading experience particularly onscreen. The font is very legible at small sizes.",\n    "manufacturerURL": "http://www.microsoft.com/typography",\n    "designerURL": "http://www.founder.com.cn/cn",\n    "licence": "\\r\\nNOTIFICATION OF LICENSE AGREEMENT \\r\\n\\r\\nThis font software is part of the Microsoft software product in which it was included and is provided under the end user license agreement (“EULA”) for that Microsoft software product. The terms and conditions of the EULA govern the use of font software. Please refer to the applicable Microsoft product EULA if you have any questions about how you may use this font software. Microsoft reserves all rights that are not expressly granted in the EULA. For products that may have installed this font please see the license link.\\r\\n",\n    "licenceURL": "http://www.microsoft.com/typography/fonts"\n  },\n  "cssFontWeight": "normal",\n  "cssFontStyle": "normal"\n};\n/* harmony default export */ var part_font = (font);\n// CONCATENATED MODULE: ./src/part/scoreText.js\n\nclass scoreText_Text {\n  constructor() {\n    this.font = new THREE.Font(part_font);\n    this.size = 5.0;\n    this.height = 0.1;\n    this.fillStyle = 0x666666;\n  }\n\n  init(options) {\n    this.material = new THREE.MeshBasicMaterial({\n      color: this.fillStyle,\n      transparent: true\n    });\n    if (options && options.opacity) this.material.opacity = options.opacity;\n    this.options = options || {};\n    const geometry = new THREE.TextGeometry(\'0\', {\n      \'font\': this.font,\n      \'size\': this.size,\n      \'height\': this.height\n    });\n    this.instance = new THREE.Mesh(geometry, this.material);\n    this.instance.name = \'scoreText\';\n  }\n\n  updateScore(score) {\n    const scoreStr = score.toString();\n    this.instance = new THREE.Mesh(new THREE.TextGeometry(scoreStr, {\n      \'font\': this.font,\n      \'size\': this.size,\n      \'height\': this.height\n    }), this.material);\n  }\n\n}\n// CONCATENATED MODULE: ./public/audio/scale_intro.mp3\n/* harmony default export */ var scale_intro = (__webpack_require__.p + "audio/scale_intro.c2b27c52.mp3");\n// CONCATENATED MODULE: ./public/audio/scale_loop.mp3\n/* harmony default export */ var scale_loop = (__webpack_require__.p + "audio/scale_loop.063fe658.mp3");\n// CONCATENATED MODULE: ./public/audio/start.mp3\n/* harmony default export */ var audio_start = (__webpack_require__.p + "audio/start.15c19cae.mp3");\n// CONCATENATED MODULE: ./public/audio/fall_1.mp3\n/* harmony default export */ var fall_1 = (__webpack_require__.p + "audio/fall_1.e50746ce.mp3");\n// CONCATENATED MODULE: ./public/audio/fall_2.mp3\n/* harmony default export */ var fall_2 = (__webpack_require__.p + "audio/fall_2.f0310012.mp3");\n// CONCATENATED MODULE: ./src/audiomanager/index.js\n\n\n\n\n\n\n\nconst audioList = [{\n  key: "scaleIntro",\n  source: scale_intro\n}, {\n  key: "scaleLoop",\n  source: scale_loop\n}, {\n  key: "audioStart",\n  source: audio_start\n}, {\n  key: "audioFall1",\n  source: fall_1\n}, {\n  key: "audioFall2",\n  source: fall_2\n}];\n\nclass audiomanager_AudioManager {\n  constructor() {\n    this.scaleLoopBuffer = "";\n    this.scaleIntroBuffer = "";\n    this.audioComboBuffer = "";\n    this.num = 0;\n  }\n\n  init() {\n    this.listener = new THREE.AudioListener();\n    this.sound = new THREE.Audio(this.listener);\n    this.sound.setVolume(.8);\n\n    this.sound.onEnded = () => {\n      this.sound.stop();\n\n      if (part_bottle.status === common["f" /* STATUS */].SKRINK) {\n        this.sound.setBuffer(this.scaleLoopBuffer);\n        this.sound.setLoop(true);\n        this.sound.play();\n      }\n    };\n\n    return new Promise((resolve, reject) => {\n      audioList.map(item => {\n        const {\n          key,\n          source\n        } = item;\n        let loader = new THREE.AudioLoader();\n        loader.load(source, buffer => {\n          this[`${key}Buffer`] = buffer;\n          this.num++;\n\n          if (this.num >= audioList.length - 1) {\n            resolve();\n          }\n        });\n      });\n    });\n  }\n\n  shrinkPlay() {\n    this.sound.stop();\n    this.sound.setBuffer(this.scaleIntroBuffer);\n    this.sound.setLoop(false);\n    this.sound.play();\n  }\n\n  shrinkStop() {\n    this.sound.stop();\n  }\n\n  startPlay() {\n    this.sound.setBuffer(this.audioStartBuffer);\n    this.sound.setLoop(false);\n    this.sound.play();\n  }\n\n  fallBlockPlay() {\n    this.sound.stop();\n    this.sound.setBuffer(this.audioFall2Buffer);\n    this.sound.setLoop(false);\n    this.sound.play();\n  }\n\n  fallPlanePlay() {\n    this.sound.stop();\n    this.sound.setBuffer(this.audioFall1Buffer);\n    this.sound.setLoop(false);\n    this.sound.play();\n  }\n\n}\n\n/* harmony default export */ var audiomanager = (new audiomanager_AudioManager());\n// CONCATENATED MODULE: ./src/stage/stage-game-main.js\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\nconst HIT_NEXT_BLOCK_NORMAL = 1;\nconst HIT_BLOCK_CURRENT = 2;\nconst GAME_OVER_NEXT_BLOCK_FRONT = 3;\nconst GAME_OVER_CURRENT_BLOCK_BACK = 4;\nconst GAME_OVER_NEXT_BLOCK_BACK = 5;\nconst GAME_OVER_BOTH = 6;\nconst HIT_NEXT_BLOCK_CENTER = 7;\nclass stage_game_main_StageGameMain {\n  constructor(callback) {\n    _defineProperty(this, "onTouchStart", e => {\n      console.log(\'touch start\');\n      if (this.state !== \'stop\') return;\n      this.touchStartTime = Date.now();\n      audiomanager.shrinkPlay();\n      this.bottle.shrink();\n      this.currentBlock.shrink();\n    });\n\n    _defineProperty(this, "onTouchEnd", e => {\n      console.log(\'touch end\');\n      if (this.state !== \'stop\') return;\n      if (this.touchStartTime === 0) return;\n      audiomanager.shrinkStop();\n      this.touchEndTime = Date.now();\n      const duration = this.touchEndTime - this.touchStartTime;\n      this.touchStartTime = 0;\n      this.bottle.velocity.vx = Math.min(duration / 6, 120);\n      this.bottle.velocity.vx = +this.bottle.velocity.vx.toFixed(2);\n      this.bottle.velocity.vy = Math.min(150 + duration / 30, 300);\n      this.bottle.velocity.vy = +this.bottle.velocity.vy.toFixed(2);\n      this.state = "jump";\n      this.hit = this.getHitStatus(this.bottle, this.currentBlock, this.nextBlock, common["a" /* BLOCKCONFIG */].height / 2 - (1 - this.currentBlock.instance.scale.y) * common["a" /* BLOCKCONFIG */].height);\n      this.checkingHit = true;\n      this.currentBlock.rebound();\n      this.bottle.rotate();\n      this.bottle.jump();\n    });\n\n    this.callback = callback;\n  }\n\n  init() {\n    console.log(`GameMain init`);\n    const {\n      canvas\n    } = common["g" /* common */];\n    this.canvas = canvas;\n    this.score = 0;\n    this.scene = src_scene;\n    this.ground = ground;\n    this.bottle = part_bottle;\n    this.gravity = common["g" /* common */].gravity;\n    this.scoreText = new scoreText_Text();\n    this.scoreText.init();\n    this.scene.init();\n    this.ground.init();\n    this.bottle.init();\n    audiomanager.init().then(() => {\n      this.addBottle();\n    });\n    this.addGround();\n    this.addInitBlock();\n    this.addScore();\n    this.render();\n  }\n\n  restart() {\n    console.log(\'restart Game\');\n    this.score = 0;\n    this.state = \'\';\n    this.deleteObjectsFromScene();\n    this.scene.reset();\n    this.bottle.reset();\n    this.ground.reset();\n    this.updateScore(0);\n    this.addInitBlock();\n    this.addGround();\n    this.addBottle();\n  }\n\n  addInitBlock() {\n    const scene = this.scene.instance;\n    this.currentBlock = new cuboid_CuboidBlock(-15, 0, 0);\n    this.nextBlock = new cylinder_CylinderBlock(23, 0, 0);\n    scene.add(this.currentBlock.instance);\n    scene.add(this.nextBlock.instance);\n    const initDirection = 0;\n    this.targetPosition = this.nextBlock.instance.position;\n    this.setDirection(initDirection);\n  }\n\n  addScore() {\n    this.scene.addScore(this.scoreText.instance);\n  }\n\n  updateScore(score) {\n    this.scoreText.updateScore(score);\n    this.scene.updateScore(this.scoreText.instance);\n  }\n\n  addGround() {\n    const scene = this.scene.instance;\n    scene.add(this.ground.instance);\n  }\n\n  addBottle() {\n    const scene = this.scene.instance;\n    audiomanager.startPlay();\n    scene.add(this.bottle.instance);\n    this.bottle.show().then(() => {\n      this.addTouchEvent();\n      this.state = \'stop\';\n      console.log(\'show end\');\n    });\n  }\n\n  addTouchEvent() {\n    this.canvas.addEventListener("touchstart", this.onTouchStart, false);\n    this.canvas.addEventListener("touchend", this.onTouchEnd, false);\n  }\n\n  removeTouchEvent() {\n    this.canvas.removeEventListener("touchstart", this.onTouchStart, false);\n    this.canvas.removeEventListener("touchend", this.onTouchEnd, false);\n  }\n\n  setDirection(direction) {\n    const currentPosition = {\n      x: this.bottle.instance.position.x,\n      z: this.bottle.instance.position.z\n    };\n    this.axis = new THREE.Vector3(this.targetPosition.x - currentPosition.x, 0, this.targetPosition.z - currentPosition.z);\n    this.axis.normalize();\n    this.bottle.setDirection(direction, this.axis);\n  }\n\n  render() {\n    if (this.currentBlock) {\n      this.currentBlock.update();\n    }\n\n    if (this.visible) {\n      this.scene.render();\n    }\n\n    this.checkBottleHit();\n\n    if (this.bottle) {\n      this.bottle.update();\n    }\n\n    requestAnimationFrame(this.render.bind(this));\n  }\n\n  show() {\n    console.log(`GameMain show`);\n    this.visible = true;\n  }\n\n  hide() {\n    console.log(`GameNain hide`);\n    this.visible = false;\n  }\n\n  deleteObjectsFromScene() {\n    let obj = this.scene.instance.getObjectByName(\'block\');\n\n    while (obj) {\n      this.scene.instance.remove(obj);\n\n      if (obj.geometry) {\n        obj.geometry.dispose();\n      }\n\n      if (obj.material) {\n        obj.material.dispose();\n      }\n\n      obj = this.scene.instance.getObjectByName(\'block\');\n    }\n\n    this.scene.instance.remove(this.bottle.instance);\n    this.scene.instance.remove(this.ground.instance);\n  }\n\n  checkBottleHit() {\n    if (this.checkingHit && this.bottle.instance.position.y <= common["a" /* BLOCKCONFIG */].height / 2 + 0.1 && this.bottle.status === \'jump\' && this.bottle.flyingTime > 0.3) {\n      this.checkingHit = false;\n\n      if (this.hit === HIT_NEXT_BLOCK_NORMAL || this.hit === HIT_NEXT_BLOCK_CENTER) {\n        this.state = \'stop\';\n        this.bottle.stop();\n        this.bottle.instance.position.y = common["a" /* BLOCKCONFIG */].height / 2;\n        this.bottle.instance.position.x = this.bottle.destination[0];\n        this.bottle.instance.position.z = this.bottle.destination[1];\n        this.updateScore(++this.score);\n        this.updateNextBlock();\n      } else if (this.hit === HIT_BLOCK_CURRENT) {\n        this.state = \'stop\';\n        this.bottle.stop();\n        this.bottle.instance.position.y = common["a" /* BLOCKCONFIG */].height / 2;\n        this.bottle.instance.position.x = this.bottle.destination[0];\n        this.bottle.instance.position.z = this.bottle.destination[1];\n      } else {\n        if (this.hit === GAME_OVER_CURRENT_BLOCK_BACK || this.hit === GAME_OVER_NEXT_BLOCK_BACK) {\n          stopAllAnimation();\n          this.bottle.stop();\n          this.bottle.forerake();\n          audiomanager.fallBlockPlay();\n        } else if (this.hit === GAME_OVER_NEXT_BLOCK_FRONT) {\n          stopAllAnimation();\n          this.bottle.stop();\n          this.bottle.hypsokinesis();\n          audiomanager.fallBlockPlay();\n        } else {\n          stopAllAnimation();\n          this.bottle.stop();\n          this.bottle.fall();\n          audiomanager.fallPlanePlay();\n        }\n\n        this.state = \'over\';\n        this.removeTouchEvent();\n        setTimeout(() => {\n          this.callback.showGameOverStage();\n        }, 1500);\n      }\n    }\n  }\n\n  getHitStatus(bottle, currentBlock, nextBlock, initY) {\n    let flyingTime = bottle.velocity.vy / this.gravity * 2;\n    initY = initY || +bottle.instance.position.y.toFixed(2);\n    let destinationY = common["a" /* BLOCKCONFIG */].height / 2;\n    let differenceY = destinationY;\n    let time = +((-bottle.velocity.vy + Math.sqrt(Math.pow(bottle.velocity.vy, 2) - 2 * this.gravity * differenceY)) / -this.gravity).toFixed(2);\n    flyingTime -= time;\n    flyingTime = +flyingTime.toFixed(2);\n    let destination = [];\n    let bottlePosition = new THREE.Vector2(bottle.instance.position.x, bottle.instance.position.z);\n    let translate = new THREE.Vector2(this.axis.x, this.axis.z).setLength(bottle.velocity.vx * flyingTime);\n    bottlePosition.add(translate);\n    bottle.destination = [+bottlePosition.x.toFixed(2), +bottlePosition.y.toFixed(2)];\n    destination.push(+bottlePosition.x.toFixed(2), +bottlePosition.y.toFixed(2));\n    let result1, result2;\n\n    if (nextBlock) {\n      let nextDiff = Math.pow(destination[0] - nextBlock.instance.position.x, 2) + Math.pow(destination[1] - nextBlock.instance.position.z, 2);\n      let nextPolygon = nextBlock.getVertices();\n\n      if (utils.pointInPolygon(destination, nextPolygon)) {\n        if (Math.abs(nextDiff) < 5) {\n          return HIT_NEXT_BLOCK_NORMAL;\n        } else {\n          return HIT_NEXT_BLOCK_CENTER;\n        }\n      } else if (utils.pointInPolygon([destination[0] - this.bottle.width, destination[1]], nextPolygon) || utils.pointInPolygon([destination[0], destination[1] + this.bottle.depth / 2], nextPolygon)) {\n        result1 = GAME_OVER_NEXT_BLOCK_BACK;\n      } else if (utils.pointInPolygon([destination[0], destination[1] - this.bottle.depth / 2], nextPolygon) || utils.pointInPolygon([destination[0] + this.bottle.depth / 2, destination[1]], nextPolygon)) {\n        result1 = GAME_OVER_NEXT_BLOCK_FRONT;\n      }\n    }\n\n    let currentPolygon = currentBlock.getVertices();\n\n    if (utils.pointInPolygon(destination, currentPolygon)) {\n      return HIT_BLOCK_CURRENT;\n    } else if (utils.pointInPolygon([destination[0], destination[1] + this.bottle.depth], currentPolygon) || utils.pointInPolygon([destination[0] - this.bottle.width / 2, destination[1]], currentPolygon)) {\n      if (result1) return GAME_OVER_BOTH;\n      return GAME_OVER_CURRENT_BLOCK_BACK;\n    }\n\n    return result1 || result2 || 0;\n  }\n\n  updateNextBlock() {\n    const seed = Math.round(Math.random());\n    const type = seed ? \'cuboid\' : \'cylinder\';\n    const direction = Math.round(Math.random());\n    const width = Math.round(Math.random() * 6) + 10;\n    const distance = Math.round(Math.random() * 25) + 20;\n    this.currentBlock = this.nextBlock;\n    const targetPosition = this.targetPosition = {};\n\n    if (direction === 0) {\n      targetPosition.x = this.currentBlock.instance.position.x + distance;\n      targetPosition.y = this.currentBlock.instance.position.y;\n      targetPosition.z = this.currentBlock.instance.position.z;\n    }\n\n    if (direction === 1) {\n      targetPosition.x = this.currentBlock.instance.position.x;\n      targetPosition.y = this.currentBlock.instance.position.y;\n      targetPosition.z = this.currentBlock.instance.position.z - distance;\n    }\n\n    this.setDirection(direction);\n\n    if (type === common["b" /* BLOCKTYPE */].CUBOID) {\n      this.nextBlock = new cuboid_CuboidBlock(targetPosition.x, targetPosition.y, targetPosition.z, \'popup\', width);\n    } else if (type === common["b" /* BLOCKTYPE */].CYLINDER) {\n      this.nextBlock = new cylinder_CylinderBlock(targetPosition.x, targetPosition.y, targetPosition.z, \'popup\', width);\n    }\n\n    this.scene.instance.add(this.nextBlock.instance);\n    const cameraTargetPosition = {\n      x: (this.currentBlock.instance.position.x + this.nextBlock.instance.position.x) / 2,\n      y: (this.currentBlock.instance.position.y + this.nextBlock.instance.position.y) / 2,\n      z: (this.currentBlock.instance.position.z + this.nextBlock.instance.position.z) / 2\n    };\n    this.scene.updateCameraPosition(cameraTargetPosition);\n    this.ground.updatePosition(cameraTargetPosition);\n  }\n\n}\n// CONCATENATED MODULE: ./public/images/replay.png\n/* harmony default export */ var replay = (__webpack_require__.p + "images/replay.d180fbab.png");\n// CONCATENATED MODULE: ./src/stage/stage-game-over.js\nfunction stage_game_over_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nclass stage_game_over_StageGameOver {\n  constructor(callback) {\n    stage_game_over_defineProperty(this, "addTouchEvent", e => {\n      this.canvas.addEventListener(\'touchend\', this.onTouchEnd.bind(this), true);\n    });\n\n    stage_game_over_defineProperty(this, "removeTouchEvent", e => {\n      this.canvas.removeEventListener(\'touchend\', this.onTouchEnd.bind(this), true);\n    });\n\n    this.callback = callback;\n    const {\n      canvas\n    } = common["g" /* common */];\n    this.canvas = canvas;\n    this.score = 0;\n  }\n\n  init() {\n    console.log(`GameOver init`);\n    this.render();\n  }\n\n  render() {\n    const {\n      width,\n      height,\n      aspect\n    } = common["g" /* common */];\n    const canvas = document.createElement("canvas");\n    canvas.width = width;\n    canvas.height = height;\n    this.context = canvas.getContext(\'2d\');\n    this.context.fillStyle = \'rgba(0,0,0,.7)\';\n    this.context.fillRect((width - 200) / 2, (height - 200) / 2, 200, 200);\n    this.context.fillStyle = \'#eee\';\n    this.context.font = \'22px Georgia\';\n    this.context.fillText(\'Game Over\', (width - 200) / 2 + 45, (height - 200) / 2 + 55);\n    this.replay_btn = new Image();\n\n    this.replay_btn.onload = () => {\n      this.context.drawImage(this.replay_btn, width / 2 - 60, (height - 200) / 2 + 125, 120, 47);\n    };\n\n    this.replay_btn.src = replay;\n    this.texture = new THREE.Texture(canvas);\n    this.material = new THREE.MeshBasicMaterial({\n      map: this.texture,\n      transparent: true // side: THREE.DoubleSide\n\n    });\n    this.geometry = new THREE.PlaneGeometry(60, 60 * aspect);\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\n    this.mesh.position.z = 20;\n    this.mesh.visible = false;\n    this.texture.needsUpdate = true;\n    src_scene.camera.instance.add(this.mesh);\n  }\n\n  show() {\n    console.log(`GameOver show`);\n    this.mesh.visible = true;\n    this.score = this.callback.getScore();\n    this.addTouchEvent();\n  }\n\n  hide() {\n    console.log(`GameOver hide`);\n    this.mesh.visible = false;\n    this.removeTouchEvent();\n    console.log(\'------------\');\n  }\n\n  onTouchEnd(e) {\n    if (!this.mesh.visible) return;\n    this.callback.restartGame();\n  }\n\n}\n// CONCATENATED MODULE: ./src/game/stage.js\n\n\n\nclass stage_GameStage {\n  constructor() {}\n\n  getScore() {\n    return this.stage_game_main.score;\n  }\n\n  showGameOverStage() {\n    this.stage_game_over.show();\n  }\n\n  showGameMainStage() {\n    this.stage_game_main.show();\n    this.stage_game_over.hide();\n  }\n\n  restartGame() {\n    this.stage_game_main.show();\n    this.stage_game_over.hide();\n    this.stage_game_main.restart();\n  }\n\n  initMainStage(callback) {\n    this.stage_game_main = new stage_game_main_StageGameMain(callback);\n    this.stage_game_main.init();\n  }\n\n  initOverStage(callback) {\n    this.stage_game_over = new stage_game_over_StageGameOver(callback);\n    this.stage_game_over.init();\n  }\n\n}\n\n/* harmony default export */ var stage = (new stage_GameStage());\n// CONCATENATED MODULE: ./src/game/controller.js\n\n\n\n\nclass controller_GameController {\n  constructor() {\n    this.game_model = model;\n    this.game_stage = stage;\n    this.game_model.changeStage.attach((sender, args) => {\n      switch (args.stage) {\n        case common["e" /* STAGEGROUP */].GAMEOVER:\n          this.game_stage.showGameOverStage();\n          break;\n\n        case common["e" /* STAGEGROUP */].GAMEMAIN:\n          this.game_stage.showGameMainStage();\n          break;\n\n        default:\n          break;\n      }\n    });\n  }\n\n  initController() {\n    this.game_stage.initMainStage({\n      showGameOverStage: () => this.game_model.setStage(common["e" /* STAGEGROUP */].GAMEOVER)\n    });\n    this.game_stage.initOverStage({\n      restartGame: () => this.game_stage.restartGame(),\n      getScore: () => this.game_stage.getScore()\n    });\n    this.game_model.setStage(common["e" /* STAGEGROUP */].GAMEMAIN); // setTimeout(()=>{\n    //     this.game_model.setStage(STAGEGROUP.GAMEOVER)\n    // },3000)\n  }\n\n}\n\n/* harmony default export */ var controller = (new controller_GameController());\n// CONCATENATED MODULE: ./src/game/index.js\n\n\nlet app = document.getElementById("app");\nlet game_canvas = document.createElement("canvas");\nlet game_width = app.clientWidth,\n    game_height = app.clientHeight;\nconst game_aspect = game_height / game_width;\ngame_canvas.width = game_width;\ngame_canvas.height = game_height;\napp.append(game_canvas);\ncommon["g" /* common */].canvas = game_canvas;\ncommon["g" /* common */].width = game_width;\ncommon["g" /* common */].height = game_height;\ncommon["g" /* common */].aspect = game_aspect;\n\nclass game_Game {\n  constructor() {}\n\n  init() {\n    controller.initController();\n  }\n\n}\n\n/* harmony default export */ var game = (new game_Game());\n// CONCATENATED MODULE: ./src/main.js\n\n\nclass main_Main {\n  constructor() {}\n\n  static init() {\n    game.init();\n  }\n\n}\n\n/* harmony default export */ var main = (main_Main);\n// CONCATENATED MODULE: ./app.js\n\n\n!function () {\n  main.init();\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9ldmVudC5qcz80MmE1Iiwid2VicGFjazovLy8uL3NyYy9nYW1lL21vZGVsLmpzPzdkMDAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3R3ZWVuLmpzP2FlM2UiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2FuaW1hdGlvbi5qcz9hOTIzIiwid2VicGFjazovLy8uL3NyYy9zY2VuZS9jYW1lcmEuanM/MzNhOCIsIndlYnBhY2s6Ly8vLi9zcmMvc2NlbmUvbGlnaHQuanM/Mjc1ZCIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydC9iYWNrZ3JvdW5kLmpzP2Q0YjYiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lL2luZGV4LmpzPzRiMWIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2Jhc2UuanM/ZTE5MyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY3Vib2lkLmpzP2E4ZDAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2N5bGluZGVyLmpzP2RlMjgiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnQvZ3JvdW5kLmpzPzYwM2MiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2ltYWdlcy9oZWFkLnBuZz8zMTlhIiwid2VicGFjazovLy8uL3B1YmxpYy9pbWFnZXMvYm90dG9tLnBuZz8yYTZkIiwid2VicGFjazovLy8uL3B1YmxpYy9pbWFnZXMvdG9wLnBuZz84OTQ5Iiwid2VicGFjazovLy8uL3NyYy9wYXJ0L2JvdHRsZS5qcz85NzAzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9pbmRleC5qcz9lZDA4Iiwid2VicGFjazovLy8uL3NyYy9wYXJ0L2ZvbnQuanM/ZmJkNiIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydC9zY29yZVRleHQuanM/MmQyNCIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXVkaW8vc2NhbGVfaW50cm8ubXAzPzY0MWEiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2F1ZGlvL3NjYWxlX2xvb3AubXAzPzcwZWIiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2F1ZGlvL3N0YXJ0Lm1wMz8wNTY1Iiwid2VicGFjazovLy8uL3B1YmxpYy9hdWRpby9mYWxsXzEubXAzPzRlOGQiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2F1ZGlvL2ZhbGxfMi5tcDM/YTY2MiIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW9tYW5hZ2VyL2luZGV4LmpzPzQ4NmQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YWdlL3N0YWdlLWdhbWUtbWFpbi5qcz9mYTIzIiwid2VicGFjazovLy8uL3B1YmxpYy9pbWFnZXMvcmVwbGF5LnBuZz9kZWFhIiwid2VicGFjazovLy8uL3NyYy9zdGFnZS9zdGFnZS1nYW1lLW92ZXIuanM/ZTgzOSIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9zdGFnZS5qcz82MjgyIiwid2VicGFjazovLy8uL3NyYy9nYW1lL2NvbnRyb2xsZXIuanM/NThlNiIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9pbmRleC5qcz9hMWI4Iiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzPzU2ZDciLCJ3ZWJwYWNrOi8vLy4vYXBwLmpzPzlhNzgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnQge1xyXG4gICAgY29uc3RydWN0b3Ioc2VuZGVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2VuZGVyID0gc2VuZGVyO1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgYXR0YWNoKGNhbGxiYWNrID0gbnVsbCkge1xyXG4gICAgICAgIGlmIChjYWxsYmFjayA9PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgbm90aWZ5KGFyZ3MpIHtcclxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtKHRoaXMuX3NlbmRlciwgYXJncyk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgRXZlbnQgZnJvbSAnQHV0aWxzL2V2ZW50JztcclxuXHJcbmNsYXNzIEdhbWVNb2RlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnN0YWdlID0gXCJcIjtcclxuICAgICAgICB0aGlzLmNoYW5nZVN0YWdlID0gbmV3IEV2ZW50KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgZ2V0U3RhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhZ2U7XHJcbiAgICB9XHJcbiAgICBzZXRTdGFnZShzdGFnZSkge1xyXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcclxuICAgICAgICB0aGlzLmNoYW5nZVN0YWdlLm5vdGlmeSh7XHJcbiAgICAgICAgICAgIHN0YWdlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEdhbWVNb2RlbCgpIiwidmFyIFR3ZWVuID0ge1xuICBMaW5lYXI6IGZ1bmN0aW9uIExpbmVhcih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqIHQgLyBkICsgYjtcbiAgfSxcbiAgUXVhZDoge1xuICAgICAgZWFzZUluOiBmdW5jdGlvbiBlYXNlSW4odCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlT3V0OiBmdW5jdGlvbiBlYXNlT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24gZWFzZUluT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoLS10ICogKHQgLSAyKSAtIDEpICsgYjtcbiAgICAgIH1cbiAgfSxcbiAgQ3ViaWM6IHtcbiAgICAgIGVhc2VJbjogZnVuY3Rpb24gZWFzZUluKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uIGVhc2VPdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24gZWFzZUluT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcbiAgICAgIH1cbiAgfSxcbiAgUXVhcnQ6IHtcbiAgICAgIGVhc2VJbjogZnVuY3Rpb24gZWFzZUluKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlT3V0OiBmdW5jdGlvbiBlYXNlT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gLWMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0IC0gMSkgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24gZWFzZUluT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcbiAgICAgIH1cbiAgfSxcbiAgUXVpbnQ6IHtcbiAgICAgIGVhc2VJbjogZnVuY3Rpb24gZWFzZUluKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZU91dDogZnVuY3Rpb24gZWFzZU91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlSW5PdXQ6IGZ1bmN0aW9uIGVhc2VJbk91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xuICAgICAgfVxuICB9LFxuICBTaW5lOiB7XG4gICAgICBlYXNlSW46IGZ1bmN0aW9uIGVhc2VJbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uIGVhc2VPdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbiBlYXNlSW5PdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgICAgIH1cbiAgfSxcbiAgRXhwbzoge1xuICAgICAgZWFzZUluOiBmdW5jdGlvbiBlYXNlSW4odCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiB0ID09IDAgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQgLyBkIC0gMSkpICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlT3V0OiBmdW5jdGlvbiBlYXNlT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gdCA9PSBkID8gYiArIGMgOiBjICogKC1NYXRoLnBvdygyLCAtMTAgKiB0IC8gZCkgKyAxKSArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbiBlYXNlSW5PdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICAgIGlmICh0ID09IGQpIHJldHVybiBiICsgYztcbiAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSArIGI7XG4gICAgICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuICAgICAgfVxuICB9LFxuICBDaXJjOiB7XG4gICAgICBlYXNlSW46IGZ1bmN0aW9uIGVhc2VJbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlT3V0OiBmdW5jdGlvbiBlYXNlT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24gZWFzZUluT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcbiAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xuICAgICAgfVxuICB9LFxuICBFbGFzdGljOiB7XG4gICAgICBlYXNlSW46IGZ1bmN0aW9uIGVhc2VJbih0LCBiLCBjLCBkLCBhLCBwKSB7XG4gICAgICAgICAgdmFyIHM7XG4gICAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7XG4gICAgICAgICAgaWYgKCh0IC89IGQpID09IDEpIHJldHVybiBiICsgYztcbiAgICAgICAgICBpZiAodHlwZW9mIHAgPT0gXCJ1bmRlZmluZWRcIikgcCA9IGQgKiAuMztcbiAgICAgICAgICBpZiAoIWEgfHwgYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgICAgICAgIHMgPSBwIC8gNDtcbiAgICAgICAgICAgICAgYSA9IGM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlT3V0OiBmdW5jdGlvbiBlYXNlT3V0KHQsIGIsIGMsIGQsIGEsIHApIHtcbiAgICAgICAgICB2YXIgcztcbiAgICAgICAgICBpZiAodCA9PSAwKSByZXR1cm4gYjtcbiAgICAgICAgICBpZiAoKHQgLz0gZCkgPT0gMSkgcmV0dXJuIGIgKyBjO1xuICAgICAgICAgIGlmICh0eXBlb2YgcCA9PSBcInVuZGVmaW5lZFwiKSBwID0gZCAqIC4zO1xuICAgICAgICAgIGlmICghYSB8fCBhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgICAgYSA9IGM7XG4gICAgICAgICAgICAgIHMgPSBwIC8gNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKyBjICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlSW5PdXQ6IGZ1bmN0aW9uIGVhc2VJbk91dCh0LCBiLCBjLCBkLCBhLCBwKSB7XG4gICAgICAgICAgdmFyIHM7XG4gICAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7XG4gICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA9PSAyKSByZXR1cm4gYiArIGM7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwID09IFwidW5kZWZpbmVkXCIpIHAgPSBkICogKC4zICogMS41KTtcbiAgICAgICAgICBpZiAoIWEgfHwgYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgICBzID0gcCAvIDQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHQgPCAxKSByZXR1cm4gLS41ICogKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG4gICAgICAgICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSAqIC41ICsgYyArIGI7XG4gICAgICB9XG4gIH0sXG4gIEJhY2s6IHtcbiAgICAgIGVhc2VJbjogZnVuY3Rpb24gZWFzZUluKHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHMgPT0gXCJ1bmRlZmluZWRcIikgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZU91dDogZnVuY3Rpb24gZWFzZU91dCh0LCBiLCBjLCBkLCBzKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBzID09IFwidW5kZWZpbmVkXCIpIHMgPSAxLjcwMTU4O1xuICAgICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDEpICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlSW5PdXQ6IGZ1bmN0aW9uIGVhc2VJbk91dCh0LCBiLCBjLCBkLCBzKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBzID09IFwidW5kZWZpbmVkXCIpIHMgPSAxLjcwMTU4O1xuICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiAodCAqIHQgKiAoKChzICo9IDEuNTI1KSArIDEpICogdCAtIHMpKSArIGI7XG4gICAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0ICsgcykgKyAyKSArIGI7XG4gICAgICB9XG4gIH0sXG4gIEJvdW5jZToge1xuICAgICAgZWFzZUluOiBmdW5jdGlvbiBlYXNlSW4odCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiBjIC0gVHdlZW4uQm91bmNlLmVhc2VPdXQoZCAtIHQsIDAsIGMsIGQpICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlT3V0OiBmdW5jdGlvbiBlYXNlT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICBpZiAoKHQgLz0gZCkgPCAxIC8gMi43NSkge1xuICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodCA8IDIgLyAyLjc1KSB7XG4gICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDEuNSAvIDIuNzUpICogdCArIC43NSkgKyBiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodCA8IDIuNSAvIDIuNzUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi4yNSAvIDIuNzUpICogdCArIC45Mzc1KSArIGI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi42MjUgLyAyLjc1KSAqIHQgKyAuOTg0Mzc1KSArIGI7XG4gICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24gZWFzZUluT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICBpZiAodCA8IGQgLyAyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBUd2Vlbi5Cb3VuY2UuZWFzZUluKHQgKiAyLCAwLCBjLCBkKSAqIC41ICsgYjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gVHdlZW4uQm91bmNlLmVhc2VPdXQodCAqIDIgLSBkLCAwLCBjLCBkKSAqIC41ICsgYyAqIC41ICsgYjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFR3ZWVuOyIsImltcG9ydCBUd2VlbiBmcm9tICcuL3R3ZWVuJ1xudmFyIGFuaW1hdGlvbklkID0gLTFcbnZhciBraWxsQW5pbWF0aW9uSWQgPSBhbmltYXRpb25JZCAtIDFcblxudmFyIF9jdXN0b21BbmltYXRpb24gPSB7fTtcblxuX2N1c3RvbUFuaW1hdGlvbi50byA9IGZ1bmN0aW9uIChvYmosIGR1cmF0aW9uLCBvcHRpb25zKSB7XG4gICAgZHVyYXRpb24gKj0gMTAwMDtcbiAgICB2YXIgZGVsYXkgPSBvcHRpb25zLmRlbGF5IHx8IDA7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnZGVsYXknKSB7XG4gICAgICAgICAgICBkZWxheSA9IG9wdGlvbnNbbmFtZV07XG4gICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ29uQ29tcGxldGUnKSB7IH0gZWxzZSBpZiAobmFtZSA9PT0gJ2Vhc2UnKSB7IH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgVHdlZW5BbmltYXRpb24ob2JqW25hbWVdLCBvcHRpb25zW25hbWVdLCBkdXJhdGlvbiwgb3B0aW9ucy5lYXNlIHx8ICdMaW5lYXInLCBmdW5jdGlvbiAodmFsdWUsIGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25Db21wbGV0ZSAmJiBvcHRpb25zLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0obmFtZSksIGRlbGF5ICogMTAwMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy8g5a+56L+Q5Yqo5pa55rOV6L+b6KGM5bCB6KOFXG52YXIgX1R3ZWVuQW5pbWF0aW9uID0gZnVuY3Rpb24gVHdlZW5BbmltYXRpb24oZnJvbSwgdG8sIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGZBbmltYXRpb25JZCA9ICsrYW5pbWF0aW9uSWQ7XG4gICAgdmFyIGlzVW5kZWZpbmVkID0gZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09ICd1bmRlZmluZWQnO1xuICAgIH07XG4gICAgdmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nO1xuICAgIH07XG4gICAgdmFyIGlzTnVtYmVyID0gZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09ICdudW1iZXInO1xuICAgIH07XG4gICAgdmFyIGlzU3RyaW5nID0gZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09ICdzdHJpbmcnO1xuICAgIH07XG5cbiAgICAvLyDovazmjaLmiJDmr6vnp5JcbiAgICB2YXIgdG9NaWxsaXNlY29uZCA9IGZ1bmN0aW9uIHRvTWlsbGlzZWNvbmQob2JqKSB7XG4gICAgICAgIGlmIChpc051bWJlcihvYmopKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKG9iaikpIHtcbiAgICAgICAgICAgIGlmICgvXFxkK20/cyQvLnRlc3Qob2JqKSkge1xuICAgICAgICAgICAgICAgIGlmICgvbXMvLnRlc3Qob2JqKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMSAqIG9iai5yZXBsYWNlKCdtcycsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEwMDAgKiBvYmoucmVwbGFjZSgncycsICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL15cXGQrJC8udGVzdChvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICtvYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbiAgICBpZiAoIWlzTnVtYmVyKGZyb20pIHx8ICFpc051bWJlcih0bykpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdmcm9t5ZKMdG/kuKTkuKrlj4LmlbDlv4XpobvkuJTkuLrmlbDlgLwnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvLyDnvJPliqjnrpfms5VcbiAgICB2YXIgdHdlZW4gPSBUd2VlblxuXG4gICAgaWYgKCF0d2Vlbikge1xuICAgICAgICBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+e8k+WKqOeul+azleWHveaVsOe8uuWksScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNr5Z2H5Li65Y+v6YCJ5Y+C5pWwXG4gICAgLy8g6ICM5LiU6aG65bqP5Y+v5Lul5Lu75oSPXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgIGVhc2luZzogJ0xpbmVhcicsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHsgfVxuICAgIH07XG5cbiAgICB2YXIgc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIHNldE9wdGlvbnMob2JqKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2sgPSBvYmo7XG4gICAgICAgIH0gZWxzZSBpZiAodG9NaWxsaXNlY29uZChvYmopICE9IC0xKSB7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gdG9NaWxsaXNlY29uZChvYmopO1xuICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKG9iaikpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZWFzaW5nID0gb2JqO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzZXRPcHRpb25zKGR1cmF0aW9uKTtcbiAgICBzZXRPcHRpb25zKGVhc2luZyk7XG4gICAgc2V0T3B0aW9ucyhjYWxsYmFjayk7XG5cbiAgICAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWXnmoTlhbzlrrnlpITnkIZcbiAgICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZuKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZuLCAxNi43KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyDnrpfms5XpnIDopoHnmoTlh6DkuKrlj5jph49cbiAgICB2YXIgc3RhcnQgPSAtMTtcbiAgICAvLyBkdXJpbmfmoLnmja7orr7nva7nmoTmgLvml7bpl7TorqHnrpdcbiAgICB2YXIgZHVyaW5nID0gTWF0aC5jZWlsKG9wdGlvbnMuZHVyYXRpb24gLyAxNi43KTtcblxuICAgIC8vIOW9k+WJjeWKqOeUu+eul+azlVxuICAgIC8vIOehruS/nemmluWtl+avjeWkp+WGmVxuICAgIG9wdGlvbnMuZWFzaW5nID0gb3B0aW9ucy5lYXNpbmcuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIG9wdGlvbnMuZWFzaW5nLnNsaWNlKDEpO1xuICAgIHZhciBhcnJLZXlUd2VlbiA9IG9wdGlvbnMuZWFzaW5nLnNwbGl0KCcuJyk7XG4gICAgdmFyIGZuR2V0VmFsdWU7XG5cbiAgICBpZiAoYXJyS2V5VHdlZW4ubGVuZ3RoID09IDEpIHtcbiAgICAgICAgZm5HZXRWYWx1ZSA9IHR3ZWVuW2FycktleVR3ZWVuWzBdXTtcbiAgICB9IGVsc2UgaWYgKGFycktleVR3ZWVuLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgIGZuR2V0VmFsdWUgPSB0d2VlblthcnJLZXlUd2VlblswXV0gJiYgdHdlZW5bYXJyS2V5VHdlZW5bMF1dW2FycktleVR3ZWVuWzFdXTtcbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24oZm5HZXRWYWx1ZSkgPT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign5rKh5pyJ5om+5Yiw5ZCN5Li6XCInICsgb3B0aW9ucy5lYXNpbmcgKyAnXCLnmoTliqjnlLvnrpfms5UnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZhciBsYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgLy8g6L+Q5YqoXG4gICAgdmFyIHN0ZXAgPSBmdW5jdGlvbiBzdGVwKCkge1xuXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBpbnRlcnZhbCA9IGN1cnJlbnRUaW1lIC0gbGFzdFRpbWU7XG5cbiAgICAgICAgaWYgKGludGVydmFsKSB7XG4gICAgICAgICAgICB2YXIgZnBzID0gTWF0aC5jZWlsKDEwMDAgLyBpbnRlcnZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICBpZiAoaW50ZXJ2YWwgPiAxMDApIHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcHMgPj0gMzApIHtcbiAgICAgICAgICAgIHN0YXJ0Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgX3N0YXJ0ID0gTWF0aC5mbG9vcigoY3VycmVudFRpbWUgLSBzdGFydFRpbWUpIC8gMTYuNyk7XG4gICAgICAgICAgICBzdGFydCA9IF9zdGFydCA+IHN0YXJ0ID8gX3N0YXJ0IDogc3RhcnQgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5b2T5YmN55qE6L+Q5Yqo5L2N572uXG5cbiAgICAgICAgdmFyIHZhbHVlID0gZm5HZXRWYWx1ZShzdGFydCwgZnJvbSwgdG8gLSBmcm9tLCBkdXJpbmcpO1xuXG4gICAgICAgIC8vIOWmguaenOi/mOayoeaciei/kOWKqOWIsOS9je+8jOe7p+e7rVxuICAgICAgICBpZiAoc3RhcnQgPD0gZHVyaW5nICYmIHNlbGZBbmltYXRpb25JZCA+IGtpbGxBbmltYXRpb25JZCkge1xuICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayh2YWx1ZSk7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhcnQgPiBkdXJpbmcgJiYgc2VsZkFuaW1hdGlvbklkID4ga2lsbEFuaW1hdGlvbklkKSB7XG4gICAgICAgICAgICAvLyDliqjnlLvnu5PmnZ/vvIzov5nph4zlj6/ku6Xmj5LlhaXlm57osIMuLi5cbiAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2sodG8sIHRydWUpO1xuICAgICAgICB9IGVsc2UgeyB9XG4gICAgfTtcbiAgICAvLyDlvIDlp4vmiafooYzliqjnlLtcbiAgICBzdGVwKCk7XG59O1xuXG52YXIgX3N0b3BBbGxBbmltYXRpb24gPSAoKSA9PiB7XG4gICAga2lsbEFuaW1hdGlvbklkID0gYW5pbWF0aW9uSWQ7XG59XG5cbmV4cG9ydCBjb25zdCBjdXN0b21BbmltYXRpb24gPSBfY3VzdG9tQW5pbWF0aW9uO1xuZXhwb3J0IGNvbnN0IFR3ZWVuQW5pbWF0aW9uID0gX1R3ZWVuQW5pbWF0aW9uO1xuZXhwb3J0IGNvbnN0IHN0b3BBbGxBbmltYXRpb24gPSBfc3RvcEFsbEFuaW1hdGlvbjtcbiIsImltcG9ydCB7IGNvbW1vbiB9IGZyb20gJ0B1dGlscy9jb21tb24nO1xyXG5pbXBvcnQgeyBjdXN0b21BbmltYXRpb259IGZyb20gJ0B1dGlscy9hbmltYXRpb24nO1xyXG5cclxuXHJcbmNsYXNzIENhbWVyYSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmZydXN0dW1TaXplID0gMzA7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGNvbnN0IHsgYXNwZWN0IH0gPSBjb21tb247XHJcbiAgICAgICAgbGV0IGZydXN0dW1TaXplID0gdGhpcy5mcnVzdHVtU2l6ZTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtZnJ1c3R1bVNpemUsIGZydXN0dW1TaXplLCBmcnVzdHVtU2l6ZSAqIGFzcGVjdCwgLWZydXN0dW1TaXplICogYXNwZWN0LCAtMTAwLCA4NSk7XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UubG9va0F0KHRoaXMudGFyZ2V0KTtcclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIC8vLTEwLDEwLDEwXHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi5zZXQoLTEwLCAxMCwgMTApO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVQb3NpdGlvbihuZXdUYXJnZXRQb3NpdGlvbikge1xyXG4gICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnBvc2l0aW9uLCAwLjUsIHsgeDogbmV3VGFyZ2V0UG9zaXRpb24ueCAtIDEwLCB5OiBuZXdUYXJnZXRQb3NpdGlvbi55ICsgMTAsIHo6IG5ld1RhcmdldFBvc2l0aW9uLnogKyAxMCB9KVxyXG4gICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLnRhcmdldCwgMC41LCB7IHg6IG5ld1RhcmdldFBvc2l0aW9uLngsIHk6IG5ld1RhcmdldFBvc2l0aW9uLnksIHo6IG5ld1RhcmdldFBvc2l0aW9uLnogfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IENhbWVyYSgpOyIsIlxyXG5pbXBvcnQgeyBjdXN0b21BbmltYXRpb24gfSBmcm9tICdAdXRpbHMvYW5pbWF0aW9uJztcclxuXHJcbmNsYXNzIExpZ2h0IHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuaW5zdGFuY2VzID0ge307XHJcbiAgfVxyXG4gIGluaXQoKSB7XHJcbiAgICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAwLjgpO1xyXG4gICAgY29uc3Qgc2hhZG93TGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgMC4zKTtcclxuICAgIHRoaXMuc2hhZG93TGlnaHQgPSBzaGFkb3dMaWdodDtcclxuICAgIC8vIGNvbnN0IHNoYWRvd0xpZ2h0SGVscGVyID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHRIZWxwZXIoc2hhZG93TGlnaHQsNSk7XHJcbiAgICAvLyB0aGlzLmluc3RhbmNlcy5zaGFkb3dMaWdodEhlbHBlciA9IHNoYWRvd0xpZ2h0SGVscGVyO1xyXG4gICAgc2hhZG93TGlnaHQucG9zaXRpb24uc2V0KDEwLCAzMCwgMjApO1xyXG4gICAgc2hhZG93TGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICB2YXIgYmFzaWNNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweEY1RjVGNSB9KTtcclxuICAgIHRoaXMuc2hhZG93VGFyZ2V0ID0gbmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMC4xLCAwLjEpLCBiYXNpY01hdGVyaWFsKTtcclxuICAgIHRoaXMuc2hhZG93VGFyZ2V0LnZpc2libGUgPSBmYWxzZTtcclxuICAgIHRoaXMuc2hhZG93VGFyZ2V0Lm5hbWUgPSAnc2hhZG93VGFyZ2V0JztcclxuICAgIHNoYWRvd0xpZ2h0LnRhcmdldCA9IHRoaXMuc2hhZG93VGFyZ2V0O1xyXG4gICAgc2hhZG93TGlnaHQuc2hhZG93LmNhbWVyYS5uZWFyID0gMC41O1xyXG4gICAgc2hhZG93TGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSA1MDA7XHJcbiAgICBzaGFkb3dMaWdodC5zaGFkb3cuY2FtZXJhLmxlZnQgPSAtMTAwO1xyXG4gICAgc2hhZG93TGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IDEwMDtcclxuICAgIHNoYWRvd0xpZ2h0LnNoYWRvdy5jYW1lcmEudG9wID0gMTAwO1xyXG4gICAgc2hhZG93TGlnaHQuc2hhZG93LmNhbWVyYS5ib3R0b20gPSAtMTAwO1xyXG4gICAgc2hhZG93TGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSAxMDI0O1xyXG4gICAgc2hhZG93TGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNDtcclxuICAgIHRoaXMuaW5zdGFuY2VzLnNoYWRvd0xpZ2h0ID0gc2hhZG93TGlnaHQ7XHJcbiAgICB0aGlzLmluc3RhbmNlcy5hbWJpZW50TGlnaHQgPSBhbWJpZW50TGlnaHQ7XHJcbiAgICB0aGlzLmluc3RhbmNlcy5zaGFkb3dUYXJnZXQgPSB0aGlzLnNoYWRvd1RhcmdldDtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVBvc2l0aW9uKHRhcmdldFBvc2l0aW9uKSB7XHJcbiAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5zaGFkb3dUYXJnZXQucG9zaXRpb24sIDAuNSwgeyB4OiB0YXJnZXRQb3NpdGlvbi54LCB5OiB0YXJnZXRQb3NpdGlvbi55LCB6OiB0YXJnZXRQb3NpdGlvbi56IH0pO1xyXG4gICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuc2hhZG93TGlnaHQucG9zaXRpb24sIDAuNSwgeyB4OiAxMCArIHRhcmdldFBvc2l0aW9uLngsIHk6IDMwICsgdGFyZ2V0UG9zaXRpb24ueSwgejogMjAgKyB0YXJnZXRQb3NpdGlvbi56IH0pO1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLnNoYWRvd0xpZ2h0LnBvc2l0aW9uLnNldCgxMCwgMzAsIDIwKTtcclxuICAgIHRoaXMuc2hhZG93VGFyZ2V0LnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBMaWdodCgpOyIsIlxyXG5pbXBvcnQgY2FtZXJhIGZyb20gJ0BzY2VuZS9jYW1lcmEnO1xyXG5pbXBvcnQgeyBjb21tb24gfSBmcm9tICdAdXRpbHMvY29tbW9uJztcclxuXHJcbmNsYXNzIEJhY2tncm91bmQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5mcnVzdHVtU2l6ZSA9IGNhbWVyYS5mcnVzdHVtU2l6ZTtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjb21tb247XHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSh0aGlzLmZydXN0dW1TaXplICogMiwgdGhpcy5mcnVzdHVtU2l6ZSAqIDIgKiBoZWlnaHQgLyB3aWR0aCk7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICBjb2xvcjogMHhmNWY1ZjUsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbWVzaDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEJhY2tncm91bmQoKTsiLCJpbXBvcnQgeyBjb21tb24gfSBmcm9tICdAdXRpbHMvY29tbW9uJ1xyXG5pbXBvcnQgY2FtZXJhIGZyb20gJy4vY2FtZXJhJztcclxuaW1wb3J0IGxpZ2h0IGZyb20gJy4vbGlnaHQnO1xyXG5pbXBvcnQgYmFja2dyb3VuZCBmcm9tICdAcGFydC9iYWNrZ3JvdW5kJztcclxuXHJcblxyXG5jbGFzcyBTY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGNhbnZhcyB9ID0gY29tbW9uO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XHJcbiAgICAgICAgICAgIGNhbnZhcyxcclxuICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxyXG4gICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUsXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTaGFkb3dNYXA7XHJcbiAgICAgICAgLy8gdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKG5ldyBUSFJFRS5Db2xvcigweGZmZmZmZikpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYTtcclxuICAgICAgICB0aGlzLmNhbWVyYS5pbml0KCk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHQgPSBsaWdodDtcclxuICAgICAgICB0aGlzLmxpZ2h0LmluaXQoKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5heGVzSGVscGVyID0gbmV3IFRIUkVFLkF4ZXNIZWxwZXIoMTAwKTtcclxuICAgICAgICAvLyB0aGlzLmluc3RhbmNlLmFkZCh0aGlzLmF4ZXNIZWxwZXIpO1xyXG5cclxuICAgICAgICB0aGlzLmluc3RhbmNlLmFkZCh0aGlzLmNhbWVyYS5pbnN0YW5jZSk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMubGlnaHQuaW5zdGFuY2VzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpZ2h0Lmluc3RhbmNlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLmFkZCh0aGlzLmxpZ2h0Lmluc3RhbmNlc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC5pbnN0YW5jZS5wb3NpdGlvbi56ID0gLTg0O1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmluc3RhbmNlLmFkZCh0aGlzLmJhY2tncm91bmQuaW5zdGFuY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLmluc3RhbmNlLCB0aGlzLmNhbWVyYS5pbnN0YW5jZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ2FtZXJhUG9zaXRpb24odGFyZ2V0UG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQb3NpdGlvbih0YXJnZXRQb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5saWdodC51cGRhdGVQb3NpdGlvbih0YXJnZXRQb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnJlc2V0KClcclxuICAgICAgICB0aGlzLmxpZ2h0LnJlc2V0KClcclxuICAgIH1cclxuXHJcbiAgICBhZGRTY29yZSAoc2NvcmVJbnN0YW5jZSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNjb3JlID0gc2NvcmVJbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmNhbWVyYS5pbnN0YW5jZS5hZGQoc2NvcmVJbnN0YW5jZSk7XHJcbiAgICAgICAgc2NvcmVJbnN0YW5jZS5wb3NpdGlvbi54ID0gLTI0O1xyXG4gICAgICAgIHNjb3JlSW5zdGFuY2UucG9zaXRpb24ueSA9IDQwO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgdXBkYXRlU2NvcmUgKHNjb3JlSW5zdGFuY2UpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYS5pbnN0YW5jZS5yZW1vdmUodGhpcy5jdXJyZW50U2NvcmUpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNjb3JlID0gc2NvcmVJbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmNhbWVyYS5pbnN0YW5jZS5hZGQoc2NvcmVJbnN0YW5jZSk7XHJcbiAgICAgICAgc2NvcmVJbnN0YW5jZS5wb3NpdGlvbi54ID0gLTI0O1xyXG4gICAgICAgIHNjb3JlSW5zdGFuY2UucG9zaXRpb24ueSA9IDQwO1xyXG4gICAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgU2NlbmUoKTsiLCJpbXBvcnQgeyBCTE9DS0NPTkZJRyxTVEFUVVMgfSBmcm9tIFwiQHV0aWxzL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBjdXN0b21BbmltYXRpb24gfSBmcm9tICdAdXRpbHMvYW5pbWF0aW9uJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlQmxvY2sge1xyXG4gICAgY29uc3RydWN0b3IodHlwZSkge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IEJMT0NLQ09ORklHLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gQkxPQ0tDT05GSUcuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLlNUT1A7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcG9wdXAoKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi5zZXQodGhpcy54LCB0aGlzLnkgKyAzMCwgdGhpcy56KTtcclxuICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5pbnN0YW5jZS5wb3NpdGlvbiwgMC41LCB7IHg6IHRoaXMueCwgeTogdGhpcy55LCB6OiB0aGlzLnosIGVhc2U6ICdCb3VuY2UuZWFzZU91dCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NocmluaygpIHtcclxuICAgICAgICBjb25zdCBERUxUQV9TQ0FMRSA9IDAuMDA1O1xyXG4gICAgICAgIGNvbnN0IE1JTl9TQ0FMRSA9IDAuNTU7XHJcbiAgICAgICAgdGhpcy5zY2FsZSAtPSBERUxUQV9TQ0FMRTtcclxuICAgICAgICB0aGlzLnNjYWxlID0gTWF0aC5tYXgoTUlOX1NDQUxFLCB0aGlzLnNjYWxlKTtcclxuICAgICAgICBpZiAodGhpcy5zY2FsZSA8PSBNSU5fU0NBTEUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBTVEFUVVMuU1RPUDtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluc3RhbmNlLnNjYWxlLnkgPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IHRoaXMuaGVpZ2h0ICogREVMVEFfU0NBTEUgLyAyO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueSAtPSBkZWx0YVk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVib3VuZCgpIHtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IFNUQVRVUy5TVE9QO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSAxO1xyXG4gICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnNjYWxlLCAwLjUsIHsgZWFzZTogJ0VsYXN0aWMuZWFzZU91dCcsIHk6IDEgfSk7XHJcbiAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaW5zdGFuY2UucG9zaXRpb24sIDAuNSwgeyBlYXNlOiAnRWxhc3RpYy5lYXNlT3V0JywgeTogMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHJpbmsoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBTVEFUVVMuU0tSSU5LO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFNUQVRVUy5TS1JJTkspIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hyaW5rKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFZlcnRpY2VzKCkge1xyXG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gW107XHJcbiAgICAgICAgY29uc3QgY2VudGVyUG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueCxcclxuICAgICAgICAgICAgejogdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi56XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZlcnRpY2VzLnB1c2goW2NlbnRlclBvc2l0aW9uLnggKyB0aGlzLndpZHRoIC8gMiwgY2VudGVyUG9zaXRpb24ueiArIHRoaXMud2lkdGggLyAyXSk7XHJcbiAgICAgICAgdmVydGljZXMucHVzaChbY2VudGVyUG9zaXRpb24ueCArIHRoaXMud2lkdGggLyAyLCBjZW50ZXJQb3NpdGlvbi56IC0gdGhpcy53aWR0aCAvIDJdKTtcclxuICAgICAgICB2ZXJ0aWNlcy5wdXNoKFtjZW50ZXJQb3NpdGlvbi54IC0gdGhpcy53aWR0aCAvIDIsIGNlbnRlclBvc2l0aW9uLnogKyB0aGlzLndpZHRoIC8gMl0pO1xyXG4gICAgICAgIHZlcnRpY2VzLnB1c2goW2NlbnRlclBvc2l0aW9uLnggLSB0aGlzLndpZHRoIC8gMiwgY2VudGVyUG9zaXRpb24ueiAtIHRoaXMud2lkdGggLyAyXSk7XHJcbiAgICAgICAgcmV0dXJuIHZlcnRpY2VzO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBCYXNlQmxvY2sgZnJvbSAnLi9iYXNlJztcclxuaW1wb3J0IHsgQkxPQ0tUWVBFLCBDT0xPUiB9IGZyb20gJ0B1dGlscy9jb21tb24nO1xyXG5cclxuLy8gaW1wb3J0IGltZ19zdG9vbCBmcm9tICdAaW1hZ2VzL3N0b29sLnBuZydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1Ym9pZEJsb2NrIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDAsIHR5cGUsIHNpemUpIHtcclxuICAgICAgICBzdXBlcihCTE9DS1RZUEUuQ1VCT0lEKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcImJsb2NrXCI7XHJcblxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemUgfHwgdGhpcy53aWR0aDtcclxuICAgICAgICAvLyBjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSh0aGlzLnNpemUsIHRoaXMuaGVpZ2h0LCB0aGlzLnNpemUpO1xyXG5cclxuICAgICAgICAvLyB0aGlzLnRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoaW1nX3N0b29sKTtcclxuICAgICAgICBjb25zdCBtYWluX21hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IH5+Q09MT1Jbfn4oQ09MT1IubGVuZ3RoICogTWF0aC5yYW5kb20oKSldIH0pO1xyXG4gICAgICAgIGNvbnN0IHdoaWxlX21hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IDB4ZjVmNWY1IH0pO1xyXG4gICAgICAgIGNvbnN0IHdoaWxlX2JveF9oZWlnaHQgPSAyLjI7XHJcbiAgICAgICAgY29uc3QgbWFpbl9ib3hfaGVpZ2h0ID0gKHRoaXMuaGVpZ2h0IC0gd2hpbGVfYm94X2hlaWdodCkgLyAyO1xyXG5cclxuICAgICAgICBjb25zdCBtYWluX2dlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KHRoaXMuc2l6ZSwgbWFpbl9ib3hfaGVpZ2h0LCB0aGlzLnNpemUpO1xyXG4gICAgICAgIGNvbnN0IHdoaWxlX2dlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KHRoaXMuc2l6ZSwgd2hpbGVfYm94X2hlaWdodCwgdGhpcy5zaXplKTtcclxuXHJcbiAgICAgICAgY29uc3QgdG90YWxfbWVzaCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xyXG4gICAgICAgIGNvbnN0IHRvcF9tZXNoID0gbmV3IFRIUkVFLk1lc2gobWFpbl9nZW9tZXRyeSwgbWFpbl9tYXRlcmlhbCk7XHJcbiAgICAgICAgY29uc3QgbWlkZGxlX21lc2ggPSBuZXcgVEhSRUUuTWVzaCh3aGlsZV9nZW9tZXRyeSwgd2hpbGVfbWF0ZXJpYWwpO1xyXG4gICAgICAgIGNvbnN0IGJvdHRvbV9tZXNoID0gbmV3IFRIUkVFLk1lc2gobWFpbl9nZW9tZXRyeSwgbWFpbl9tYXRlcmlhbCk7XHJcblxyXG4gICAgICAgIHRvcF9tZXNoLnBvc2l0aW9uLnkgPSAod2hpbGVfYm94X2hlaWdodCArIG1haW5fYm94X2hlaWdodCkgLyAyO1xyXG4gICAgICAgIG1pZGRsZV9tZXNoLnBvc2l0aW9uLnkgPSAwO1xyXG4gICAgICAgIGJvdHRvbV9tZXNoLnBvc2l0aW9uLnkgPSAtdG9wX21lc2gucG9zaXRpb24ueTtcclxuXHJcbiAgICAgICAgdG9wX21lc2guY2FzdFNoYWRvdyA9IG1pZGRsZV9tZXNoLmNhc3RTaGFkb3cgPSBib3R0b21fbWVzaC5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICB0b3BfbWVzaC5yZWNlaXZlU2hhZG93ID0gbWlkZGxlX21lc2gucmVjZWl2ZVNoYWRvdyA9IGJvdHRvbV9tZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgdG90YWxfbWVzaC5hZGQodG9wX21lc2gsIG1pZGRsZV9tZXNoLCBib3R0b21fbWVzaCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gdG90YWxfbWVzaDtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5uYW1lID0gdGhpcy5uYW1lO1xyXG4gICAgICAgIHRoaXMueCA9IHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0gdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi55ID0geTtcclxuICAgICAgICB0aGlzLnogPSB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnogPSB6O1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwb3B1cCcpIHtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cCgpXHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnc2hvdycpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi54ID0gdGhpcy54XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueSA9IHRoaXMueVxyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnogPSB0aGlzLnpcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEJhc2VCbG9jayBmcm9tICcuL2Jhc2UnO1xyXG5pbXBvcnQgeyBCTE9DS1RZUEUsIENPTE9SIH0gZnJvbSAnQHV0aWxzL2NvbW1vbic7XHJcblxyXG4vLyBpbXBvcnQgaW1nX3N0b29sIGZyb20gJ0BpbWFnZXMvc3Rvb2wucG5nJ1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN5bGluZGVyQmxvY2sgZXh0ZW5kcyBCYXNlQmxvY2sge1xyXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB6ID0gMCwgdHlwZSwgc2l6ZSkge1xyXG4gICAgICAgIHN1cGVyKEJMT0NLVFlQRS5DWUxJTkRFUik7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJibG9ja1wiO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemUgfHwgdGhpcy53aWR0aDtcclxuXHJcbiAgICAgICAgLy8gY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSh0aGlzLnNpemUgLyAyLCB0aGlzLnNpemUgLyAyLCB0aGlzLmhlaWdodCwgMTAwKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy50ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKGltZ19zdG9vbCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IH5+Q09MT1Jbfn4oQ09MT1IubGVuZ3RoKk1hdGgucmFuZG9tKCkpXSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbl9tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiB+fkNPTE9SW35+KENPTE9SLmxlbmd0aCAqIE1hdGgucmFuZG9tKCkpXSB9KTtcclxuICAgICAgICBjb25zdCB3aGlsZV9tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiAweGY1ZjVmNSB9KTtcclxuICAgICAgICBjb25zdCB3aGlsZV9ib3hfaGVpZ2h0ID0gMi4yO1xyXG4gICAgICAgIGNvbnN0IG1haW5fYm94X2hlaWdodCA9ICh0aGlzLmhlaWdodCAtIHdoaWxlX2JveF9oZWlnaHQpIC8gMjtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbl9nZW9tZXRyeSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KHRoaXMuc2l6ZSAvIDIsIHRoaXMuc2l6ZSAvIDIsIG1haW5fYm94X2hlaWdodCwgMTAwKTtcclxuICAgICAgICBjb25zdCB3aGlsZV9nZW9tZXRyeSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KHRoaXMuc2l6ZSAvIDIsIHRoaXMuc2l6ZSAvIDIsIHdoaWxlX2JveF9oZWlnaHQsIDEwMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRvdGFsX21lc2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcclxuICAgICAgICBjb25zdCB0b3BfbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG1haW5fZ2VvbWV0cnksIG1haW5fbWF0ZXJpYWwpO1xyXG4gICAgICAgIGNvbnN0IG1pZGRsZV9tZXNoID0gbmV3IFRIUkVFLk1lc2god2hpbGVfZ2VvbWV0cnksIHdoaWxlX21hdGVyaWFsKTtcclxuICAgICAgICBjb25zdCBib3R0b21fbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG1haW5fZ2VvbWV0cnksIG1haW5fbWF0ZXJpYWwpO1xyXG5cclxuICAgICAgICB0b3BfbWVzaC5wb3NpdGlvbi55ID0gKHdoaWxlX2JveF9oZWlnaHQgKyBtYWluX2JveF9oZWlnaHQpIC8gMjtcclxuICAgICAgICBtaWRkbGVfbWVzaC5wb3NpdGlvbi55ID0gMDtcclxuICAgICAgICBib3R0b21fbWVzaC5wb3NpdGlvbi55ID0gLXRvcF9tZXNoLnBvc2l0aW9uLnk7XHJcblxyXG4gICAgICAgIHRvcF9tZXNoLmNhc3RTaGFkb3cgPSBtaWRkbGVfbWVzaC5jYXN0U2hhZG93ID0gYm90dG9tX21lc2guY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgdG9wX21lc2gucmVjZWl2ZVNoYWRvdyA9IG1pZGRsZV9tZXNoLnJlY2VpdmVTaGFkb3cgPSBib3R0b21fbWVzaC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgIHRvdGFsX21lc2guYWRkKHRvcF9tZXNoLCBtaWRkbGVfbWVzaCwgYm90dG9tX21lc2gpO1xyXG5cclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gdG90YWxfbWVzaDtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5uYW1lID0gdGhpcy5uYW1lO1xyXG4gICAgICAgIHRoaXMueCA9IHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0gdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi55ID0geTtcclxuICAgICAgICB0aGlzLnogPSB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnogPSB6O1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BvcHVwJykge1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwKClcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzaG93Jykge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnggPSB0aGlzLnhcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi55ID0gdGhpcy55XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueiA9IHRoaXMuelxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwiXHJcbmNsYXNzIEdyb3VuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMjAwLCAyMDApO1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRvd01hdGVyaWFsKHtcclxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbG9yOiAweDAwMDAwMCxcclxuICAgICAgICAgICAgb3BhY2l0eTogMC4yXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2Uucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMjtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnkgPSAtIDY7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpe1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2Uucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMjtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnkgPSAtIDY7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi54ID0gMDtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnogPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVBvc2l0aW9uKHRhcmdldFBvc2l0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi54ID0gdGFyZ2V0UG9zaXRpb24ueFxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueiA9IHRhcmdldFBvc2l0aW9uLnpcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEdyb3VuZCgpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2hlYWQuMWZhY2RjYzEucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9ib3R0b20uMzgzNWQxOGMucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy90b3AuMTEwYzUwNDgucG5nXCI7IiwiaW1wb3J0IHsgQkxPQ0tDT05GSUcsIFNUQVRVUywgQk9UVExFQ09ORklHIH0gZnJvbSBcIkB1dGlscy9jb21tb25cIjtcclxuaW1wb3J0IGltZ19oZWFkIGZyb20gJ0BpbWFnZXMvaGVhZC5wbmcnO1xyXG5pbXBvcnQgaW1nX2JvdHRvbSBmcm9tICdAaW1hZ2VzL2JvdHRvbS5wbmcnO1xyXG5pbXBvcnQgaW1nX3RvcCBmcm9tICdAaW1hZ2VzL3RvcC5wbmcnO1xyXG5pbXBvcnQgeyBjdXN0b21BbmltYXRpb24gfSBmcm9tIFwiQHV0aWxzL2FuaW1hdGlvblwiXHJcbmltcG9ydCB7IGNvbW1vbiB9IGZyb20gXCJAdXRpbHMvY29tbW9uXCI7XHJcblxyXG5jbGFzcyBCb3R0bGUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6IH0gPSBCT1RUTEVDT05GSUc7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMueiA9IHo7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJib3R0bGVcIjtcclxuICAgICAgICB0aGlzLnJhZGl1cyA9IDEuNzg7XHJcbiAgICAgICAgdGhpcy5kZXB0aCA9IDEwLjI0O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnJhZGl1cyAqIDI7XHJcbiAgICAgICAgdGhpcy5ibG9ja0hlaWdodCA9IEJMT0NLQ09ORklHLmhlaWdodDtcclxuICAgICAgICB0aGlzLmdyYXZpdHkgPSBjb21tb24uZ3Jhdml0eTtcclxuICAgICAgICB0aGlzLmZseWluZ1RpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gMDtcclxuICAgICAgICB0aGlzLmF4aXMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gJyc7XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG5cclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcclxuICAgICAgICB0aGlzLmhlcm8gPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLm5hbWUgPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi5zZXQodGhpcy54LCB0aGlzLnkgKyAzMCwgdGhpcy56KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5oZWFkID0gdGhpcy5jcmVhdGVIZWFkKCk7XHJcbiAgICAgICAgdGhpcy5oZWFkLnBvc2l0aW9uLnkgPSAxMC4yNDtcclxuICAgICAgICB0aGlzLmhlYWQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5oZWFkLmNhc3RTaGFkb3cgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmJvZHkgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcclxuXHJcbiAgICAgICAgY29uc3QgYm90dG9tID0gdGhpcy5jcmVhdGVCb3R0b20oKTtcclxuICAgICAgICBib3R0b20ucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgYm90dG9tLmNhc3RTaGFkb3cgPSB0cnVlO1xyXG5cclxuICAgICAgICBjb25zdCBtaWRkbGUgPSB0aGlzLmNyZWF0ZU1pZGRsZSgpO1xyXG4gICAgICAgIG1pZGRsZS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICBtaWRkbGUuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgbWlkZGxlLnBvc2l0aW9uLnkgPSAzLjA2O1xyXG5cclxuICAgICAgICBjb25zdCB0b3AgPSB0aGlzLmNyZWF0ZVRvcCgpO1xyXG4gICAgICAgIHRvcC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICB0b3AuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgdG9wLnBvc2l0aW9uLnkgPSAzLjg2O1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5ib2R5LmFkZCh0b3ApO1xyXG4gICAgICAgIHRoaXMuYm9keS5hZGQobWlkZGxlKTtcclxuICAgICAgICB0aGlzLmJvZHkuYWRkKGJvdHRvbSk7XHJcblxyXG4gICAgICAgIHRoaXMuYm9keS5wb3NpdGlvbi55ID0gMS44O1xyXG5cclxuICAgICAgICB0aGlzLmhlcm8uYWRkKHRoaXMuaGVhZCk7XHJcbiAgICAgICAgdGhpcy5oZXJvLmFkZCh0aGlzLmJvZHkpO1xyXG5cclxuICAgICAgICB0aGlzLmluc3RhbmNlLmFkZCh0aGlzLmhlcm8pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUhlYWQoKSB7XHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuSWNvc2FoZWRyb25HZW9tZXRyeSh0aGlzLnJhZGl1cywgMyk7XHJcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZChpbWdfaGVhZCk7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBtYXA6IHRleHR1cmUsIGNvbG9yOiAweGZmZmZmZiB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb3R0b20oKSB7XHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSh0aGlzLnJhZGl1cyAqIDAuNzgsIHRoaXMucmFkaXVzICogMS4xNywgdGhpcy5yYWRpdXMgKiAyLjEsIDIwKTtcclxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKGltZ19ib3R0b20pO1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgbWFwOiB0ZXh0dXJlLCBjb2xvcjogMHhmZmZmZmYgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTWlkZGxlKCkge1xyXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkodGhpcy5yYWRpdXMgKiAwLjk1NSwgdGhpcy5yYWRpdXMgKiAwLjc4LCB0aGlzLnJhZGl1cyAqIDEuNDEsIDIwKTtcclxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKGltZ19ib3R0b20pO1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgbWFwOiB0ZXh0dXJlLCBjb2xvcjogMHhmZmZmZmYgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlVG9wKCkge1xyXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHRoaXMucmFkaXVzLCAzMiwgMzIsIDAsIDYuNCwgMCwgMS4zKTtcclxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKGltZ190b3ApO1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgbWFwOiB0ZXh0dXJlLCBjb2xvcjogMHhmZmZmZmYgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5pbnN0YW5jZS5wb3NpdGlvbiwgMSwge1xyXG4gICAgICAgICAgICAgICAgeDogQk9UVExFQ09ORklHLngsXHJcbiAgICAgICAgICAgICAgICB5OiBCT1RUTEVDT05GSUcueSArIHRoaXMuYmxvY2tIZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICAgICAgejogQk9UVExFQ09ORklHLnosXHJcbiAgICAgICAgICAgICAgICBlYXNlOiAnQm91bmNlLmVhc2VPdXQnLFxyXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4gcmVzb2x2ZSgpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBzZXREaXJlY3Rpb24oZGlyZWN0aW9uLCBheGlzKSB7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcbiAgICAgICAgdGhpcy5heGlzID0gYXhpcztcclxuICAgIH1cclxuICAgIHJvdGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBzY2FsZSA9IDEuMzU7XHJcbiAgICAgICAgdGhpcy5oZXJvLnJvdGF0aW9uLnogPSB0aGlzLmhlcm8ucm90YXRpb24ueCA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09IDApIHsgLy8geFxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5oZXJvLnJvdGF0aW9uLCAwLjE0LCB7IHo6IHRoaXMuaGVyby5yb3RhdGlvbi56IC0gTWF0aC5QSSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5oZXJvLnJvdGF0aW9uLCAwLjE4LCB7IHo6IHRoaXMuaGVyby5yb3RhdGlvbi56IC0gMiAqIE1hdGguUEksIGRlbGF5OiAwLjE0IH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmhlYWQucG9zaXRpb24sIDAuMSwgeyB5OiB0aGlzLmhlYWQucG9zaXRpb24ueSArIDAuOSAqIHNjYWxlLCB4OiB0aGlzLmhlYWQucG9zaXRpb24ueCArIDAuNDUgKiBzY2FsZSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5oZWFkLnBvc2l0aW9uLCAwLjEsIHsgeTogdGhpcy5oZWFkLnBvc2l0aW9uLnkgLSAwLjkgKiBzY2FsZSwgeDogdGhpcy5oZWFkLnBvc2l0aW9uLnggLSAwLjQ1ICogc2NhbGUsIGRlbGF5OiAwLjEgfSlcclxuICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaGVhZC5wb3NpdGlvbiwgMC4xNSwgeyB5OiAxMC4yNCwgeDogMCwgZGVsYXk6IDAuMjUgfSlcclxuICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuYm9keS5zY2FsZSwgMC4xLCB7IHk6IE1hdGgubWF4KHNjYWxlLCAxKSwgeDogTWF0aC5tYXgoTWF0aC5taW4oMSAvIHNjYWxlLCAxKSwgMC43KSwgejogTWF0aC5tYXgoTWF0aC5taW4oMSAvIHNjYWxlLCAxKSwgMC43KSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5ib2R5LnNjYWxlLCAwLjEsIHsgeTogTWF0aC5taW4oMC45IC8gc2NhbGUsIDAuNyksIHg6IE1hdGgubWF4KHNjYWxlLCAxLjIpLCB6OiBNYXRoLm1heChzY2FsZSwgMS4yKSwgZGVsYXk6IDAuMSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5ib2R5LnNjYWxlLCAwLjMsIHsgeTogMSwgeDogMSwgejogMSwgZGVsYXk6IDAuMiB9KVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT0gMSkgeyAvLyB6XHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmhlcm8ucm90YXRpb24sIDAuMTQsIHsgeDogdGhpcy5oZXJvLnJvdGF0aW9uLnggLSBNYXRoLlBJIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmhlcm8ucm90YXRpb24sIDAuMTgsIHsgeDogdGhpcy5oZXJvLnJvdGF0aW9uLnggLSAyICogTWF0aC5QSSwgZGVsYXk6IDAuMTQgfSlcclxuICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaGVhZC5wb3NpdGlvbiwgMC4xLCB7IHk6IHRoaXMuaGVhZC5wb3NpdGlvbi55ICsgMC45ICogc2NhbGUsIHo6IHRoaXMuaGVhZC5wb3NpdGlvbi56IC0gMC40NSAqIHNjYWxlIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmhlYWQucG9zaXRpb24sIDAuMSwgeyB6OiB0aGlzLmhlYWQucG9zaXRpb24ueiArIDAuNDUgKiBzY2FsZSwgeTogdGhpcy5oZWFkLnBvc2l0aW9uLnkgLSAwLjkgKiBzY2FsZSwgZGVsYXk6IDAuMSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5oZWFkLnBvc2l0aW9uLCAwLjE1LCB7IHk6IDEwLjI0LCB6OiAwLCBkZWxheTogMC4yNSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5ib2R5LnNjYWxlLCAwLjA1LCB7IHk6IE1hdGgubWF4KHNjYWxlLCAxKSwgeDogTWF0aC5tYXgoTWF0aC5taW4oMSAvIHNjYWxlLCAxKSwgMC43KSwgejogTWF0aC5tYXgoTWF0aC5taW4oMSAvIHNjYWxlLCAxKSwgMC43KSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5ib2R5LnNjYWxlLCAwLjA1LCB7IHk6IE1hdGgubWluKDAuOSAvIHNjYWxlLCAwLjcpLCB4OiBNYXRoLm1heChzY2FsZSwgMS4yKSwgejogTWF0aC5tYXgoc2NhbGUsIDEuMiksIGRlbGF5OiAwLjEgfSlcclxuICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuYm9keS5zY2FsZSwgMC4yLCB7IHk6IDEsIHg6IDEsIHo6IDEsIGRlbGF5OiAwLjIgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlICYmIHRoaXMuaW5zdGFuY2UucG9zaXRpb24uc2V0KHRoaXMueCwgdGhpcy55ICsgMzAsIHRoaXMueik7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSAmJiB0aGlzLmluc3RhbmNlLnJvdGF0aW9uLnNldCgwLCAwLCAwKTtcclxuICAgIH1cclxuICAgIHNocmluaygpIHtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IFNUQVRVUy5TS1JJTks7XHJcbiAgICB9XHJcbiAgICBqdW1wKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLkpVTVA7XHJcbiAgICB9XHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLlNUT1A7XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHtcclxuICAgICAgICAgICAgdng6IDAsXHJcbiAgICAgICAgICAgIHZ5OiAwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmx5aW5nVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5ib2R5LnNjYWxlLnggPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgICAgICB0aGlzLmJvZHkuc2NhbGUueSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgICAgIHRoaXMuYm9keS5zY2FsZS56ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICAgICAgdGhpcy5oZWFkLnBvc2l0aW9uLnkgPSAxMC4yNDtcclxuICAgICAgICAgICAgdGhpcy5oZXJvLnBvc2l0aW9uLnkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfc2hyaW5rKCkge1xyXG4gICAgICAgIGNvbnN0IERFTFRBX1NDQUxFID0gMC4wMDU7XHJcbiAgICAgICAgY29uc3QgSE9SSVpPTl9ERUxUQV9TQ0FMRSA9IDAuMDAyO1xyXG4gICAgICAgIGNvbnN0IEhFQURfREVMVEEgPSAwLjAzO1xyXG4gICAgICAgIGNvbnN0IE1JTl9TQ0FMRSA9IDAuNTU7XHJcbiAgICAgICAgdGhpcy5zY2FsZSAtPSBERUxUQV9TQ0FMRTtcclxuICAgICAgICB0aGlzLnNjYWxlID0gTWF0aC5tYXgoTUlOX1NDQUxFLCB0aGlzLnNjYWxlKTtcclxuICAgICAgICBpZiAodGhpcy5zY2FsZSA8PSBNSU5fU0NBTEUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJvZHkuc2NhbGUueSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgdGhpcy5ib2R5LnNjYWxlLnggKz0gSE9SSVpPTl9ERUxUQV9TQ0FMRTtcclxuICAgICAgICB0aGlzLmJvZHkuc2NhbGUueiArPSBIT1JJWk9OX0RFTFRBX1NDQUxFO1xyXG4gICAgICAgIHRoaXMuaGVhZC5wb3NpdGlvbi55IC09IEhFQURfREVMVEE7XHJcbiAgICAgICAgY29uc3QgYm90dGxlRGVsdGFZID0gSEVBRF9ERUxUQSAvIDI7XHJcbiAgICAgICAgY29uc3QgZGVsdGFZID0gdGhpcy5ibG9ja0hlaWdodCAqIERFTFRBX1NDQUxFIC8gMjtcclxuICAgICAgICB0aGlzLmhlcm8ucG9zaXRpb24ueSAtPSAoYm90dGxlRGVsdGFZICsgZGVsdGFZICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgX2p1bXAodGlja1RpbWUpIHtcclxuICAgICAgICBjb25zdCB0ID0gdGlja1RpbWUgLyAxMDAwO1xyXG4gICAgICAgIHRoaXMuZmx5aW5nVGltZSA9IHRoaXMuZmx5aW5nVGltZSArIHQ7XHJcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlSCA9IHRoaXMudmVsb2NpdHkudnggKiB0O1xyXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZVkgPSB0aGlzLnZlbG9jaXR5LnZ5ICogdCAtIDAuNSAqIHRoaXMuZ3Jhdml0eSAqIHQgKiB0IC0gdGhpcy5ncmF2aXR5ICogdGhpcy5mbHlpbmdUaW1lICogdDtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnRyYW5zbGF0ZVkodHJhbnNsYXRlWSk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS50cmFuc2xhdGVPbkF4aXModGhpcy5heGlzLCB0cmFuc2xhdGVIKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JlcmFrZSgpIHtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IFNUQVRVUy5GT1JFUkFLRTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnkgPSBCTE9DS0NPTkZJRy5oZWlnaHQvMjtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5pbnN0YW5jZS5yb3RhdGlvbiwgLjUsIHsgejogLU1hdGguUEkgLyAyIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaW5zdGFuY2Uucm90YXRpb24sIC41LCB7IHg6IC1NYXRoLlBJIC8gMiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnBvc2l0aW9uLCAwLjIsIHsgeTogLUJMT0NLQ09ORklHLmhlaWdodCAvIDIgKyAyIH0pO1xyXG4gICAgICAgICAgICB9LCAzNTApO1xyXG4gICAgICAgIH0sIDIwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgaHlwc29raW5lc2lzKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLkhZUFNPS0lORVNJUztcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnkgPSBCTE9DS0NPTkZJRy5oZWlnaHQvMjtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5pbnN0YW5jZS5yb3RhdGlvbiwgLjUsIHsgejogTWF0aC5QSSAvIDIgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5pbnN0YW5jZS5yb3RhdGlvbiwgLjUsIHsgeDogTWF0aC5QSSAvIDIgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5pbnN0YW5jZS5wb3NpdGlvbiwgMC4yLCB7IHk6IC1CTE9DS0NPTkZJRy5oZWlnaHQgLyAyICsgMiB9KTtcclxuICAgICAgICAgICAgfSwgMTUwKTtcclxuICAgICAgICB9LCAyMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGZhbGwoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBTVEFUVVMuRkFMTDtcclxuICAgICAgICBjb25zb2xlLmxvZygnZmFsbCcpXHJcbiAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaW5zdGFuY2UucG9zaXRpb24sIDAuMiwgeyB5OiAtQkxPQ0tDT05GSUcuaGVpZ2h0IC8gMiB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBTVEFUVVMuU0tSSU5LKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NocmluaygpXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXR1cyA9PT0gU1RBVFVTLkpVTVApIHtcclxuICAgICAgICAgICAgY29uc3QgdGlja1RpbWUgPSBEYXRlLm5vdygpIC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xyXG4gICAgICAgICAgICB0aGlzLl9qdW1wKHRpY2tUaW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEJvdHRsZSgpOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgcG9pbnRJblBvbHlnb24ocG9pbnQsIHZzKSB7XG4gICAgdmFyIHggPSBwb2ludFswXSwgeSA9IHBvaW50WzFdXG4gICAgXG4gICAgdmFyIGluc2lkZSA9IGZhbHNlXG5cbiAgICBjb25zdCB4TWluID0gdnNbMF1bMF0gPiB2c1syXVswXSA/IHZzWzJdWzBdIDogdnNbMF1bMF1cbiAgICBjb25zdCB4TWF4ID0gdnNbMF1bMF0gPCB2c1syXVswXSA/IHZzWzJdWzBdIDogdnNbMF1bMF1cblxuICAgIGNvbnN0IHlNaW4gPSB2c1swXVsxXSA+IHZzWzFdWzFdID8gdnNbMV1bMV0gOiB2c1swXVsxXVxuICAgIGNvbnN0IHlNYXggPSB2c1swXVsxXSA8IHZzWzFdWzFdID8gdnNbMV1bMV0gOiB2c1swXVsxXVxuXG4gICAgaWYgKHggPiB4TWluICYmIHggPCB4TWF4ICYmIHkgPiB5TWluICYmIHkgPCB5TWF4KSB7XG4gICAgICBpbnNpZGUgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiBpbnNpZGVcbiAgfSwgXG5cbiAgbWVyZ2UgKHRvdGFsR2VvbWV0cnksIGdlb21ldHJ5LCBpbmRleCwgcG9zaXRpb25zKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGdlb21ldHJ5LmZhY2VzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBnZW9tZXRyeS5mYWNlc1tpXS5tYXRlcmlhbEluZGV4ID0gMDtcbiAgICB9XG4gICAgdmFyIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBvc2l0aW9ucy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgbWVzaC5wb3NpdGlvbi5zZXQocG9zaXRpb25zW2ldLngsIHBvc2l0aW9uc1tpXS55LCBwb3NpdGlvbnNbaV0ueik7XG4gICAgICBtZXNoLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgdG90YWxHZW9tZXRyeS5tZXJnZShtZXNoLmdlb21ldHJ5LCBtZXNoLm1hdHJpeCwgaW5kZXgpO1xuICAgIH1cbiAgfSxcblxuICBtYXBVdiAodGV4dHVyZVdpZHRoLCB0ZXh0dXJlSGVpZ2h0LCBnZW9tZXRyeSwgZmFjZUlkeCwgeDEsIHkxLCB4MiwgeTIsIGZsYWcpIHtcbiAgICB2YXIgdGlsZVV2VyA9IDEgLyB0ZXh0dXJlV2lkdGg7XG4gICAgdmFyIHRpbGVVdkggPSAxIC8gdGV4dHVyZUhlaWdodDtcbiAgICBpZiAoZ2VvbWV0cnkuZmFjZXNbZmFjZUlkeF0gaW5zdGFuY2VvZiBUSFJFRS5GYWNlMykge1xuICAgICAgdmFyIFVWcyA9IGdlb21ldHJ5LmZhY2VWZXJ0ZXhVdnNbMF1bZmFjZUlkeCAqIDJdO1xuICAgICAgaWYgKGZhY2VJZHggPT0gNCAmJiAhZmxhZykge1xuICAgICAgICBVVnNbMF0ueCA9IHgxICogdGlsZVV2VztVVnNbMF0ueSA9IHkxICogdGlsZVV2SDtcbiAgICAgICAgVVZzWzJdLnggPSB4MSAqIHRpbGVVdlc7VVZzWzJdLnkgPSB5MiAqIHRpbGVVdkg7XG4gICAgICAgIFVWc1sxXS54ID0geDIgKiB0aWxlVXZXO1VWc1sxXS55ID0geTEgKiB0aWxlVXZIO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVVZzWzBdLnggPSB4MSAqIHRpbGVVdlc7VVZzWzBdLnkgPSB5MSAqIHRpbGVVdkg7XG4gICAgICAgIFVWc1sxXS54ID0geDEgKiB0aWxlVXZXO1VWc1sxXS55ID0geTIgKiB0aWxlVXZIO1xuICAgICAgICBVVnNbMl0ueCA9IHgyICogdGlsZVV2VztVVnNbMl0ueSA9IHkxICogdGlsZVV2SDtcbiAgICAgIH1cbiAgICAgIHZhciBVVnMgPSBnZW9tZXRyeS5mYWNlVmVydGV4VXZzWzBdW2ZhY2VJZHggKiAyICsgMV07XG4gICAgICBpZiAoZmFjZUlkeCA9PSA0ICYmICFmbGFnKSB7XG4gICAgICAgIFVWc1syXS54ID0geDEgKiB0aWxlVXZXO1VWc1syXS55ID0geTIgKiB0aWxlVXZIO1xuICAgICAgICBVVnNbMV0ueCA9IHgyICogdGlsZVV2VztVVnNbMV0ueSA9IHkyICogdGlsZVV2SDtcbiAgICAgICAgVVZzWzBdLnggPSB4MiAqIHRpbGVVdlc7VVZzWzBdLnkgPSB5MSAqIHRpbGVVdkg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBVVnNbMF0ueCA9IHgxICogdGlsZVV2VztVVnNbMF0ueSA9IHkyICogdGlsZVV2SDtcbiAgICAgICAgVVZzWzFdLnggPSB4MiAqIHRpbGVVdlc7VVZzWzFdLnkgPSB5MiAqIHRpbGVVdkg7XG4gICAgICAgIFVWc1syXS54ID0geDIgKiB0aWxlVXZXO1VWc1syXS55ID0geTEgKiB0aWxlVXZIO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSIsImNvbnN0IGZvbnQgPSB7IFwiZ2x5cGhzXCI6IHsgXCIwXCI6IHsgXCJoYVwiOiA4NjgsIFwieF9taW5cIjogMCwgXCJ4X21heFwiOiA2OTYsIFwib1wiOiBcIm0gMCA4NjggbCA2OTYgODY4IGwgNjk2IDY5MyBsIDAgNjkzIGwgMCA4NjggbSA2OTYgMCBsIDAgMCBsIDAgMTc1IGwgNjk2IDE3NSBsIDY5NiAwIG0gMCA2OTQgbCAxNzUgNjk0IGwgMTc1IDE3NCBsIDAgMTc0IGwgMCA2OTQgbSA1MjEgNjk0IGwgNjk2IDY5NCBsIDY5NiAxNzQgbCA1MjEgMTc0IGwgNTIxIDY5NCB6IFwiIH0sIFwiMVwiOiB7IFwiaGFcIjogNTIxLCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogMzQ3LCBcIm9cIjogXCJtIDE3NCAwIGwgMzQ3IDAgbCAzNDcgODY4IGwgMCA4NjggbCAwIDY5NCBsIDE3NCA2OTQgbCAxNzQgMCB6IFwiIH0sIFwiMlwiOiB7IFwiaGFcIjogODY4LCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogNjk0LCBcIm9cIjogXCJtIDAgODY4IGwgMCA2OTQgbCA1MjEgNjk0IGwgNTIxIDUyMSBsIDAgNTIxIGwgMCAwIGwgNjk0IDAgbCA2OTQgMTc0IGwgMTc0IDE3NCBsIDE3NCAzNDcgbCA2OTQgMzQ3IGwgNjk0IDg2OCBsIDAgODY4IHogXCIgfSwgXCIzXCI6IHsgXCJoYVwiOiA4NjgsIFwieF9taW5cIjogMCwgXCJ4X21heFwiOiA2OTQsIFwib1wiOiBcIm0gNjk0IDAgbCA2OTQgODY4IGwgMCA4NjggbCAwIDY5NCBsIDUyMSA2OTQgbCA1MjEgNTIxIGwgMCA1MjEgbCAwIDM0NyBsIDUyMSAzNDcgbCA1MjEgMTc0IGwgMCAxNzQgbCAwIDAgbCA2OTQgMCB6IFwiIH0sIFwiNFwiOiB7IFwiaGFcIjogODY4LCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogNjk0LCBcIm9cIjogXCJtIDUyMSAzNDcgbCAxNzQgMzQ3IGwgMTc0IDg2OCBsIDAgODY4IGwgMCAxNzQgbCA1MjEgMTc0IGwgNTIxIDAgbCA2OTQgMCBsIDY5NCA4NjggbCA1MjEgODY4IGwgNTIxIDM0NyB6IFwiIH0sIFwiNVwiOiB7IFwiaGFcIjogODY4LCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogNjk0LCBcIm9cIjogXCJtIDY5NCA2OTQgbCA2OTQgODY4IGwgMCA4NjggbCAwIDM0NyBsIDUyMSAzNDcgbCA1MjEgMTc0IGwgMCAxNzQgbCAwIDAgbCA2OTQgMCBsIDY5NCA1MjEgbCAxNzQgNTIxIGwgMTc0IDY5NCBsIDY5NCA2OTQgeiBcIiB9LCBcIjZcIjogeyBcImhhXCI6IDg2OCwgXCJ4X21pblwiOiAwLCBcInhfbWF4XCI6IDY5NCwgXCJvXCI6IFwibSAwIDg2OSBsIDE3NSA4NjkgbCAxNzUgMCBsIDAgMCBsIDAgODY5IG0gMTc0IDUxOSBsIDY5NCA1MTkgbCA2OTQgMzQ2IGwgMTc0IDM0NiBsIDE3NCA1MTkgbSAxNzQgODY5IGwgNTE5IDg2OSBsIDUxOSA2OTQgbCAxNzQgNjk0IGwgMTc0IDg2OSBtIDE3NCAxNzQgbCA2OTQgMTc0IGwgNjk0IDAgbCAxNzQgMCBsIDE3NCAxNzQgbSA1MjEgMzQ3IGwgNjk0IDM0NyBsIDY5NCAxNzQgbCA1MjEgMTc0IGwgNTIxIDM0NyB6IFwiIH0sIFwiN1wiOiB7IFwiaGFcIjogODY4LCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogNjk0LCBcIm9cIjogXCJtIDAgODY4IGwgMCA2OTQgbCA1MjEgNjk0IGwgNTIxIDUyMSBsIDY5NCA1MjEgbCA2OTQgODY4IGwgMCA4NjggbSAzNDcgMzQ3IGwgNTIxIDM0NyBsIDUyMSA1MjEgbCAzNDcgNTIxIGwgMzQ3IDM0NyBtIDE3NCAwIGwgMzQ3IDAgbCAzNDcgMzQ3IGwgMTc0IDM0NyBsIDE3NCAwIHogXCIgfSwgXCI4XCI6IHsgXCJoYVwiOiA4NjgsIFwieF9taW5cIjogMCwgXCJ4X21heFwiOiA2OTQsIFwib1wiOiBcIm0gMCA4NjggbCAxNzQgODY4IGwgMTc0IDAgbCAwIDAgbCAwIDg2OCBtIDUyMSA4NjggbCA2OTQgODY4IGwgNjk0IDAgbCA1MjEgMCBsIDUyMSA4NjggbSAxNzQgMTc0IGwgNTIxIDE3NCBsIDUyMSAwIGwgMTc0IDAgbCAxNzQgMTc0IG0gMTc0IDg2OCBsIDUyMSA4NjggbCA1MjEgNjkzIGwgMTc0IDY5MyBsIDE3NCA4NjggbSAxNzQgNTIxIGwgNTIxIDUyMSBsIDUyMSAzNDYgbCAxNzQgMzQ2IGwgMTc0IDUyMSB6IFwiIH0sIFwiOVwiOiB7IFwiaGFcIjogODY4LCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogNjk2LCBcIm9cIjogXCJtIDAgNTIxIGwgNjk2IDUyMSBsIDY5NiAzNDYgbCAwIDM0NiBsIDAgNTIxIG0gMCA4NjggbCA2OTQgODY4IGwgNjk0IDY5NCBsIDAgNjk0IGwgMCA4NjggbSAwIDY5NiBsIDE3NSA2OTYgbCAxNzUgNTE5IGwgMCA1MTkgbCAwIDY5NiBtIDUyMSA2OTYgbCA2OTQgNjk2IGwgNjk0IDUyMSBsIDUyMSA1MjEgbCA1MjEgNjk2IG0gNTIxIDM0OSBsIDY5NiAzNDkgbCA2OTYgLTEgbCA1MjEgLTEgbCA1MjEgMzQ5IG0gMTc0IDE3NCBsIDUyMSAxNzQgbCA1MjEgLTEgbCAxNzQgLTEgbCAxNzQgMTc0IHogXCIgfSwgXCIrXCI6IHsgXCJoYVwiOiA2OTQsIFwieF9taW5cIjogMCwgXCJ4X21heFwiOiA1MjEsIFwib1wiOiBcIm0gMTc0IDE3NCBsIDM0NyAxNzQgbCAzNDcgMzQ3IGwgNTIxIDM0NyBsIDUyMSA1MjEgbCAzNDcgNTIxIGwgMzQ3IDY5NCBsIDE3NCA2OTQgbCAxNzQgNTIxIGwgMCA1MjEgbCAwIDM0NyBsIDE3NCAzNDcgbCAxNzQgMTc0IHogXCIgfSwgXCLkuoZcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogNzIsIFwieF9tYXhcIjogMTI3OCwgXCJvXCI6IFwibSA2NTkgOTU0IHEgMTA5MiAxMjQ2IDg5MSAxMDk2IGwgNzIgMTI0NiBsIDcyIDEzNTggbCAxMjc4IDEzNTggbCAxMjc4IDEyMjUgcSA3ODEgODk5IDEwMzUgMTA1OCBsIDc4MSA0MDAgcSA3MzAgMjE2IDc4MSAyNjYgcSA1NDQgMTU5IDY4MCAxNjEgcSAzMjMgMTY0IDQ2OSAxNTkgcSAzMDEgMjkzIDMxNSAyMzEgcSA1MzQgMjc3IDQzNyAyNzggcSA2NTkgNDAwIDY1OSAyNzUgbCA2NTkgOTU0IHogXCIgfSwgXCLkvY9cIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogMTgsIFwieF9tYXhcIjogMTM2NCwgXCJvXCI6IFwibSA0MjMgMjc5IGwgODQxIDI3OSBsIDg0MSA2OTQgbCA1MDIgNjk0IGwgNTAyIDc5MyBsIDg0MSA3OTMgbCA4NDEgMTEyMiBsIDQ2NCAxMTIyIGwgNDY0IDEyMjEgbCAxMzI0IDEyMjEgbCAxMzI0IDExMjIgbCA5NDkgMTEyMiBsIDk0OSA3OTMgbCAxMjg2IDc5MyBsIDEyODYgNjk0IGwgOTQ5IDY5NCBsIDk0OSAyNzkgbCAxMzY0IDI3OSBsIDEzNjQgMTgwIGwgNDIzIDE4MCBsIDQyMyAyNzkgbSAxOCA3ODggcSAzNDYgMTQ2MiAyMzUgMTA4NCBsIDQ1NyAxNDMwIHEgMzM5IDExMzUgNDAxIDEyNzQgbCAzMzkgMTI5IGwgMjMzIDEyOSBsIDIzMyA5MjYgcSA2NCA2NzAgMTUyIDc4MyBxIDE4IDc4OCA0NSA3MzAgbSA3NzMgMTQwNyBsIDg2MCAxNDYyIHEgOTk2IDEyODcgOTM1IDEzNzMgbCA4OTcgMTIyNSBxIDc3MyAxNDA3IDgzNyAxMzI1IHogXCIgfSwgXCLliptcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogMzAsIFwieF9tYXhcIjogMTI2NSwgXCJvXCI6IFwibSA4NyAxMTU0IGwgNTI2IDExNTQgcSA1MzIgMTQ1OCA1MzAgMTMwMyBsIDY1MCAxNDU4IHEgNjQzIDExNTQgNjQ3IDEzMTQgbCAxMjY1IDExNTQgcSAxMjM0IDQwNiAxMjQ5IDYyNSBxIDk4NSAxNzAgMTIxNyAxNzIgcSA3MTYgMTc1IDg3MyAxNzAgcSA2OTYgMzAyIDcxMSAyMjggbCA3MDAgMzAyIHEgOTc0IDI4OCA4NzYgMjg2IHEgMTExOSA0MzMgMTEwNSAyOTAgcSAxMTQzIDEwNDQgMTEzNSA2NzcgbCA2NDAgMTA0NCBxIDUyOCA1MTMgNjI4IDY5MCBxIDExMCAxMzIgNDIwIDMxNSBxIDMwIDIzNSA3MiAxODAgcSA0MTUgNTY3IDMyMyAzOTkgcSA1MjIgMTA0NCA1MTAgNzIwIGwgODcgMTA0NCBsIDg3IDExNTQgeiBcIiB9LCBcIuWkqlwiOiB7IFwiaGFcIjogMTM4OSwgXCJ4X21pblwiOiAxOSwgXCJ4X21heFwiOiAxMzY3LCBcIm9cIjogXCJtIDE5IDIyOSBxIDYxNiAxMDE5IDU0OCA1MTQgbCA0MyAxMDE5IGwgNDMgMTEyMyBsIDYyNCAxMTIzIHEgNjI5IDE0NTMgNjI5IDEyNjAgbCA3NDcgMTQ1MyBxIDc0MyAxMTIzIDc0NyAxMjgwIGwgMTM0NCAxMTIzIGwgMTM0NCAxMDE5IGwgNzQ5IDEwMTkgcSAxMzY3IDI2MiA4OTEgNDY3IHEgMTI3MCAxNTUgMTMwMyAxOTkgcSA2OTQgODc4IDgzMSA0MDEgcSAxMDIgMTI5IDU4MSA0MTEgcSAxOSAyMjkgNzUgMTY0IG0gNTQwIDQwOCBsIDYyNSA0NzYgcSA4MTcgMjY3IDcyMyAzNzIgbCA3MjAgMTkwIHEgNTQwIDQwOCA2MzYgMjk3IHogXCIgfSwgXCLlpb1cIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogMjQsIFwieF9tYXhcIjogMTM3MCwgXCJvXCI6IFwibSA1OTEgMzc2IGwgNTExIDI5MCBxIDM1OCA0MzAgNDM0IDM2MiBxIDkwIDE0NSAyNTggMjc1IHEgMjcgMjMyIDYxIDE4NyBxIDI4MyA0OTYgMTg5IDM0OSBxIDc5IDY3MSAxNzYgNTkwIHEgMTY4IDEwNzMgMTI3IDg0MiBsIDI0IDEwNzMgbCAyNCAxMTczIGwgMTg0IDExNzMgcSAyMjcgMTQ1OSAyMDYgMTMwOSBsIDMzNiAxNDQ0IHEgMjkwIDExNzMgMzEyIDEyOTUgbCA1NDcgMTE3MyBsIDU0NyAxMDg2IHEgNDE0IDUyMSA1MTUgNzE4IHEgNTkxIDM3NiA1MDMgNDQ5IG0gNTQ1IDg0OSBsIDkxOCA4NDkgbCA5MTggMTA2MSBxIDExNjUgMTI2OCAxMDUzIDExNzUgbCA1OTQgMTI2OCBsIDU5NCAxMzY2IGwgMTMxNCAxMzY2IGwgMTMxNCAxMjYwIHEgMTAyNSAxMDE1IDExNjggMTEzNSBsIDEwMjUgODQ5IGwgMTM3MCA4NDkgbCAxMzcwIDc1MSBsIDEwMjUgNzUxIGwgMTAyNSAzMTYgcSA4NTAgMTUyIDEwMjUgMTUyIHEgNjczIDE1NiA3OTMgMTUyIHEgNjU1IDI2MyA2NjYgMjA2IHEgODM2IDI1MSA3NzcgMjUyIHEgOTE4IDMzMiA5MTggMjUxIGwgOTE4IDc1MSBsIDU0NSA3NTEgbCA1NDUgODQ5IG0gNDQyIDEwNzMgbCAyNzEgMTA3MyBxIDE4OSA2OTkgMjI0IDgxMiBsIDMzMiA1ODUgcSA0NDIgMTA3MyA0MjMgNzc0IHogXCIgfSwgXCLlvohcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogMjIsIFwieF9tYXhcIjogMTM3MCwgXCJvXCI6IFwibSA1NTIgMTM4MSBsIDEyNDggMTM4MSBsIDEyNDggNzE2IGwgMTE0NSA3MTYgbCAxMTQ1IDc1MCBsIDg4NiA3NTAgcSAxMDAyIDUyNiA5MjggNjI3IHEgMTI0OCA2ODggMTEzNCA2MDUgbCAxMzEzIDYwNCBxIDEwNTggNDU3IDExODggNTI4IHEgMTM3MCAyMzUgMTE4MyAzMjMgcSAxMjg3IDEzOCAxMzMxIDE5MSBxIDc4NSA3NTAgOTAyIDM3MCBsIDY1NSA3NTAgbCA2NTUgMjk3IHEgODk5IDQwOCA3NTMgMzM2IHEgOTIxIDMwOCA5MDkgMzUxIHEgNjU4IDE3NSA4MjUgMjY3IHEgNTc5IDExNyA2MTcgMTUxIGwgNTA3IDIxMCBxIDU1MiAzMTYgNTUyIDI1NCBsIDU1MiAxMzgxIG0gMjIgNjUwIHEgMzk1IDExMTEgMjQ1IDg0MiBsIDQ4OCAxMDU4IHEgMzQzIDg0NCA0MTkgOTQ0IGwgMzQzIDEyMyBsIDIzOSAxMjMgbCAyMzkgNzE1IHEgNjkgNTQ1IDE1NyA2MjMgcSAyMiA2NTAgNDkgNjAwIG0gMTE0NSAxMjg5IGwgNjU1IDEyODkgbCA2NTUgMTExMiBsIDExNDUgMTExMiBsIDExNDUgMTI4OSBtIDI4IDEwNzAgcSAzNzYgMTQ1OCAyNDMgMTIzNCBsIDQ2OSAxNDA0IHEgNzkgOTcyIDMxMiAxMTY0IHEgMjggMTA3MCA1NCAxMDI0IG0gNjU1IDg0MSBsIDExNDUgODQxIGwgMTE0NSAxMDIxIGwgNjU1IDEwMjEgbCA2NTUgODQxIHogXCIgfSwgXCLlv6tcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogMTgsIFwieF9tYXhcIjogMTM1NCwgXCJvXCI6IFwibSA0MDcgNzc5IGwgNzY4IDc3OSBxIDc4MyAxMTE1IDc3OSA4OTEgbCA0OTkgMTExNSBsIDQ5OSAxMjEwIGwgNzg0IDEyMTAgcSA3ODQgMTQ0NyA3ODQgMTMxNyBsIDg5MSAxNDQ3IHEgODkwIDEyMTAgODkxIDEzMjAgbCAxMjIxIDEyMTAgbCAxMjIxIDc3OSBsIDEzNTQgNzc5IGwgMTM1NCA2ODQgbCA5MTQgNjg0IHEgMTM0NSAyMzIgMTAyNSAzNzQgcSAxMjU2IDEyNyAxMzEyIDE5OSBxIDg0MCA2MjMgOTQ4IDMwMiBxIDQ0MiAxMTcgNzU4IDMxNyBxIDM2MyAyMDggMzk3IDE3NSBxIDc1NCA2ODQgNjg4IDM5OSBsIDQwNyA2ODQgbCA0MDcgNzc5IG0gMjA5IDE0NDcgbCAzMTEgMTQ0NyBsIDMxMSAxMTQ5IGwgMzYzIDExODQgcSA1MTUgOTk0IDQ1MiAxMDg2IGwgNDM1IDkzNiBxIDMxMSAxMTA4IDM3NiAxMDI4IGwgMzExIDEyMiBsIDIwOSAxMjIgbCAyMDkgMTQ0NyBtIDExMTUgMTExNSBsIDg4OCAxMTE1IHEgODc2IDc3OSA4ODYgODk5IGwgMTExNSA3NzkgbCAxMTE1IDExMTUgbSA3NyAxMTM1IGwgMTY4IDExMjIgcSAxMDkgNzc2IDE0OCA5NTkgcSAxOCA3OTggNzEgNzg1IHEgNzcgMTEzNSA1MCA5MzcgeiBcIiB9LCBcIuajklwiOiB7IFwiaGFcIjogMTM4OSwgXCJ4X21pblwiOiA4LCBcInhfbWF4XCI6IDEzNzUsIFwib1wiOiBcIm0gNDg3IDQyMyBsIDgzNyA0MjMgbCA4MzcgNTU3IGwgNjA1IDU1NyBsIDYwNSA2MzYgcSA0NTYgNTE3IDUzOCA1NzQgcSAzODUgNTk1IDQzNCA1NDUgcSA2NTQgODQxIDU1NiA3MDEgbCA0NDkgODQxIGwgNDQ5IDkyNiBsIDcwNSA5MjYgcSA3NDkgMTAzOSA3MzIgOTgxIGwgNTI4IDEwMzkgbCA1MjggMTEyNCBsIDc3MCAxMTI0IHEgNzg5IDEyMzYgNzgxIDExNzcgbCA0ODggMTIzNiBsIDQ4OCAxMzIxIGwgNzk4IDEzMjEgcSA4MDYgMTQ1NyA4MDMgMTM4NiBsIDkwNiAxNDU3IHEgODk4IDEzMjEgOTAzIDEzODYgbCAxMzEyIDEzMjEgbCAxMzEyIDEyMzYgbCA4ODggMTIzNiBxIDg3MSAxMTI0IDg4MiAxMTc2IGwgMTI3NSAxMTI0IGwgMTI3NSAxMDM5IGwgODUyIDEwMzkgcSA4MTQgOTI2IDgzOCA5ODIgbCAxMzY2IDkyNiBsIDEzNjYgODQxIGwgMTA4NSA4NDEgcSAxMzc1IDYyMSAxMTkxIDY5MCBxIDEzMTMgNTMwIDEzNDEgNTc2IHEgMTE2MSA2MzIgMTIyOSA1NzUgbCAxMTYxIDU1NyBsIDkzNiA1NTcgbCA5MzYgNDIzIGwgMTI5MCA0MjMgbCAxMjkwIDMzOCBsIDkzNiAzMzggbCA5MzYgMTIyIGwgODM3IDEyMiBsIDgzNyAzMzggbCA0ODcgMzM4IGwgNDg3IDQyMyBtIDggNjA5IHEgMjA2IDExMDEgMTMwIDgwNyBsIDI0IDExMDEgbCAyNCAxMTk1IGwgMjA5IDExOTUgbCAyMDkgMTQ1OSBsIDMwNCAxNDU5IGwgMzA0IDExOTUgbCA0NjEgMTE5NSBsIDQ2MSAxMTAxIGwgMzA0IDExMDEgbCAzMDQgODY5IGwgMzUzIDkwOSBxIDQ3MiA3NjkgNDE5IDgzNCBsIDQwMSA3MTEgcSAzMDQgODQwIDM1OSA3NzIgbCAzMDQgMTIzIGwgMjA5IDEyMyBsIDIwOSA4ODYgcSA1MiA0OTAgMTQxIDY0MiBxIDggNjA5IDM0IDU0OSBtIDgzNyA3NjAgbCA5MzYgNzYwIGwgOTM2IDY0MyBsIDExNDcgNjQzIHEgOTg5IDg0MSAxMDUwIDczMCBsIDc3MCA4NDEgcSA2MTIgNjQzIDcwOSA3MzYgbCA4MzcgNjQzIGwgODM3IDc2MCB6IFwiIH0sIFwi56izXCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDcsIFwieF9tYXhcIjogMTM4NiwgXCJvXCI6IFwibSA1MzAgNjkwIGwgMTE4MyA2OTAgbCAxMTgzIDgwOCBsIDU1NiA4MDggbCA1NTYgODk3IGwgMTE4MyA4OTcgbCAxMTgzIDEwMTMgbCA1NTkgMTAxMyBsIDU1OSAxMDk5IGwgNTQwIDEwODAgcSA0NjEgMTE0NiA1MDYgMTExMiBxIDcxMSAxNDY5IDYxNCAxMjg2IGwgODE3IDE0NDkgcSA3NDkgMTMzOSA3ODQgMTM5MyBsIDExNTMgMTMzOSBsIDExNTMgMTI1MiBxIDEwNDIgMTEwNCAxMDk5IDExNzkgbCAxMjg2IDExMDQgbCAxMjg2IDU1MSBsIDExODMgNTUxIGwgMTE4MyA2MDAgbCA1MzAgNjAwIGwgNTMwIDY5MCBtIDcgNTE5IHEgMjE0IDk2NCAxMzQgNjk2IGwgMzEgOTY0IGwgMzEgMTA1OCBsIDIyMiAxMDU4IGwgMjIyIDEyNzUgcSA1OCAxMjYxIDE0MSAxMjY4IHEgMzkgMTM1OCA1MiAxMzAzIHEgNDg0IDE0MDIgMjYwIDEzNzEgbCA1MDYgMTMwMyBxIDMyMyAxMjg0IDQxNSAxMjkzIGwgMzIzIDEwNTggbCA0OTIgMTA1OCBsIDQ5MiA5NjQgbCAzMjMgOTY0IGwgMzIzIDgwMiBsIDM3OCA4NDUgcSA1MjQgNjgyIDQ1NiA3NjYgbCA0NDQgNjE3IHEgMzIzIDc3MiAzODUgNzAxIGwgMzIzIDEyNSBsIDIyMiAxMjUgbCAyMjIgNzI2IHEgNTMgNDA3IDE1MiA1MzggcSA3IDUxOSAzMyA0NjQgbSA2NDAgNTE5IGwgNzQzIDUxOSBsIDc0MyAzMjcgcSA4MzAgMjQ4IDc0MyAyNDggbCA5NjAgMjQ4IHEgMTA2MSAzMTYgMTA0NiAyNDggcSAxMDgxIDQ0MiAxMDczIDM3MCBxIDExODQgNDAxIDExMjYgNDIyIHEgMTE1NCAyNzQgMTE3MSAzMzIgcSA5OTAgMTU2IDExMjQgMTU2IGwgODEwIDE1NiBxIDY0MCAzMjEgNjQwIDE1NiBsIDY0MCA1MTkgbSAxMDMxIDEyNTEgbCA2ODkgMTI1MSBxIDU2NCAxMTA0IDYyOSAxMTcyIGwgOTI1IDExMDQgcSAxMDMxIDEyNTEgOTgyIDExODEgbSA0OTQgNTE5IGwgNTg1IDQ4NyBxIDQ3NyAyMTcgNTM4IDM0NSBxIDM4NSAyNTkgNDM0IDI0MCBxIDQ5NCA1MTkgNDQ5IDM3NCBtIDExNzcgNDc3IGwgMTI2NCA1MTcgcSAxMzg2IDI3NCAxMzQwIDM3MiBsIDEyOTMgMjI5IHEgMTE3NyA0NzcgMTI0OCAzMzkgbSA3OTUgNTQ0IGwgODY4IDU5NCBxIDEwMDkgNDE5IDk0OCA1MDIgbCA5MjYgMzYxIHEgNzk1IDU0NCA4NjcgNDU2IHogXCIgfSwgXCLnu5lcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogMTgsIFwieF9tYXhcIjogMTM3OCwgXCJvXCI6IFwibSA1NTEgNjkzIGwgMTIzNyA2OTMgbCAxMjM3IDEyMSBsIDExMzQgMTIxIGwgMTEzNCAyMTIgbCA2NTQgMjEyIGwgNjU0IDExOSBsIDU1MSAxMTkgbCA1NTEgNjkzIG0gMTg0IDY0NiBxIDQ2NyA2NjcgMTkxIDY0NiBxIDQ1NCA1ODEgNDYwIDYyNSBxIDY4IDU0MyAyMjggNTYwIGwgNDYgNjI4IHEgMjUyIDkxNCAxMjcgNzA1IHEgNDYgODk5IDE2NSA5MDkgbCAxOCA5ODMgcSAyNzMgMTQ1MCAxMzQgMTExNiBsIDM4MCAxNDEyIHEgMTM2IDk5MSAyNDcgMTE1NyBxIDI5NyA5OTQgMjE3IDk5MyBxIDM5OSAxMTgwIDM0NiAxMDc4IGwgNDk5IDExMzcgcSAxODQgNjQ2IDMxMSA4MjMgbSAxMTM0IDYwMSBsIDY1NCA2MDEgbCA2NTQgMzA0IGwgMTEzNCAzMDQgbCAxMTM0IDYwMSBtIDk3MSAxNDUwIGwgOTQzIDE0MDQgcSAxMzc4IDk3NSAxMTAxIDExNDUgcSAxMjk5IDg4OCAxMzM5IDkzNiBxIDg4NiAxMzEzIDEwMzQgMTA3NyBxIDUwMiA4NzEgNzM4IDEwNjMgcSA0MjMgOTQ1IDQ3NiA5MDEgcSA4NTAgMTQ1MCA2OTcgMTE1NCBsIDk3MSAxNDUwIG0gNTk3IDk0NyBsIDExOTEgOTQ3IGwgMTE5MSA4NTQgbCA1OTcgODU0IGwgNTk3IDk0NyBtIDIzIDMzMSBxIDQ3NiA0MjUgMjc1IDM3OCBxIDQ3NyAzMzAgNDc1IDM3NiBxIDU4IDIzMiAyMDEgMjczIGwgMjMgMzMxIHogXCIgfSwgXCLotoVcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogMjMsIFwieF9tYXhcIjogMTM3MCwgXCJvXCI6IFwibSAyMyAyNDggcSAxMzQgNzkxIDEyNiA0MjcgbCAyMzUgNzg1IHEgMjE0IDU0MSAyMzEgNjU0IHEgMzQzIDM3MCAyNjMgNDM1IGwgMzQzIDg3MyBsIDMwIDg3MyBsIDMwIDk3MSBsIDMwMSA5NzEgbCAzMDEgMTE2NiBsIDc3IDExNjYgbCA3NyAxMjY0IGwgMzAxIDEyNjQgbCAzMDEgMTQ1NyBsIDQwNyAxNDU3IGwgNDA3IDEyNjQgbCA2MDkgMTI2NCBsIDYwOSAxMTY2IGwgNDA3IDExNjYgbCA0MDcgOTcxIGwgNjI3IDk3MSBsIDYyNyA4NzMgbCA0NDUgODczIGwgNDQ1IDY2MiBsIDYzOSA2NjIgbCA2MzkgNTY2IGwgNDQ1IDU2NiBsIDQ0NSAzMTEgcSA2NzEgMjY5IDU0MyAyNzAgcSAxMzcwIDI3NCA5MjkgMjY0IHEgMTMzMiAxNzAgMTM0NSAyMTQgcSA2MzcgMTcyIDkyMiAxNjcgcSAxOTMgNDA4IDMwOSAxODAgcSA4MyAxMjEgMTUzIDIzMiBxIDIzIDI0OCA1NiAxODQgbSA3MTEgODM2IGwgMTI3OCA4MzYgbCAxMjc4IDM1MSBsIDExNzcgMzUxIGwgMTE3NyA0MTAgbCA4MTEgNDEwIGwgODExIDM0MyBsIDcxMSAzNDMgbCA3MTEgODM2IG0gNjQ0IDEzMDggbCA2NDQgMTM5OCBsIDEyOTMgMTM5OCBxIDEyNzQgMTA4NiAxMjg2IDEyMTQgcSAxMTEyIDkyOCAxMjU5IDkzMiBxIDk0MyA5MzIgMTAzOSA5MjYgcSA5MjIgMTAzOSA5MzUgOTgxIHEgMTA5MiAxMDI0IDEwMjMgMTAyMyBxIDExNzcgMTExMSAxMTY5IDEwMjQgcSAxMTkxIDEzMDggMTE4NyAxMTkwIGwgOTMzIDEzMDggcSA3MDUgODc5IDkyMiAxMDAxIHEgNjQwIDk2NCA2ODAgOTIxIHEgODMxIDEzMDggODI3IDEwNjcgbCA2NDQgMTMwOCBtIDExNzcgNzQ1IGwgODExIDc0NSBsIDgxMSA1MDAgbCAxMTc3IDUwMCBsIDExNzcgNzQ1IHogXCIgfSwgXCLotopcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogMjYsIFwieF9tYXhcIjogMTM3MCwgXCJvXCI6IFwibSAyNiAyMzMgcSAxMzQgNzkxIDEzMCA0MjIgbCAyMjggNzg1IHEgMjEzIDUzOCAyMjcgNjUyIHEgMzM5IDM3MyAyNjIgNDM1IGwgMzM5IDg3MyBsIDMwIDg3MyBsIDMwIDk2NiBsIDI5OCA5NjYgbCAyOTggMTE2NiBsIDc3IDExNjYgbCA3NyAxMjU5IGwgMjk4IDEyNTkgbCAyOTggMTQ1NSBsIDM5MyAxNDU1IGwgMzkzIDEyNTkgbCA2MDIgMTI1OSBsIDYwMiAxMTY2IGwgMzkzIDExNjYgbCAzOTMgOTY2IGwgNjI0IDk2NiBsIDYyNCA4NzMgbCA0MzQgODczIGwgNDM0IDY1OCBsIDYwOCA2NTggbCA2MDggNTY2IGwgNDM0IDU2NiBsIDQzNCAzMTUgcSA2NjYgMjY5IDUzNCAyNzAgcSAxMzcwIDI3NCA5ODEgMjY0IHEgMTMzMiAxNjggMTM0NSAyMTQgcSA2MzcgMTcyIDk0NyAxNjggcSAxOTEgNDA2IDMxNiAxNzggcSA4MyAxMjEgMTU1IDIzMiBxIDI2IDIzMyA1NiAxODQgbSA3NzAgMzk1IHEgOTg3IDY0NCA4OTUgNTExIHEgOTE3IDExMTIgOTMzIDgyOSBsIDc1OCAxMTEyIGwgNzU4IDY1MCBxIDg5NyA3NzMgODE5IDcwMyBxIDkxNyA2NzQgOTA1IDcyMCBxIDc1NSA1MjkgODM3IDYwNiBxIDY5MiA0NTcgNzI2IDUwMCBsIDYyNCA1MjUgcSA2NjYgNjU4IDY2NiA1NzkgbCA2NjYgMTIwMCBsIDkxMyAxMjAwIHEgOTA5IDE0NTkgOTA5IDEzMjggbCAxMDAxIDE0NTkgcSAxMDA1IDEyMDAgMTAwMCAxMzM2IGwgMTM0MCAxMjAwIGwgMTM0MCAxMTEyIGwgMTAwOSAxMTEyIHEgMTA1OCA3NTAgMTAyMCA5MDIgcSAxMTgwIDEwMTcgMTEzMyA4NzggbCAxMjcxIDk3OSBxIDEwOTMgNjMyIDExOTYgNzkyIHEgMTE1NCA1MDcgMTEyMCA1NjAgcSAxMjAyIDQ2NyAxMTc5IDQ2NyBxIDEyMzAgNTE3IDEyMjIgNDY3IHEgMTI1MyA3MjYgMTI0MiA2MDQgcSAxMzQ3IDY5MiAxMzE2IDcwMyBxIDEzMTggNDcxIDEzMzIgNTQ0IHEgMTIxNSAzNTUgMTI5OCAzNTUgcSAxMDg4IDQzMSAxMTQyIDM1NSBxIDEwMjcgNTM4IDEwNTQgNDc2IHEgODQ0IDMzMSA5NDQgNDI2IHEgNzcwIDM5NSA4MTggMzYyIG0gMTA3NCAxNDA0IGwgMTE0NSAxNDU1IHEgMTI3OCAxMjk4IDEyMDMgMTM5MiBsIDExOTkgMTI0MiBxIDEwNzQgMTQwNCAxMTMwIDEzNDAgeiBcIiB9LCBcIu+8gVwiOiB7IFwiaGFcIjogMTM4OSwgXCJ4X21pblwiOiA2MDgsIFwieF9tYXhcIjogNzgxLCBcIm9cIjogXCJtIDc2MSAxMzIxIGwgNzQ2IDU3MCBsIDYzOSA1NzAgbCA2MjQgMTMyMSBsIDc2MSAxMzIxIG0gNjk0IDQyNiBxIDc1NSA0MDEgNzMwIDQyNiBxIDc4MSAzNDAgNzgxIDM3NiBxIDc1NSAyNzkgNzgxIDMwNCBxIDY5NCAyNTUgNzMwIDI1NSBxIDYzMyAyNzkgNjU5IDI1NSBxIDYwOCAzNDAgNjA4IDMwNCBxIDYzMyA0MDEgNjA4IDM3NiBxIDY5NCA0MjYgNjU5IDQyNiB6IFwiIH0gfSwgXCJmYW1pbHlOYW1lXCI6IFwiTWljcm9zb2Z0IFlhSGVpXCIsIFwiYXNjZW5kZXJcIjogMTYzNiwgXCJkZXNjZW5kZXJcIjogLTI5NiwgXCJ1bmRlcmxpbmVQb3NpdGlvblwiOiAtMTE5LCBcInVuZGVybGluZVRoaWNrbmVzc1wiOiA4MCwgXCJib3VuZGluZ0JveFwiOiB7IFwieU1pblwiOiAtMTg2LCBcInhNaW5cIjogLTIyMCwgXCJ5TWF4XCI6IDE3MDYsIFwieE1heFwiOiAxNzYzIH0sIFwicmVzb2x1dGlvblwiOiAxMDAwLCBcIm9yaWdpbmFsX2ZvbnRfaW5mb3JtYXRpb25cIjogeyBcImZvcm1hdFwiOiAwLCBcImNvcHlyaWdodFwiOiBcImAyMDA1IE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cIiwgXCJmb250RmFtaWx5XCI6IFwiTWljcm9zb2Z0IFlhSGVpXCIsIFwiZm9udFN1YmZhbWlseVwiOiBcIlJlZ3VsYXJcIiwgXCJ1bmlxdWVJRFwiOiBcIk1pY3Jvc29mdCBZYUhlaS1SZWd1bGFyXCIsIFwiZnVsbE5hbWVcIjogXCJNaWNyb3NvZnQgWWFIZWlcIiwgXCJ2ZXJzaW9uXCI6IFwiVmVyc2lvbiAwLjcxXCIsIFwicG9zdFNjcmlwdE5hbWVcIjogXCJNaWNyb3NvZnRZYUhlaVwiLCBcInRyYWRlbWFya1wiOiBcIk1pY3Jvc29mdCBZYUhlaSBpcyBlaXRoZXIgYSByZWdpc3RlcmVkIHRyYWRlbWFyayBvciBhIHRyYWRlbWFyayBvZiBNaWNyb3NvZnQgQ29ycG9yYXRpb24gaW4gdGhlIFVuaXRlZCBTdGF0ZXMgYW5kL29yIG90aGVyIGNvdW50cmllcy5cIiwgXCJtYW51ZmFjdHVyZXJcIjogXCJNaWNyb3NvZnQgQ29ycG9yYXRpb25cIiwgXCJkZXNpZ25lclwiOiBcIkZvdW5kZXJcIiwgXCJkZXNjcmlwdGlvblwiOiBcIk1pY3Jvc29mdCBZYUhlaSBpcyBhIFNpbXBsaWZpZWQgQ2hpbmVzZSBmb250IGRldmVsb3BlZCBieSB0YWtpbmcgYWR2YW50YWdlIG9mIENsZWFyVHlwZSB0ZWNobm9sb2d5LCBhbmQgaXQgcHJvdmlkZXMgZXhjZWxsZW50IHJlYWRpbmcgZXhwZXJpZW5jZSBwYXJ0aWN1bGFybHkgb25zY3JlZW4uIFRoZSBmb250IGlzIHZlcnkgbGVnaWJsZSBhdCBzbWFsbCBzaXplcy5cIiwgXCJtYW51ZmFjdHVyZXJVUkxcIjogXCJodHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vdHlwb2dyYXBoeVwiLCBcImRlc2lnbmVyVVJMXCI6IFwiaHR0cDovL3d3dy5mb3VuZGVyLmNvbS5jbi9jblwiLCBcImxpY2VuY2VcIjogXCJcXHJcXG5OT1RJRklDQVRJT04gT0YgTElDRU5TRSBBR1JFRU1FTlQgXFxyXFxuXFxyXFxuVGhpcyBmb250IHNvZnR3YXJlIGlzIHBhcnQgb2YgdGhlIE1pY3Jvc29mdCBzb2Z0d2FyZSBwcm9kdWN0IGluIHdoaWNoIGl0IHdhcyBpbmNsdWRlZCBhbmQgaXMgcHJvdmlkZWQgdW5kZXIgdGhlIGVuZCB1c2VyIGxpY2Vuc2UgYWdyZWVtZW50ICjigJxFVUxB4oCdKSBmb3IgdGhhdCBNaWNyb3NvZnQgc29mdHdhcmUgcHJvZHVjdC4gVGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHRoZSBFVUxBIGdvdmVybiB0aGUgdXNlIG9mIGZvbnQgc29mdHdhcmUuIFBsZWFzZSByZWZlciB0byB0aGUgYXBwbGljYWJsZSBNaWNyb3NvZnQgcHJvZHVjdCBFVUxBIGlmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMgYWJvdXQgaG93IHlvdSBtYXkgdXNlIHRoaXMgZm9udCBzb2Z0d2FyZS4gTWljcm9zb2Z0IHJlc2VydmVzIGFsbCByaWdodHMgdGhhdCBhcmUgbm90IGV4cHJlc3NseSBncmFudGVkIGluIHRoZSBFVUxBLiBGb3IgcHJvZHVjdHMgdGhhdCBtYXkgaGF2ZSBpbnN0YWxsZWQgdGhpcyBmb250IHBsZWFzZSBzZWUgdGhlIGxpY2Vuc2UgbGluay5cXHJcXG5cIiwgXCJsaWNlbmNlVVJMXCI6IFwiaHR0cDovL3d3dy5taWNyb3NvZnQuY29tL3R5cG9ncmFwaHkvZm9udHNcIiB9LCBcImNzc0ZvbnRXZWlnaHRcIjogXCJub3JtYWxcIiwgXCJjc3NGb250U3R5bGVcIjogXCJub3JtYWxcIiB9XG5cbmV4cG9ydCBkZWZhdWx0IGZvbnQ7IiwiaW1wb3J0IGZvbnQgZnJvbSAnLi9mb250J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0IHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5mb250ID0gbmV3IFRIUkVFLkZvbnQoZm9udCk7XG5cdFx0dGhpcy5zaXplID0gNS4wO1xuXHRcdHRoaXMuaGVpZ2h0ID0gMC4xO1xuXHRcdHRoaXMuZmlsbFN0eWxlID0gMHg2NjY2NjY7XG5cdH1cblxuXHRpbml0KG9wdGlvbnMpIHtcblx0XHR0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6IHRoaXMuZmlsbFN0eWxlLCB0cmFuc3BhcmVudDogdHJ1ZSB9KTtcblx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9wYWNpdHkpIHRoaXMubWF0ZXJpYWwub3BhY2l0eSA9IG9wdGlvbnMub3BhY2l0eTtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcdGNvbnN0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLlRleHRHZW9tZXRyeSgnMCcsIHsgJ2ZvbnQnOiB0aGlzLmZvbnQsICdzaXplJzogdGhpcy5zaXplLCAnaGVpZ2h0JzogdGhpcy5oZWlnaHQgfSk7XG5cdFx0dGhpcy5pbnN0YW5jZSA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcblx0XHR0aGlzLmluc3RhbmNlLm5hbWUgPSAnc2NvcmVUZXh0Jztcblx0fVxuXG5cdHVwZGF0ZVNjb3JlKHNjb3JlKSB7XG5cdFx0Y29uc3Qgc2NvcmVTdHIgPSBzY29yZS50b1N0cmluZygpO1xuXHRcdHRoaXMuaW5zdGFuY2UgPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuVGV4dEdlb21ldHJ5KHNjb3JlU3RyLCB7ICdmb250JzogdGhpcy5mb250LCAnc2l6ZSc6IHRoaXMuc2l6ZSwgJ2hlaWdodCc6IHRoaXMuaGVpZ2h0IH0pLCB0aGlzLm1hdGVyaWFsKTtcblx0fVxufSIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhdWRpby9zY2FsZV9pbnRyby5jMmIyN2M1Mi5tcDNcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXVkaW8vc2NhbGVfbG9vcC4wNjNmZTY1OC5tcDNcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXVkaW8vc3RhcnQuMTVjMTljYWUubXAzXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImF1ZGlvL2ZhbGxfMS5lNTA3NDZjZS5tcDNcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXVkaW8vZmFsbF8yLmYwMzEwMDEyLm1wM1wiOyIsIlxyXG5pbXBvcnQgYXVkaW9fc2NhbGVfaW50cm8gZnJvbSBcIkBhdWRpby9zY2FsZV9pbnRyby5tcDNcIlxyXG5pbXBvcnQgYXVkaW9fc2NhbGVfbG9vcCBmcm9tIFwiQGF1ZGlvL3NjYWxlX2xvb3AubXAzXCJcclxuaW1wb3J0IGF1ZGlvX3N0YXJ0IGZyb20gXCJAYXVkaW8vc3RhcnQubXAzXCJcclxuaW1wb3J0IGF1ZGlvX2ZhbGxfMSBmcm9tIFwiQGF1ZGlvL2ZhbGxfMS5tcDNcIlxyXG5pbXBvcnQgYXVkaW9fZmFsbF8yIGZyb20gXCJAYXVkaW8vZmFsbF8yLm1wM1wiXHJcblxyXG5pbXBvcnQgYm90dGxlIGZyb20gXCJAcGFydC9ib3R0bGVcIjtcclxuaW1wb3J0IHsgU1RBVFVTIH0gZnJvbSBcIkB1dGlscy9jb21tb25cIjtcclxuXHJcbmNvbnN0IGF1ZGlvTGlzdCA9IFt7XHJcbiAgICBrZXk6IFwic2NhbGVJbnRyb1wiLFxyXG4gICAgc291cmNlOiBhdWRpb19zY2FsZV9pbnRyb1xyXG59LCB7XHJcbiAgICBrZXk6IFwic2NhbGVMb29wXCIsXHJcbiAgICBzb3VyY2U6IGF1ZGlvX3NjYWxlX2xvb3BcclxufSwge1xyXG4gICAga2V5OiBcImF1ZGlvU3RhcnRcIixcclxuICAgIHNvdXJjZTogYXVkaW9fc3RhcnRcclxufSx7XHJcbiAgICBrZXk6IFwiYXVkaW9GYWxsMVwiLFxyXG4gICAgc291cmNlOiBhdWRpb19mYWxsXzFcclxufSx7XHJcbiAgICBrZXk6IFwiYXVkaW9GYWxsMlwiLFxyXG4gICAgc291cmNlOiAgYXVkaW9fZmFsbF8yXHJcbn1dXHJcblxyXG5jbGFzcyBBdWRpb01hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zY2FsZUxvb3BCdWZmZXIgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuc2NhbGVJbnRyb0J1ZmZlciA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5hdWRpb0NvbWJvQnVmZmVyID0gXCJcIjtcclxuICAgICAgICB0aGlzLm51bSA9IDA7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBuZXcgVEhSRUUuQXVkaW9MaXN0ZW5lcigpO1xyXG4gICAgICAgIHRoaXMuc291bmQgPSBuZXcgVEhSRUUuQXVkaW8odGhpcy5saXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zZXRWb2x1bWUoLjgpO1xyXG4gICAgICAgIHRoaXMuc291bmQub25FbmRlZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChib3R0bGUuc3RhdHVzID09PSBTVEFUVVMuU0tSSU5LKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnNldEJ1ZmZlcih0aGlzLnNjYWxlTG9vcEJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnNldExvb3AodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb0xpc3QubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBrZXksIHNvdXJjZSB9ID0gaXRlbTtcclxuICAgICAgICAgICAgICAgIGxldCBsb2FkZXIgPSBuZXcgVEhSRUUuQXVkaW9Mb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgIGxvYWRlci5sb2FkKHNvdXJjZSwgYnVmZmVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake2tleX1CdWZmZXJgXSA9IGJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm51bSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubnVtPj1hdWRpb0xpc3QubGVuZ3RoLTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHNocmlua1BsYXkoKSB7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zZXRCdWZmZXIodGhpcy5zY2FsZUludHJvQnVmZmVyKTsgICBcclxuICAgICAgICB0aGlzLnNvdW5kLnNldExvb3AoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgpO1xyXG4gICAgfVxyXG4gICAgc2hyaW5rU3RvcCgpIHtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3AoKTtcclxuICAgIH1cclxuICAgIHN0YXJ0UGxheSgpIHtcclxuICAgICAgICB0aGlzLnNvdW5kLnNldEJ1ZmZlcih0aGlzLmF1ZGlvU3RhcnRCdWZmZXIpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc2V0TG9vcChmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCk7XHJcbiAgICB9XHJcbiAgICBmYWxsQmxvY2tQbGF5KCl7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zZXRCdWZmZXIodGhpcy5hdWRpb0ZhbGwyQnVmZmVyKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnNldExvb3AoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgpO1xyXG4gICAgfVxyXG4gICAgZmFsbFBsYW5lUGxheSgpe1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc2V0QnVmZmVyKHRoaXMuYXVkaW9GYWxsMUJ1ZmZlcik7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zZXRMb29wKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1ZGlvTWFuYWdlcigpOyIsImltcG9ydCBzY2VuZSBmcm9tICdAc2NlbmUnO1xyXG5pbXBvcnQgQ3Vib2lkQmxvY2sgZnJvbSAnQGJsb2NrL2N1Ym9pZCc7XHJcbmltcG9ydCBDeWxpbmRlckJsb2NrIGZyb20gJ0BibG9jay9jeWxpbmRlcic7XHJcbmltcG9ydCBncm91bmQgZnJvbSAnQHBhcnQvZ3JvdW5kJztcclxuaW1wb3J0IGJvdHRsZSBmcm9tICdAcGFydC9ib3R0bGUnO1xyXG5pbXBvcnQgeyBjb21tb24sIEJMT0NLQ09ORklHLCBCTE9DS1RZUEUgfSBmcm9tICdAdXRpbHMvY29tbW9uJztcclxuaW1wb3J0IHV0aWxzIGZyb20gJ0B1dGlscydcclxuaW1wb3J0IFNjb3JlVGV4dCBmcm9tICdAcGFydC9zY29yZVRleHQnXHJcbmltcG9ydCBhdWRpb21hbmFnZXIgZnJvbSAnLi4vYXVkaW9tYW5hZ2VyJztcclxuaW1wb3J0IHsgc3RvcEFsbEFuaW1hdGlvbiB9IGZyb20gJ0B1dGlscy9hbmltYXRpb24nO1xyXG5cclxuY29uc3QgSElUX05FWFRfQkxPQ0tfTk9STUFMID0gMTtcclxuY29uc3QgSElUX0JMT0NLX0NVUlJFTlQgPSAyO1xyXG5jb25zdCBHQU1FX09WRVJfTkVYVF9CTE9DS19GUk9OVCA9IDM7XHJcbmNvbnN0IEdBTUVfT1ZFUl9DVVJSRU5UX0JMT0NLX0JBQ0sgPSA0O1xyXG5jb25zdCBHQU1FX09WRVJfTkVYVF9CTE9DS19CQUNLID0gNTtcclxuY29uc3QgR0FNRV9PVkVSX0JPVEggPSA2O1xyXG5jb25zdCBISVRfTkVYVF9CTE9DS19DRU5URVIgPSA3O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhZ2VHYW1lTWFpbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEdhbWVNYWluIGluaXRgKTtcclxuICAgICAgICBjb25zdCB7IGNhbnZhcyB9ID0gY29tbW9uO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmdyb3VuZCA9IGdyb3VuZDtcclxuICAgICAgICB0aGlzLmJvdHRsZSA9IGJvdHRsZTtcclxuICAgICAgICB0aGlzLmdyYXZpdHkgPSBjb21tb24uZ3Jhdml0eTtcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dCA9IG5ldyBTY29yZVRleHQoKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0LmluaXQoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmluaXQoKTtcclxuICAgICAgICB0aGlzLmdyb3VuZC5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUuaW5pdCgpO1xyXG5cclxuICAgICAgICBhdWRpb21hbmFnZXJcclxuICAgICAgICAgICAgLmluaXQoKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJvdHRsZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRHcm91bmQoKTtcclxuICAgICAgICB0aGlzLmFkZEluaXRCbG9jaygpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFNjb3JlKCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuICAgIHJlc3RhcnQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3RhcnQgR2FtZScpO1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSAnJztcclxuICAgICAgICB0aGlzLmRlbGV0ZU9iamVjdHNGcm9tU2NlbmUoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUucmVzZXQoKTtcclxuICAgICAgICB0aGlzLmdyb3VuZC5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmUoMCk7XHJcbiAgICAgICAgdGhpcy5hZGRJbml0QmxvY2soKTtcclxuICAgICAgICB0aGlzLmFkZEdyb3VuZCgpO1xyXG4gICAgICAgIHRoaXMuYWRkQm90dGxlKCk7XHJcbiAgICB9XHJcbiAgICBhZGRJbml0QmxvY2soKSB7XHJcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnNjZW5lLmluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEJsb2NrID0gbmV3IEN1Ym9pZEJsb2NrKC0xNSwgMCwgMCk7XHJcbiAgICAgICAgdGhpcy5uZXh0QmxvY2sgPSBuZXcgQ3lsaW5kZXJCbG9jaygyMywgMCwgMCk7XHJcblxyXG4gICAgICAgIHNjZW5lLmFkZCh0aGlzLmN1cnJlbnRCbG9jay5pbnN0YW5jZSk7XHJcbiAgICAgICAgc2NlbmUuYWRkKHRoaXMubmV4dEJsb2NrLmluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5pdERpcmVjdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy50YXJnZXRQb3NpdGlvbiA9IHRoaXMubmV4dEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uO1xyXG4gICAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKGluaXREaXJlY3Rpb24pO1xyXG4gICAgfVxyXG4gICAgYWRkU2NvcmUoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGRTY29yZSh0aGlzLnNjb3JlVGV4dC5pbnN0YW5jZSlcclxuICAgIH1cclxuICAgIHVwZGF0ZVNjb3JlKHNjb3JlKSB7XHJcbiAgICAgICAgdGhpcy5zY29yZVRleHQudXBkYXRlU2NvcmUoc2NvcmUpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUudXBkYXRlU2NvcmUodGhpcy5zY29yZVRleHQuaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgYWRkR3JvdW5kKCkge1xyXG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpcy5zY2VuZS5pbnN0YW5jZTtcclxuICAgICAgICBzY2VuZS5hZGQodGhpcy5ncm91bmQuaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgYWRkQm90dGxlKCkge1xyXG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpcy5zY2VuZS5pbnN0YW5jZTtcclxuICAgICAgICBhdWRpb21hbmFnZXIuc3RhcnRQbGF5KCk7XHJcbiAgICAgICAgc2NlbmUuYWRkKHRoaXMuYm90dGxlLmluc3RhbmNlKTtcclxuICAgICAgICB0aGlzLmJvdHRsZS5zaG93KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG91Y2hFdmVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ3N0b3AnO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvdyBlbmQnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFkZFRvdWNoRXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5vblRvdWNoU3RhcnQsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5vblRvdWNoRW5kLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVUb3VjaEV2ZW50KCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMub25Ub3VjaEVuZCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgb25Ub3VjaFN0YXJ0ID0gZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RvdWNoIHN0YXJ0Jyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdzdG9wJykgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMudG91Y2hTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGF1ZGlvbWFuYWdlci5zaHJpbmtQbGF5KCk7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUuc2hyaW5rKCk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QmxvY2suc2hyaW5rKCk7XHJcbiAgICB9XHJcbiAgICBvblRvdWNoRW5kID0gZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RvdWNoIGVuZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnc3RvcCcpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy50b3VjaFN0YXJ0VGltZSA9PT0gMCkgcmV0dXJuO1xyXG4gICAgICAgIGF1ZGlvbWFuYWdlci5zaHJpbmtTdG9wKCk7XHJcbiAgICAgICAgdGhpcy50b3VjaEVuZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy50b3VjaEVuZFRpbWUgLSB0aGlzLnRvdWNoU3RhcnRUaW1lO1xyXG4gICAgICAgIHRoaXMudG91Y2hTdGFydFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLnZlbG9jaXR5LnZ4ID0gTWF0aC5taW4oZHVyYXRpb24gLyA2LCAxMjApO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLnZlbG9jaXR5LnZ4ID0gK3RoaXMuYm90dGxlLnZlbG9jaXR5LnZ4LnRvRml4ZWQoMik7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUudmVsb2NpdHkudnkgPSBNYXRoLm1pbigxNTAgKyBkdXJhdGlvbiAvIDMwLCAzMDApO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLnZlbG9jaXR5LnZ5ID0gK3RoaXMuYm90dGxlLnZlbG9jaXR5LnZ5LnRvRml4ZWQoMik7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwianVtcFwiO1xyXG4gICAgICAgIHRoaXMuaGl0ID0gdGhpcy5nZXRIaXRTdGF0dXModGhpcy5ib3R0bGUsIHRoaXMuY3VycmVudEJsb2NrLCB0aGlzLm5leHRCbG9jaywgQkxPQ0tDT05GSUcuaGVpZ2h0IC8gMiAtICgxIC0gdGhpcy5jdXJyZW50QmxvY2suaW5zdGFuY2Uuc2NhbGUueSkgKiBCTE9DS0NPTkZJRy5oZWlnaHQpXHJcbiAgICAgICAgdGhpcy5jaGVja2luZ0hpdCA9IHRydWVcclxuICAgICAgICB0aGlzLmN1cnJlbnRCbG9jay5yZWJvdW5kKCk7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUucm90YXRlKCk7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUuanVtcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERpcmVjdGlvbihkaXJlY3Rpb24pIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMuYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHo6IHRoaXMuYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLnpcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5heGlzID0gbmV3IFRIUkVFLlZlY3RvcjModGhpcy50YXJnZXRQb3NpdGlvbi54IC0gY3VycmVudFBvc2l0aW9uLngsIDAsIHRoaXMudGFyZ2V0UG9zaXRpb24ueiAtIGN1cnJlbnRQb3NpdGlvbi56KTtcclxuICAgICAgICB0aGlzLmF4aXMubm9ybWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUuc2V0RGlyZWN0aW9uKGRpcmVjdGlvbiwgdGhpcy5heGlzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRCbG9jaykge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRCbG9jay51cGRhdGUoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVuZGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hlY2tCb3R0bGVIaXQoKTtcclxuICAgICAgICBpZiAodGhpcy5ib3R0bGUpIHtcclxuICAgICAgICAgICAgdGhpcy5ib3R0bGUudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXIuYmluZCh0aGlzKSlcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBHYW1lTWFpbiBzaG93YCk7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBHYW1lTmFpbiBoaWRlYCk7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlT2JqZWN0c0Zyb21TY2VuZSgpIHtcclxuICAgICAgICBsZXQgb2JqID0gdGhpcy5zY2VuZS5pbnN0YW5jZS5nZXRPYmplY3RCeU5hbWUoJ2Jsb2NrJylcclxuICAgICAgICB3aGlsZSAob2JqKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuaW5zdGFuY2UucmVtb3ZlKG9iailcclxuICAgICAgICAgICAgaWYgKG9iai5nZW9tZXRyeSkge1xyXG4gICAgICAgICAgICAgICAgb2JqLmdlb21ldHJ5LmRpc3Bvc2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmoubWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgICAgIG9iai5tYXRlcmlhbC5kaXNwb3NlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvYmogPSB0aGlzLnNjZW5lLmluc3RhbmNlLmdldE9iamVjdEJ5TmFtZSgnYmxvY2snKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnN0YW5jZS5yZW1vdmUodGhpcy5ib3R0bGUuaW5zdGFuY2UpXHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnN0YW5jZS5yZW1vdmUodGhpcy5ncm91bmQuaW5zdGFuY2UpXHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tCb3R0bGVIaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tpbmdIaXQgJiYgdGhpcy5ib3R0bGUuaW5zdGFuY2UucG9zaXRpb24ueSA8PSBCTE9DS0NPTkZJRy5oZWlnaHQgLyAyICsgMC4xICYmIHRoaXMuYm90dGxlLnN0YXR1cyA9PT0gJ2p1bXAnICYmIHRoaXMuYm90dGxlLmZseWluZ1RpbWUgPiAwLjMpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja2luZ0hpdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaGl0ID09PSBISVRfTkVYVF9CTE9DS19OT1JNQUwgfHwgdGhpcy5oaXQgPT09IEhJVF9ORVhUX0JMT0NLX0NFTlRFUikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdzdG9wJztcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLnkgPSBCTE9DS0NPTkZJRy5oZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3R0bGUuaW5zdGFuY2UucG9zaXRpb24ueCA9IHRoaXMuYm90dGxlLmRlc3RpbmF0aW9uWzBdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3R0bGUuaW5zdGFuY2UucG9zaXRpb24ueiA9IHRoaXMuYm90dGxlLmRlc3RpbmF0aW9uWzFdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTY29yZSgrK3RoaXMuc2NvcmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXh0QmxvY2soKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhpdCA9PT0gSElUX0JMT0NLX0NVUlJFTlQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnc3RvcCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5pbnN0YW5jZS5wb3NpdGlvbi55ID0gQkxPQ0tDT05GSUcuaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLnggPSB0aGlzLmJvdHRsZS5kZXN0aW5hdGlvblswXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLnogPSB0aGlzLmJvdHRsZS5kZXN0aW5hdGlvblsxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhpdCA9PT0gR0FNRV9PVkVSX0NVUlJFTlRfQkxPQ0tfQkFDSyB8fCB0aGlzLmhpdCA9PT0gR0FNRV9PVkVSX05FWFRfQkxPQ0tfQkFDSykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BBbGxBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3R0bGUuZm9yZXJha2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBhdWRpb21hbmFnZXIuZmFsbEJsb2NrUGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5oaXQgPT09IEdBTUVfT1ZFUl9ORVhUX0JMT0NLX0ZST05UKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcEFsbEFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5oeXBzb2tpbmVzaXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBhdWRpb21hbmFnZXIuZmFsbEJsb2NrUGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdG9wQWxsQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3R0bGUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLmZhbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBhdWRpb21hbmFnZXIuZmFsbFBsYW5lUGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdvdmVyJztcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVG91Y2hFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjay5zaG93R2FtZU92ZXJTdGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTUwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGl0U3RhdHVzKGJvdHRsZSwgY3VycmVudEJsb2NrLCBuZXh0QmxvY2ssIGluaXRZKSB7XHJcbiAgICAgICAgbGV0IGZseWluZ1RpbWUgPSBib3R0bGUudmVsb2NpdHkudnkgLyB0aGlzLmdyYXZpdHkgKiAyO1xyXG4gICAgICAgIGluaXRZID0gaW5pdFkgfHwgK2JvdHRsZS5pbnN0YW5jZS5wb3NpdGlvbi55LnRvRml4ZWQoMik7XHJcbiAgICAgICAgbGV0IGRlc3RpbmF0aW9uWSA9IEJMT0NLQ09ORklHLmhlaWdodCAvIDI7XHJcbiAgICAgICAgbGV0IGRpZmZlcmVuY2VZID0gZGVzdGluYXRpb25ZO1xyXG4gICAgICAgIGxldCB0aW1lID0gKygoLWJvdHRsZS52ZWxvY2l0eS52eSArIE1hdGguc3FydChNYXRoLnBvdyhib3R0bGUudmVsb2NpdHkudnksIDIpIC0gMiAqIHRoaXMuZ3Jhdml0eSAqIGRpZmZlcmVuY2VZKSkgLyAtdGhpcy5ncmF2aXR5KS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIGZseWluZ1RpbWUgLT0gdGltZTtcclxuICAgICAgICBmbHlpbmdUaW1lID0gK2ZseWluZ1RpbWUudG9GaXhlZCgyKTtcclxuICAgICAgICBsZXQgZGVzdGluYXRpb24gPSBbXTtcclxuICAgICAgICBsZXQgYm90dGxlUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMihib3R0bGUuaW5zdGFuY2UucG9zaXRpb24ueCwgYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLnopO1xyXG4gICAgICAgIGxldCB0cmFuc2xhdGUgPSBuZXcgVEhSRUUuVmVjdG9yMih0aGlzLmF4aXMueCwgdGhpcy5heGlzLnopLnNldExlbmd0aChib3R0bGUudmVsb2NpdHkudnggKiBmbHlpbmdUaW1lKTtcclxuICAgICAgICBib3R0bGVQb3NpdGlvbi5hZGQodHJhbnNsYXRlKTtcclxuICAgICAgICBib3R0bGUuZGVzdGluYXRpb24gPSBbK2JvdHRsZVBvc2l0aW9uLngudG9GaXhlZCgyKSwgK2JvdHRsZVBvc2l0aW9uLnkudG9GaXhlZCgyKV07XHJcbiAgICAgICAgZGVzdGluYXRpb24ucHVzaCgrYm90dGxlUG9zaXRpb24ueC50b0ZpeGVkKDIpLCArYm90dGxlUG9zaXRpb24ueS50b0ZpeGVkKDIpKTtcclxuICAgICAgICBsZXQgcmVzdWx0MSwgcmVzdWx0MjtcclxuICAgICAgICBpZiAobmV4dEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXh0RGlmZiA9IE1hdGgucG93KGRlc3RpbmF0aW9uWzBdIC0gbmV4dEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLngsIDIpICsgTWF0aC5wb3coZGVzdGluYXRpb25bMV0gLSBuZXh0QmxvY2suaW5zdGFuY2UucG9zaXRpb24ueiwgMik7XHJcbiAgICAgICAgICAgIGxldCBuZXh0UG9seWdvbiA9IG5leHRCbG9jay5nZXRWZXJ0aWNlcygpO1xyXG4gICAgICAgICAgICBpZiAodXRpbHMucG9pbnRJblBvbHlnb24oZGVzdGluYXRpb24sIG5leHRQb2x5Z29uKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKG5leHREaWZmKSA8IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSElUX05FWFRfQkxPQ0tfTk9STUFMO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSElUX05FWFRfQkxPQ0tfQ0VOVEVSO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLnBvaW50SW5Qb2x5Z29uKFtkZXN0aW5hdGlvblswXSAtIHRoaXMuYm90dGxlLndpZHRoLCBkZXN0aW5hdGlvblsxXV0sIG5leHRQb2x5Z29uKSB8fCB1dGlscy5wb2ludEluUG9seWdvbihbZGVzdGluYXRpb25bMF0sIGRlc3RpbmF0aW9uWzFdICsgdGhpcy5ib3R0bGUuZGVwdGggLyAyXSwgbmV4dFBvbHlnb24pKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQxID0gR0FNRV9PVkVSX05FWFRfQkxPQ0tfQkFDSztcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh1dGlscy5wb2ludEluUG9seWdvbihbZGVzdGluYXRpb25bMF0sIGRlc3RpbmF0aW9uWzFdIC0gdGhpcy5ib3R0bGUuZGVwdGggLyAyXSwgbmV4dFBvbHlnb24pIHx8IHV0aWxzLnBvaW50SW5Qb2x5Z29uKFtkZXN0aW5hdGlvblswXSArIHRoaXMuYm90dGxlLmRlcHRoIC8gMiwgZGVzdGluYXRpb25bMV1dLCBuZXh0UG9seWdvbikpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdDEgPSBHQU1FX09WRVJfTkVYVF9CTE9DS19GUk9OVDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnRQb2x5Z29uID0gY3VycmVudEJsb2NrLmdldFZlcnRpY2VzKCk7XHJcbiAgICAgICAgaWYgKHV0aWxzLnBvaW50SW5Qb2x5Z29uKGRlc3RpbmF0aW9uLCBjdXJyZW50UG9seWdvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEhJVF9CTE9DS19DVVJSRU5UO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMucG9pbnRJblBvbHlnb24oW2Rlc3RpbmF0aW9uWzBdLCBkZXN0aW5hdGlvblsxXSArIHRoaXMuYm90dGxlLmRlcHRoXSwgY3VycmVudFBvbHlnb24pIHx8IHV0aWxzLnBvaW50SW5Qb2x5Z29uKFtkZXN0aW5hdGlvblswXSAtIHRoaXMuYm90dGxlLndpZHRoIC8gMiwgZGVzdGluYXRpb25bMV1dLCBjdXJyZW50UG9seWdvbikpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdDEpIHJldHVybiBHQU1FX09WRVJfQk9USDtcclxuICAgICAgICAgICAgcmV0dXJuIEdBTUVfT1ZFUl9DVVJSRU5UX0JMT0NLX0JBQ0s7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQxIHx8IHJlc3VsdDIgfHwgMDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVOZXh0QmxvY2soKSB7XHJcbiAgICAgICAgY29uc3Qgc2VlZCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSk7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHNlZWQgPyAnY3Vib2lkJyA6ICdjeWxpbmRlcidcclxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNikgKyAxMDtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDI1KSArIDIwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEJsb2NrID0gdGhpcy5uZXh0QmxvY2tcclxuICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRoaXMudGFyZ2V0UG9zaXRpb24gPSB7fVxyXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IDApIHtcclxuICAgICAgICAgICAgdGFyZ2V0UG9zaXRpb24ueCA9IHRoaXMuY3VycmVudEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLnggKyBkaXN0YW5jZTtcclxuICAgICAgICAgICAgdGFyZ2V0UG9zaXRpb24ueSA9IHRoaXMuY3VycmVudEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLnk7XHJcbiAgICAgICAgICAgIHRhcmdldFBvc2l0aW9uLnogPSB0aGlzLmN1cnJlbnRCbG9jay5pbnN0YW5jZS5wb3NpdGlvbi56O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRhcmdldFBvc2l0aW9uLnggPSB0aGlzLmN1cnJlbnRCbG9jay5pbnN0YW5jZS5wb3NpdGlvbi54O1xyXG4gICAgICAgICAgICB0YXJnZXRQb3NpdGlvbi55ID0gdGhpcy5jdXJyZW50QmxvY2suaW5zdGFuY2UucG9zaXRpb24ueTtcclxuICAgICAgICAgICAgdGFyZ2V0UG9zaXRpb24ueiA9IHRoaXMuY3VycmVudEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLnogLSBkaXN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXREaXJlY3Rpb24oZGlyZWN0aW9uKVxyXG4gICAgICAgIGlmICh0eXBlID09PSBCTE9DS1RZUEUuQ1VCT0lEKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dEJsb2NrID0gbmV3IEN1Ym9pZEJsb2NrKHRhcmdldFBvc2l0aW9uLngsIHRhcmdldFBvc2l0aW9uLnksIHRhcmdldFBvc2l0aW9uLnosICdwb3B1cCcsIHdpZHRoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IEJMT0NLVFlQRS5DWUxJTkRFUikge1xyXG4gICAgICAgICAgICB0aGlzLm5leHRCbG9jayA9IG5ldyBDeWxpbmRlckJsb2NrKHRhcmdldFBvc2l0aW9uLngsIHRhcmdldFBvc2l0aW9uLnksIHRhcmdldFBvc2l0aW9uLnosICdwb3B1cCcsIHdpZHRoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnN0YW5jZS5hZGQodGhpcy5uZXh0QmxvY2suaW5zdGFuY2UpO1xyXG4gICAgICAgIGNvbnN0IGNhbWVyYVRhcmdldFBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB4OiAodGhpcy5jdXJyZW50QmxvY2suaW5zdGFuY2UucG9zaXRpb24ueCArIHRoaXMubmV4dEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLngpIC8gMixcclxuICAgICAgICAgICAgeTogKHRoaXMuY3VycmVudEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLnkgKyB0aGlzLm5leHRCbG9jay5pbnN0YW5jZS5wb3NpdGlvbi55KSAvIDIsXHJcbiAgICAgICAgICAgIHo6ICh0aGlzLmN1cnJlbnRCbG9jay5pbnN0YW5jZS5wb3NpdGlvbi56ICsgdGhpcy5uZXh0QmxvY2suaW5zdGFuY2UucG9zaXRpb24ueikgLyAyLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjZW5lLnVwZGF0ZUNhbWVyYVBvc2l0aW9uKGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLmdyb3VuZC51cGRhdGVQb3NpdGlvbihjYW1lcmFUYXJnZXRQb3NpdGlvbik7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL3JlcGxheS5kMTgwZmJhYi5wbmdcIjsiLCJpbXBvcnQgc2NlbmUgZnJvbSAnQHNjZW5lJztcclxuaW1wb3J0IHsgY29tbW9uIH0gZnJvbSAnQHV0aWxzL2NvbW1vbic7XHJcbmltcG9ydCBpbWdfcmVwbGF5IGZyb20gXCJAaW1hZ2VzL3JlcGxheS5wbmdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YWdlR2FtZU92ZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgY29uc3QgeyBjYW52YXMgfSA9IGNvbW1vbjtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLnNjb3JlID0gMDtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEdhbWVPdmVyIGluaXRgKTtcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgYXNwZWN0IH0gPSBjb21tb247XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwuNyknO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCgod2lkdGggLSAyMDApIC8gMiwgKGhlaWdodCAtIDIwMCkgLyAyLCAyMDAsIDIwMCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9ICcjZWVlJztcclxuICAgICAgICB0aGlzLmNvbnRleHQuZm9udCA9ICcyMnB4IEdlb3JnaWEnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCgnR2FtZSBPdmVyJywgKHdpZHRoIC0gMjAwKSAvIDIgKyA0NSwgKGhlaWdodCAtIDIwMCkgLyAyICsgNTUpO1xyXG4gICAgICAgIHRoaXMucmVwbGF5X2J0biA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMucmVwbGF5X2J0bi5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5yZXBsYXlfYnRuLCB3aWR0aCAvIDIgLSA2MCwgKGhlaWdodCAtIDIwMCkgLyAyICsgMTI1LCAxMjAsIDQ3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZXBsYXlfYnRuLnNyYyA9IGltZ19yZXBsYXk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZShjYW52YXMpO1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICBtYXA6IHRoaXMudGV4dHVyZSxcclxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDYwLCA2MCAqIGFzcGVjdCk7XHJcbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XHJcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnogPSAyMDtcclxuICAgICAgICB0aGlzLm1lc2gudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgIHNjZW5lLmNhbWVyYS5pbnN0YW5jZS5hZGQodGhpcy5tZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBHYW1lT3ZlciBzaG93YCk7XHJcbiAgICAgICAgdGhpcy5tZXNoLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSB0aGlzLmNhbGxiYWNrLmdldFNjb3JlKCk7XHJcbiAgICAgICAgdGhpcy5hZGRUb3VjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgR2FtZU92ZXIgaGlkZWApO1xyXG4gICAgICAgIHRoaXMubWVzaC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVUb3VjaEV2ZW50KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLScpXHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaEVuZChlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1lc2gudmlzaWJsZSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sucmVzdGFydEdhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRUb3VjaEV2ZW50ID0gZSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQuYmluZCh0aGlzKSwgdHJ1ZSlcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVUb3VjaEV2ZW50ID0gZSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQuYmluZCh0aGlzKSwgdHJ1ZSlcclxuICAgIH1cclxuXHJcbn0iLCJcclxuaW1wb3J0IFN0YWdlR2FtZU1haW4gZnJvbSAnQHN0YWdlL3N0YWdlLWdhbWUtbWFpbic7XHJcbmltcG9ydCBTdGFnZUdhbWVPdmVyIGZyb20gJ0BzdGFnZS9zdGFnZS1nYW1lLW92ZXInO1xyXG5cclxuY2xhc3MgR2FtZVN0YWdlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRTY29yZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGFnZV9nYW1lX21haW4uc2NvcmU7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0dhbWVPdmVyU3RhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5zdGFnZV9nYW1lX292ZXIuc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dHYW1lTWFpblN0YWdlKCkge1xyXG4gICAgICAgIHRoaXMuc3RhZ2VfZ2FtZV9tYWluLnNob3coKTtcclxuICAgICAgICB0aGlzLnN0YWdlX2dhbWVfb3Zlci5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdGFydEdhbWUoKSB7XHJcbiAgICAgICAgdGhpcy5zdGFnZV9nYW1lX21haW4uc2hvdygpO1xyXG4gICAgICAgIHRoaXMuc3RhZ2VfZ2FtZV9vdmVyLmhpZGUoKTtcclxuICAgICAgICB0aGlzLnN0YWdlX2dhbWVfbWFpbi5yZXN0YXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdE1haW5TdGFnZShjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuc3RhZ2VfZ2FtZV9tYWluID0gbmV3IFN0YWdlR2FtZU1haW4oY2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuc3RhZ2VfZ2FtZV9tYWluLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0T3ZlclN0YWdlKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5zdGFnZV9nYW1lX292ZXIgPSBuZXcgU3RhZ2VHYW1lT3ZlcihjYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5zdGFnZV9nYW1lX292ZXIuaW5pdCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgR2FtZVN0YWdlKCkiLCJpbXBvcnQgR2FtZU1vZGVsIGZyb20gJy4vbW9kZWwnXHJcbmltcG9ydCBHYW1lU3RhZ2UgZnJvbSAnLi9zdGFnZSdcclxuaW1wb3J0IHsgU1RBR0VHUk9VUCB9IGZyb20gJ0B1dGlscy9jb21tb24nO1xyXG5cclxuXHJcbmNsYXNzIEdhbWVDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZV9tb2RlbCA9IEdhbWVNb2RlbDtcclxuICAgICAgICB0aGlzLmdhbWVfc3RhZ2UgPSBHYW1lU3RhZ2U7XHJcbiAgICAgICAgdGhpcy5nYW1lX21vZGVsLmNoYW5nZVN0YWdlLmF0dGFjaCgoc2VuZGVyLCBhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYXJncy5zdGFnZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTVEFHRUdST1VQLkdBTUVPVkVSOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZV9zdGFnZS5zaG93R2FtZU92ZXJTdGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTVEFHRUdST1VQLkdBTUVNQUlOOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZV9zdGFnZS5zaG93R2FtZU1haW5TdGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENvbnRyb2xsZXIoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZV9zdGFnZS5pbml0TWFpblN0YWdlKHtcclxuICAgICAgICAgICAgc2hvd0dhbWVPdmVyU3RhZ2U6ICgpID0+IHRoaXMuZ2FtZV9tb2RlbC5zZXRTdGFnZShTVEFHRUdST1VQLkdBTUVPVkVSKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVfc3RhZ2UuaW5pdE92ZXJTdGFnZSh7XHJcbiAgICAgICAgICAgIHJlc3RhcnRHYW1lOiAoKSA9PiB0aGlzLmdhbWVfc3RhZ2UucmVzdGFydEdhbWUoKSxcclxuICAgICAgICAgICAgZ2V0U2NvcmU6ICgpID0+IHRoaXMuZ2FtZV9zdGFnZS5nZXRTY29yZSgpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZV9tb2RlbC5zZXRTdGFnZShTVEFHRUdST1VQLkdBTUVNQUlOKTtcclxuXHJcbiAgICAgICAgLy8gc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgIC8vICAgICB0aGlzLmdhbWVfbW9kZWwuc2V0U3RhZ2UoU1RBR0VHUk9VUC5HQU1FT1ZFUilcclxuICAgICAgICAvLyB9LDMwMDApXHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgR2FtZUNvbnRyb2xsZXIoKTsiLCJcclxuaW1wb3J0IEdhbWVDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcic7XHJcbmltcG9ydCB7IGNvbW1vbiB9IGZyb20gJ0B1dGlscy9jb21tb24nO1xyXG5cclxuXHJcbmxldCBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKTtcclxubGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcblxyXG5sZXQgd2lkdGggPSBhcHAuY2xpZW50V2lkdGgsIGhlaWdodCA9IGFwcC5jbGllbnRIZWlnaHQ7XHJcbmNvbnN0IGFzcGVjdCA9IGhlaWdodCAvd2lkdGg7XHJcblxyXG5jYW52YXMud2lkdGggPSB3aWR0aDtcclxuY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuXHJcbmFwcC5hcHBlbmQoY2FudmFzKTtcclxuXHJcbmNvbW1vbi5jYW52YXMgPSBjYW52YXM7XHJcbmNvbW1vbi53aWR0aCA9IHdpZHRoO1xyXG5jb21tb24uaGVpZ2h0ID0gaGVpZ2h0O1xyXG5jb21tb24uYXNwZWN0ID0gYXNwZWN0O1xyXG5cclxuXHJcbmNsYXNzIEdhbWUge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuXHJcbiAgICB9XHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgR2FtZUNvbnRyb2xsZXIuaW5pdENvbnRyb2xsZXIoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEdhbWUoKTsiLCJcclxuaW1wb3J0IEdhbWUgZnJvbSAnLi9nYW1lJ1xyXG5cclxuY2xhc3MgTWFpbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgICBHYW1lLmluaXQoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFpbjsiLCJpbXBvcnQgJ0Bjc3Mvc3R5bGUuY3NzJztcclxuaW1wb3J0IE1haW4gZnJvbSAnQHNyYy9tYWluJztcclxuXHJcbiEoZnVuY3Rpb24gKCkge1xyXG4gICAgTWFpbi5pbml0KCk7XHJcbn0pKClcclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBOztBQ0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBZEE7QUFDQTtBQWVBOzs7OztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQXhDQTtBQTBDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJCQTtBQWxKQTtBQTJLQTs7QUMzS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbExBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFyQkE7QUFDQTtBQXNCQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZDQTtBQUNBO0FBd0NBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFoQkE7QUFDQTtBQWlCQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBekVBO0FBQ0E7QUEyRUE7O0FDbEZBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBekRBOztBQ0pBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5EQTs7QUNMQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQXJEQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5QkE7QUFDQTtBQStCQTs7QUNqQ0E7O0FDQUE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUExT0E7QUFDQTtBQTJPQTs7QUNuUEE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhEQTs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTs7QUNGQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQXJCQTs7QUNGQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVEQTtBQUNBO0FBNkRBOzs7O0FDekZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUF1RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlGQTtBQStGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhIQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTRCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBL1JBOztBQ25CQTs7OztBQ0FBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQWdFQTtBQUNBO0FBQ0E7QUFsRUE7QUFvRUE7QUFDQTtBQUNBO0FBckVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvREE7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpDQTtBQUNBO0FBa0NBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQXBDQTtBQUNBO0FBcUNBOztBQzFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFRQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVFBOztBQ1pBO0FBQ0E7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n')}]);