!function(I){function g(g){for(var C,A,B=g[0],i=g[1],l=g[2],Q=0,a=[];Q<B.length;Q++)A=B[Q],Object.prototype.hasOwnProperty.call(t,A)&&t[A]&&a.push(t[A][0]),t[A]=0;for(C in i)Object.prototype.hasOwnProperty.call(i,C)&&(I[C]=i[C]);for(e&&e(g);a.length;)a.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var I,g=0;g<c.length;g++){for(var n=c[g],C=!0,B=1;B<n.length;B++){var i=n[B];0!==t[i]&&(C=!1)}C&&(c.splice(g--,1),I=A(A.s=n[0]))}return I}var C={},t={0:0},c=[];function A(g){if(C[g])return C[g].exports;var n=C[g]={i:g,l:!1,exports:{}};return I[g].call(n.exports,n,n.exports,A),n.l=!0,n.exports}A.m=I,A.c=C,A.d=function(I,g,n){A.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:n})},A.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},A.t=function(I,g){if(1&g&&(I=A(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var C in I)A.d(n,C,function(g){return I[g]}.bind(null,C));return n},A.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return A.d(g,"a",g),g},A.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},A.p="";var B=window.webpackJsonp=window.webpackJsonp||[],i=B.push.bind(B);B.push=g,B=B.slice();for(var l=0;l<B.length;l++)g(B[l]);var e=i;c.push([5,1]),n()}([,function(module,exports,__webpack_require__){eval("var content = __webpack_require__(2);\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(4)(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3B1YmxpYy9jc3Mvc3R5bGUuY3NzPzFkNWEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG59XG5cbnZhciBvcHRpb25zID0ge31cblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYgKGNvbnRlbnQubG9jYWxzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(3)(false);\n// Module\nexports.push([module.i, "* {\\r\\n    padding  : 0;\\r\\n    margin   : 0;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody,\\r\\n#app {\\r\\n    width : 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    background: #333333;\\r\\n}\\r\\n#app{\\r\\n    box-sizing: border-box;\\r\\n}\\r\\ncanvas {\\r\\n    background: #ffffff;\\r\\n    display: block;\\r\\n    margin: 0 auto;\\r\\n}", ""]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3B1YmxpYy9jc3Mvc3R5bGUuY3NzPzg1MmEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqIHtcXHJcXG4gICAgcGFkZGluZyAgOiAwO1xcclxcbiAgICBtYXJnaW4gICA6IDA7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTRweDtcXHJcXG59XFxyXFxuXFxyXFxuaHRtbCxcXHJcXG5ib2R5LFxcclxcbiNhcHAge1xcclxcbiAgICB3aWR0aCA6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICAgIGJhY2tncm91bmQ6ICMzMzMzMzM7XFxyXFxufVxcclxcbiNhcHB7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxufVxcclxcbmNhbnZhcyB7XFxyXFxuICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBtYXJnaW46IDAgYXV0bztcXHJcXG59XCIsIFwiXCJdKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./public/css/style.css\nvar style = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/three/build/three.min.js\nvar three_min = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/utils/event.js\nclass Event {\n  constructor(sender) {\n    this._sender = sender;\n    this._listeners = [];\n  }\n\n  attach(callback = null) {\n    if (callback == null) return;\n\n    this._listeners.push(callback);\n  }\n\n  notify(args) {\n    this._listeners.map(item => {\n      item(this._sender, args);\n    });\n  }\n\n}\n// CONCATENATED MODULE: ./src/game/model.js\n\n\nclass model_GameModel {\n  constructor() {\n    this.stage = "";\n    this.changeStage = new Event(this);\n  }\n\n  getStage() {\n    return this.stage;\n  }\n\n  setStage(stage) {\n    this.stage = stage;\n    this.changeStage.notify({\n      stage\n    });\n  }\n\n}\n\n/* harmony default export */ var model = (new model_GameModel());\n// CONCATENATED MODULE: ./src/utils/common.js\nconst common = {\n  canvas: null,\n  width: 300,\n  height: 300,\n  aspect: 1,\n  gravity: 700\n};\nconst STAGEGROUP = {\n  GAMEOVER: "game-over",\n  GAMEMAIN: "game-main"\n};\nconst BLOCKTYPE = {\n  CUBOID: "cuboid",\n  CYLINDER: "cylinder"\n};\nconst BLOCKCONFIG = {\n  width: 16,\n  height: 12\n};\nconst BOTTLECONFIG = {\n  x: -15,\n  y: 0,\n  z: 0\n};\nconst STATUS = {\n  "STOP": "stop",\n  "SKRINK": "shrink",\n  "JUMP": "jump",\n  "FORERAKE": "forerake",\n  "HYPSOKINESIS": "hypsokinesis",\n  "FALL": "fall"\n};\nconst COLOR = [0x329ffc, 0x9fcf1f, 0xf44f3c, 0xffcf00];\n// CONCATENATED MODULE: ./src/utils/tween.js\nvar Tween = {\n  Linear: function Linear(t, b, c, d) {\n    return c * t / d + b;\n  },\n  Quad: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t + b;\n      return -c / 2 * (--t * (t - 2) - 1) + b;\n    }\n  },\n  Cubic: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c * (t /= d) * t * t + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t + 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n      return c / 2 * ((t -= 2) * t * t + 2) + b;\n    }\n  },\n  Quart: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c * (t /= d) * t * t * t + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n      return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n    }\n  },\n  Quint: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c * (t /= d) * t * t * t * t + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n      return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n  },\n  Sine: {\n    easeIn: function easeIn(t, b, c, d) {\n      return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n    }\n  },\n  Expo: {\n    easeIn: function easeIn(t, b, c, d) {\n      return t == 0 ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return t == d ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if (t == 0) return b;\n      if (t == d) return b + c;\n      if ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n      return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n  },\n  Circ: {\n    easeIn: function easeIn(t, b, c, d) {\n      return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if ((t /= d / 2) < 1) return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n      return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n  },\n  Elastic: {\n    easeIn: function easeIn(t, b, c, d, a, p) {\n      var s;\n      if (t == 0) return b;\n      if ((t /= d) == 1) return b + c;\n      if (typeof p == "undefined") p = d * .3;\n\n      if (!a || a < Math.abs(c)) {\n        s = p / 4;\n        a = c;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n\n      return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    },\n    easeOut: function easeOut(t, b, c, d, a, p) {\n      var s;\n      if (t == 0) return b;\n      if ((t /= d) == 1) return b + c;\n      if (typeof p == "undefined") p = d * .3;\n\n      if (!a || a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n\n      return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d, a, p) {\n      var s;\n      if (t == 0) return b;\n      if ((t /= d / 2) == 2) return b + c;\n      if (typeof p == "undefined") p = d * (.3 * 1.5);\n\n      if (!a || a < Math.abs(c)) {\n        a = c;\n        s = p / 4;\n      } else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n\n      if (t < 1) return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n      return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n    }\n  },\n  Back: {\n    easeIn: function easeIn(t, b, c, d, s) {\n      if (typeof s == "undefined") s = 1.70158;\n      return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    easeOut: function easeOut(t, b, c, d, s) {\n      if (typeof s == "undefined") s = 1.70158;\n      return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    easeInOut: function easeInOut(t, b, c, d, s) {\n      if (typeof s == "undefined") s = 1.70158;\n      if ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n      return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n  },\n  Bounce: {\n    easeIn: function easeIn(t, b, c, d) {\n      return c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n    },\n    easeOut: function easeOut(t, b, c, d) {\n      if ((t /= d) < 1 / 2.75) {\n        return c * (7.5625 * t * t) + b;\n      } else if (t < 2 / 2.75) {\n        return c * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + b;\n      } else if (t < 2.5 / 2.75) {\n        return c * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + b;\n      } else {\n        return c * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + b;\n      }\n    },\n    easeInOut: function easeInOut(t, b, c, d) {\n      if (t < d / 2) {\n        return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n      } else {\n        return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n      }\n    }\n  }\n};\n/* harmony default export */ var utils_tween = (Tween);\n// CONCATENATED MODULE: ./src/utils/animation.js\n\nvar animationId = -1;\nvar killAnimationId = animationId - 1;\nvar _customAnimation = {};\n\n_customAnimation.to = function (obj, duration, options) {\n  duration *= 1000;\n  var delay = options.delay || 0;\n\n  for (var name in options) {\n    if (name === \'delay\') {\n      delay = options[name];\n    } else if (name === \'onComplete\') {} else if (name === \'ease\') {} else {\n      setTimeout(function (name) {\n        return function () {\n          animation_TweenAnimation(obj[name], options[name], duration, options.ease || \'Linear\', function (value, complete) {\n            obj[name] = value;\n\n            if (complete) {\n              options.onComplete && options.onComplete();\n            }\n          });\n        };\n      }(name), delay * 1000);\n    }\n  }\n}; // 对运动方法进行封装\n\n\nvar _TweenAnimation = function TweenAnimation(from, to, duration, easing, callback) {\n  var selfAnimationId = ++animationId;\n\n  var isUndefined = function isUndefined(obj) {\n    return typeof obj == \'undefined\';\n  };\n\n  var isFunction = function isFunction(obj) {\n    return typeof obj == \'function\';\n  };\n\n  var isNumber = function isNumber(obj) {\n    return typeof obj == \'number\';\n  };\n\n  var isString = function isString(obj) {\n    return typeof obj == \'string\';\n  }; // 转换成毫秒\n\n\n  var toMillisecond = function toMillisecond(obj) {\n    if (isNumber(obj)) {\n      return obj;\n    } else if (isString(obj)) {\n      if (/\\d+m?s$/.test(obj)) {\n        if (/ms/.test(obj)) {\n          return 1 * obj.replace(\'ms\', \'\');\n        }\n\n        return 1000 * obj.replace(\'s\', \'\');\n      } else if (/^\\d+$/.test(obj)) {\n        return +obj;\n      }\n    }\n\n    return -1;\n  };\n\n  if (!isNumber(from) || !isNumber(to)) {\n    if (window.console) {\n      console.error(\'from和to两个参数必须且为数值\');\n    }\n\n    return 0;\n  } // 缓动算法\n\n\n  var tween = utils_tween;\n\n  if (!tween) {\n    if (window.console) {\n      console.error(\'缓动算法函数缺失\');\n    }\n\n    return 0;\n  } // duration, easing, callback均为可选参数\n  // 而且顺序可以任意\n\n\n  var options = {\n    duration: 300,\n    easing: \'Linear\',\n    callback: function callback() {}\n  };\n\n  var setOptions = function setOptions(obj) {\n    if (isFunction(obj)) {\n      options.callback = obj;\n    } else if (toMillisecond(obj) != -1) {\n      options.duration = toMillisecond(obj);\n    } else if (isString(obj)) {\n      options.easing = obj;\n    }\n  };\n\n  setOptions(duration);\n  setOptions(easing);\n  setOptions(callback); // requestAnimationFrame的兼容处理\n\n  if (!window.requestAnimationFrame) {\n    requestAnimationFrame = function requestAnimationFrame(fn) {\n      setTimeout(fn, 16.7);\n    };\n  } // 算法需要的几个变量\n\n\n  var start = -1; // during根据设置的总时间计算\n\n  var during = Math.ceil(options.duration / 16.7); // 当前动画算法\n  // 确保首字母大写\n\n  options.easing = options.easing.slice(0, 1).toUpperCase() + options.easing.slice(1);\n  var arrKeyTween = options.easing.split(\'.\');\n  var fnGetValue;\n\n  if (arrKeyTween.length == 1) {\n    fnGetValue = tween[arrKeyTween[0]];\n  } else if (arrKeyTween.length == 2) {\n    fnGetValue = tween[arrKeyTween[0]] && tween[arrKeyTween[0]][arrKeyTween[1]];\n  }\n\n  if (isFunction(fnGetValue) == false) {\n    console.error(\'没有找到名为"\' + options.easing + \'"的动画算法\');\n    return;\n  }\n\n  var startTime = Date.now();\n  var lastTime = Date.now(); // 运动\n\n  var step = function step() {\n    var currentTime = Date.now();\n    var interval = currentTime - lastTime;\n\n    if (interval) {\n      var fps = Math.ceil(1000 / interval);\n    } else {\n      requestAnimationFrame(step);\n      return;\n    }\n\n    lastTime = currentTime;\n\n    if (interval > 100) {\n      requestAnimationFrame(step);\n      return;\n    }\n\n    if (fps >= 30) {\n      start++;\n    } else {\n      var _start = Math.floor((currentTime - startTime) / 16.7);\n\n      start = _start > start ? _start : start + 1;\n    } // 当前的运动位置\n\n\n    var value = fnGetValue(start, from, to - from, during); // 如果还没有运动到位，继续\n\n    if (start <= during && selfAnimationId > killAnimationId) {\n      options.callback(value);\n      requestAnimationFrame(step);\n    } else if (start > during && selfAnimationId > killAnimationId) {\n      // 动画结束，这里可以插入回调...\n      options.callback(to, true);\n    } else {}\n  }; // 开始执行动画\n\n\n  step();\n};\n\nvar _stopAllAnimation = () => {\n  killAnimationId = animationId;\n};\n\nconst customAnimation = _customAnimation;\nconst animation_TweenAnimation = _TweenAnimation;\nconst stopAllAnimation = _stopAllAnimation;\n// CONCATENATED MODULE: ./src/scene/camera.js\n\n\n\nclass camera_Camera {\n  constructor() {\n    this.instance = null;\n    this.frustumSize = 30;\n  }\n\n  init() {\n    const {\n      aspect\n    } = common;\n    let frustumSize = this.frustumSize;\n    this.instance = new THREE.OrthographicCamera(-frustumSize, frustumSize, frustumSize * aspect, -frustumSize * aspect, -100, 85);\n    this.reset();\n    this.instance.lookAt(this.target);\n  }\n\n  reset() {\n    //-10,10,10\n    this.instance.position.set(-10, 10, 10);\n    this.target = new THREE.Vector3(0, 0, 0);\n  }\n\n  updatePosition(newTargetPosition) {\n    customAnimation.to(this.instance.position, 0.5, {\n      x: newTargetPosition.x - 10,\n      y: newTargetPosition.y + 10,\n      z: newTargetPosition.z + 10\n    });\n    customAnimation.to(this.target, 0.5, {\n      x: newTargetPosition.x,\n      y: newTargetPosition.y,\n      z: newTargetPosition.z\n    });\n  }\n\n}\n\n/* harmony default export */ var camera = (new camera_Camera());\n// CONCATENATED MODULE: ./src/scene/light.js\n\n\nclass light_Light {\n  constructor() {\n    this.instances = {};\n  }\n\n  init() {\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\n    const shadowLight = new THREE.DirectionalLight(0xffffff, 0.3);\n    this.shadowLight = shadowLight;\n    const shadowLightHelper = new THREE.DirectionalLightHelper(shadowLight, 5);\n    shadowLight.position.set(10, 30, 20);\n    ;\n    shadowLight.castShadow = true;\n    var basicMaterial = new THREE.MeshBasicMaterial({\n      color: 0xF5F5F5\n    });\n    ;\n    this.shadowTarget = new THREE.Mesh(new THREE.PlaneGeometry(0.1, 0.1), basicMaterial);\n    this.shadowTarget.visible = false;\n    this.shadowTarget.name = \'shadowTarget\';\n    shadowLight.target = this.shadowTarget;\n    shadowLight.shadow.camera.near = 0.5;\n    shadowLight.shadow.camera.far = 500;\n    shadowLight.shadow.camera.left = -100;\n    shadowLight.shadow.camera.right = 100;\n    shadowLight.shadow.camera.top = 100;\n    shadowLight.shadow.camera.bottom = -100;\n    shadowLight.shadow.mapSize.width = 1024;\n    shadowLight.shadow.mapSize.height = 1024;\n    this.instances.shadowLight = shadowLight;\n    this.instances.ambientLight = ambientLight;\n    this.instances.shadowTarget = this.shadowTarget; // this.instances.shadowLightHelper = shadowLightHelper;\n  }\n\n  updatePosition(targetPosition) {\n    customAnimation.to(this.shadowTarget.position, 0.5, {\n      x: targetPosition.x,\n      y: targetPosition.y,\n      z: targetPosition.z\n    });\n    customAnimation.to(this.shadowLight.position, 0.5, {\n      x: 10 + targetPosition.x,\n      y: 30 + targetPosition.y,\n      z: 20 + targetPosition.z\n    });\n  }\n\n  reset() {\n    this.shadowLight.position.set(10, 30, 20);\n    this.shadowTarget.position.set(0, 0, 0);\n  }\n\n}\n\n/* harmony default export */ var light = (new light_Light());\n// CONCATENATED MODULE: ./src/part/background.js\n\n\n\nclass background_Background {\n  constructor() {\n    this.instance = null;\n    this.frustumSize = camera.frustumSize;\n  }\n\n  init() {\n    const {\n      width,\n      height\n    } = common;\n    const geometry = new THREE.PlaneGeometry(this.frustumSize * 2, this.frustumSize * 2 * height / width);\n    const material = new THREE.MeshBasicMaterial({\n      color: 0xf5f5f5,\n      opacity: 1,\n      transparent: true\n    });\n    const mesh = new THREE.Mesh(geometry, material);\n    this.instance = mesh;\n  }\n\n}\n\n/* harmony default export */ var background = (new background_Background());\n// CONCATENATED MODULE: ./src/scene/index.js\n\n\n\n\n\nclass scene_Scene {\n  constructor() {\n    this.instance = null;\n  }\n\n  init() {\n    const {\n      width,\n      height,\n      canvas\n    } = common;\n    this.renderer = new THREE.WebGLRenderer({\n      canvas,\n      antialias: true,\n      preserveDrawingBuffer: true\n    });\n    this.renderer.shadowMap.enabled = true;\n    this.renderer.shadowMap.type = THREE.PCFShadowMap; // this.renderer.setClearColor(new THREE.Color(0xffffff));\n\n    this.renderer.setSize(width, height);\n    this.instance = new THREE.Scene();\n    this.camera = camera;\n    this.camera.init();\n    this.light = light;\n    this.light.init();\n    this.axesHelper = new THREE.AxesHelper(100); // this.instance.add(this.axesHelper);\n\n    this.instance.add(this.camera.instance);\n\n    for (const key in this.light.instances) {\n      if (this.light.instances.hasOwnProperty(key)) {\n        this.instance.add(this.light.instances[key]);\n      }\n    }\n\n    this.background = background;\n    this.background.init();\n    this.background.instance.position.z = -84;\n    this.camera.instance.add(this.background.instance);\n  }\n\n  render() {\n    this.renderer.render(this.instance, this.camera.instance);\n  }\n\n  updateCameraPosition(targetPosition) {\n    this.camera.updatePosition(targetPosition);\n    this.light.updatePosition(targetPosition);\n  }\n\n  reset() {\n    this.camera.reset();\n    this.light.reset();\n  }\n\n  addScore(scoreInstance) {\n    this.currentScore = scoreInstance;\n    this.camera.instance.add(scoreInstance);\n    scoreInstance.position.x = -24;\n    scoreInstance.position.y = 42;\n  }\n\n  updateScore(scoreInstance) {\n    this.camera.instance.remove(this.currentScore);\n    this.currentScore = scoreInstance;\n    this.camera.instance.add(scoreInstance);\n    scoreInstance.position.x = -24;\n    scoreInstance.position.y = 42;\n  }\n\n}\n\n/* harmony default export */ var src_scene = (new scene_Scene());\n// CONCATENATED MODULE: ./src/block/base.js\n\n\nclass base_BaseBlock {\n  constructor(type) {\n    this.type = type;\n    this.width = BLOCKCONFIG.width;\n    this.height = BLOCKCONFIG.height;\n    this.status = STATUS.STOP;\n    this.scale = 1;\n  }\n\n  popup() {\n    this.instance.position.set(this.x, this.y + 30, this.z);\n    customAnimation.to(this.instance.position, 0.5, {\n      x: this.x,\n      y: this.y,\n      z: this.z,\n      ease: \'Bounce.easeOut\'\n    });\n  }\n\n  _shrink() {\n    const DELTA_SCALE = 0.005;\n    const MIN_SCALE = 0.55;\n    this.scale -= DELTA_SCALE;\n    this.scale = Math.max(MIN_SCALE, this.scale);\n\n    if (this.scale <= MIN_SCALE) {\n      this.status = STATUS.STOP;\n      return;\n    }\n\n    this.instance.scale.y = this.scale;\n    const deltaY = this.height * DELTA_SCALE / 2;\n    this.instance.position.y -= deltaY;\n  }\n\n  rebound() {\n    this.status = STATUS.STOP;\n    this.scale = 1;\n    customAnimation.to(this.instance.scale, 0.5, {\n      ease: \'Elastic.easeOut\',\n      y: 1\n    });\n    customAnimation.to(this.instance.position, 0.5, {\n      ease: \'Elastic.easeOut\',\n      y: 0\n    });\n  }\n\n  shrink() {\n    this.status = STATUS.SKRINK;\n  }\n\n  update() {\n    if (this.status === STATUS.SKRINK) {\n      this._shrink();\n    }\n  }\n\n  getVertices() {\n    const vertices = [];\n    const centerPosition = {\n      x: this.instance.position.x,\n      z: this.instance.position.z\n    };\n    vertices.push([centerPosition.x + this.width / 2, centerPosition.z + this.width / 2]);\n    vertices.push([centerPosition.x + this.width / 2, centerPosition.z - this.width / 2]);\n    vertices.push([centerPosition.x - this.width / 2, centerPosition.z + this.width / 2]);\n    vertices.push([centerPosition.x - this.width / 2, centerPosition.z - this.width / 2]);\n    return vertices;\n  }\n\n}\n// CONCATENATED MODULE: ./public/images/stool.png\n/* harmony default export */ var stool = (__webpack_require__.p + "8e236b49682ed68d8b1a7d91c1af9c0d.png");\n// CONCATENATED MODULE: ./src/block/cuboid.js\n\n\n\nclass cuboid_CuboidBlock extends base_BaseBlock {\n  constructor(x = 0, y = 0, z = 0, type, size) {\n    super(BLOCKTYPE.CUBOID);\n    this.name = "block";\n    this.instance = null;\n    this.size = size || this.width;\n    const geometry = new THREE.BoxGeometry(this.size, this.height, this.size);\n    this.texture = new THREE.TextureLoader().load(stool);\n    const material = new THREE.MeshPhongMaterial({\n      color: ~~COLOR[~~(COLOR.length * Math.random())]\n    });\n    this.instance = new THREE.Mesh(geometry, material);\n    this.instance.receiveShadow = true;\n    this.instance.castShadow = true;\n    this.instance.name = this.name;\n    this.x = this.instance.position.x = x;\n    this.y = this.instance.position.y = y;\n    this.z = this.instance.position.z = z;\n\n    if (type === \'popup\') {\n      this.popup();\n    } else if (type === \'show\') {\n      this.instance.position.x = this.x;\n      this.instance.position.y = this.y;\n      this.instance.position.z = this.z;\n    }\n  }\n\n}\n// CONCATENATED MODULE: ./src/block/cylinder.js\n\n\n\nclass cylinder_CylinderBlock extends base_BaseBlock {\n  constructor(x = 0, y = 0, z = 0, type, size) {\n    super(BLOCKTYPE.CYLINDER);\n    this.name = "block";\n    this.instance = null;\n    this.size = size || this.width;\n    const geometry = new THREE.CylinderGeometry(this.size / 2, this.size / 2, this.height, 100);\n    this.texture = new THREE.TextureLoader().load(stool);\n    const material = new THREE.MeshPhongMaterial({\n      color: ~~COLOR[~~(COLOR.length * Math.random())]\n    });\n    this.instance = new THREE.Mesh(geometry, material);\n    this.instance.receiveShadow = true;\n    this.instance.castShadow = true;\n    this.instance.name = this.name;\n    this.x = this.instance.position.x = x;\n    this.y = this.instance.position.y = y;\n    this.z = this.instance.position.z = z;\n\n    if (type === \'popup\') {\n      this.popup();\n    } else if (type === \'show\') {\n      this.instance.position.x = this.x;\n      this.instance.position.y = this.y;\n      this.instance.position.z = this.z;\n    }\n  }\n\n}\n// CONCATENATED MODULE: ./src/part/ground.js\nclass Ground {\n  constructor() {\n    this.instance = null;\n  }\n\n  init() {\n    const geometry = new THREE.PlaneGeometry(200, 200);\n    const material = new THREE.ShadowMaterial({\n      transparent: true,\n      color: 0x000000,\n      opacity: 0.2\n    });\n    this.instance = new THREE.Mesh(geometry, material);\n    this.instance.rotation.x = -Math.PI / 2;\n    this.instance.position.y = -5.8;\n    this.instance.receiveShadow = true;\n  }\n\n  reset() {\n    this.instance.rotation.x = -Math.PI / 2;\n    this.instance.position.y = -5.8;\n    this.instance.position.x = 0;\n    this.instance.position.z = 0;\n  }\n\n  updatePosition(targetPosition) {\n    this.instance.position.x = targetPosition.x;\n    this.instance.position.z = targetPosition.z;\n  }\n\n}\n\n/* harmony default export */ var ground = (new Ground());\n// CONCATENATED MODULE: ./public/images/head.png\n/* harmony default export */ var head = (__webpack_require__.p + "1facdcc1ef25e0d7126bb6dfee1e69a7.png");\n// CONCATENATED MODULE: ./public/images/bottom.png\n/* harmony default export */ var bottom = (__webpack_require__.p + "3835d18c57590f92d1a7fb4ce217304f.png");\n// CONCATENATED MODULE: ./public/images/top.png\n/* harmony default export */ var images_top = (__webpack_require__.p + "110c5048a6658f9ee19168619cd5335c.png");\n// CONCATENATED MODULE: ./src/part/bottle.js\n\n\n\n\n\n\n\nclass bottle_Bottle {\n  constructor() {\n    const {\n      x,\n      y,\n      z\n    } = BOTTLECONFIG;\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.instance = null;\n    this.name = "bottle";\n    this.radius = 1.78;\n    this.depth = 10.24;\n    this.width = this.radius * 2;\n    this.blockHeight = BLOCKCONFIG.height;\n    this.gravity = common.gravity;\n    this.flyingTime = 0;\n    this.direction = 0;\n    this.axis = null;\n    this.status = \'\';\n    this.reset();\n  }\n\n  init() {\n    this.instance = new THREE.Object3D();\n    this.hero = new THREE.Object3D();\n    this.instance.name = this.name;\n    this.instance.position.set(this.x, this.y + 30, this.z);\n    this.instance.castShadow = true;\n    this.instance.receiveShadow = true;\n    this.head = this.createHead();\n    this.head.position.y = 10.24;\n    this.head.receiveShadow = true;\n    this.head.castShadow = true;\n    this.body = new THREE.Object3D();\n    const bottom = this.createBottom();\n    bottom.receiveShadow = true;\n    bottom.castShadow = true;\n    const middle = this.createMiddle();\n    middle.receiveShadow = true;\n    middle.castShadow = true;\n    middle.position.y = 3.06;\n    const top = this.createTop();\n    top.receiveShadow = true;\n    top.castShadow = true;\n    top.position.y = 3.86;\n    this.body.add(top);\n    this.body.add(middle);\n    this.body.add(bottom);\n    this.body.position.y = 1.8;\n    this.hero.add(this.head);\n    this.hero.add(this.body);\n    this.instance.add(this.hero);\n  }\n\n  createHead() {\n    const geometry = new THREE.IcosahedronGeometry(this.radius, 3);\n    const texture = new THREE.TextureLoader().load(head);\n    const material = new THREE.MeshPhongMaterial({\n      map: texture,\n      color: 0xffffff\n    });\n    return new THREE.Mesh(geometry, material);\n  }\n\n  createBottom() {\n    const geometry = new THREE.CylinderGeometry(this.radius * 0.78, this.radius * 1.17, this.radius * 2.1, 20);\n    const texture = new THREE.TextureLoader().load(bottom);\n    const material = new THREE.MeshPhongMaterial({\n      map: texture,\n      color: 0xffffff\n    });\n    return new THREE.Mesh(geometry, material);\n  }\n\n  createMiddle() {\n    const geometry = new THREE.CylinderGeometry(this.radius * 0.955, this.radius * 0.78, this.radius * 1.41, 20);\n    const texture = new THREE.TextureLoader().load(bottom);\n    const material = new THREE.MeshPhongMaterial({\n      map: texture,\n      color: 0xffffff\n    });\n    return new THREE.Mesh(geometry, material);\n  }\n\n  createTop() {\n    const geometry = new THREE.SphereGeometry(this.radius, 32, 32, 0, 6.4, 0, 1.3);\n    const texture = new THREE.TextureLoader().load(images_top);\n    const material = new THREE.MeshPhongMaterial({\n      map: texture,\n      color: 0xffffff\n    });\n    return new THREE.Mesh(geometry, material);\n  }\n\n  show() {\n    return new Promise((resolve, reject) => {\n      customAnimation.to(this.instance.position, 1, {\n        x: BOTTLECONFIG.x,\n        y: BOTTLECONFIG.y + this.blockHeight / 2,\n        z: BOTTLECONFIG.z,\n        ease: \'Bounce.easeOut\',\n        onComplete: () => resolve()\n      });\n    });\n  }\n\n  setDirection(direction, axis) {\n    this.direction = direction;\n    this.axis = axis;\n  }\n\n  rotate() {\n    const scale = 1.35;\n    this.hero.rotation.z = this.hero.rotation.x = 0;\n\n    if (this.direction == 0) {\n      // x\n      customAnimation.to(this.hero.rotation, 0.14, {\n        z: this.hero.rotation.z - Math.PI\n      });\n      customAnimation.to(this.hero.rotation, 0.18, {\n        z: this.hero.rotation.z - 2 * Math.PI,\n        delay: 0.14\n      });\n      customAnimation.to(this.head.position, 0.1, {\n        y: this.head.position.y + 0.9 * scale,\n        x: this.head.position.x + 0.45 * scale\n      });\n      customAnimation.to(this.head.position, 0.1, {\n        y: this.head.position.y - 0.9 * scale,\n        x: this.head.position.x - 0.45 * scale,\n        delay: 0.1\n      });\n      customAnimation.to(this.head.position, 0.15, {\n        y: 10.24,\n        x: 0,\n        delay: 0.25\n      });\n      customAnimation.to(this.body.scale, 0.1, {\n        y: Math.max(scale, 1),\n        x: Math.max(Math.min(1 / scale, 1), 0.7),\n        z: Math.max(Math.min(1 / scale, 1), 0.7)\n      });\n      customAnimation.to(this.body.scale, 0.1, {\n        y: Math.min(0.9 / scale, 0.7),\n        x: Math.max(scale, 1.2),\n        z: Math.max(scale, 1.2),\n        delay: 0.1\n      });\n      customAnimation.to(this.body.scale, 0.3, {\n        y: 1,\n        x: 1,\n        z: 1,\n        delay: 0.2\n      });\n    } else if (this.direction == 1) {\n      // z\n      customAnimation.to(this.hero.rotation, 0.14, {\n        x: this.hero.rotation.x - Math.PI\n      });\n      customAnimation.to(this.hero.rotation, 0.18, {\n        x: this.hero.rotation.x - 2 * Math.PI,\n        delay: 0.14\n      });\n      customAnimation.to(this.head.position, 0.1, {\n        y: this.head.position.y + 0.9 * scale,\n        z: this.head.position.z - 0.45 * scale\n      });\n      customAnimation.to(this.head.position, 0.1, {\n        z: this.head.position.z + 0.45 * scale,\n        y: this.head.position.y - 0.9 * scale,\n        delay: 0.1\n      });\n      customAnimation.to(this.head.position, 0.15, {\n        y: 10.24,\n        z: 0,\n        delay: 0.25\n      });\n      customAnimation.to(this.body.scale, 0.05, {\n        y: Math.max(scale, 1),\n        x: Math.max(Math.min(1 / scale, 1), 0.7),\n        z: Math.max(Math.min(1 / scale, 1), 0.7)\n      });\n      customAnimation.to(this.body.scale, 0.05, {\n        y: Math.min(0.9 / scale, 0.7),\n        x: Math.max(scale, 1.2),\n        z: Math.max(scale, 1.2),\n        delay: 0.1\n      });\n      customAnimation.to(this.body.scale, 0.2, {\n        y: 1,\n        x: 1,\n        z: 1,\n        delay: 0.2\n      });\n    }\n  }\n\n  reset() {\n    this.stop();\n    this.instance && this.instance.position.set(this.x, this.y + 30, this.z);\n    this.instance && this.instance.rotation.set(0, 0, 0);\n  }\n\n  shrink() {\n    this.status = STATUS.SKRINK;\n  }\n\n  jump() {\n    this.status = STATUS.JUMP;\n  }\n\n  stop() {\n    this.status = STATUS.STOP;\n    this.velocity = {\n      vx: 0,\n      vy: 0\n    };\n    this.flyingTime = 0;\n    this.scale = 1;\n\n    if (this.instance) {\n      this.body.scale.x = this.scale;\n      this.body.scale.y = this.scale;\n      this.body.scale.z = this.scale;\n      this.head.position.y = 10.24;\n      this.hero.position.y = 0;\n    }\n  }\n\n  _shrink() {\n    const DELTA_SCALE = 0.005;\n    const HORIZON_DELTA_SCALE = 0.002;\n    const HEAD_DELTA = 0.03;\n    const MIN_SCALE = 0.55;\n    this.scale -= DELTA_SCALE;\n    this.scale = Math.max(MIN_SCALE, this.scale);\n\n    if (this.scale <= MIN_SCALE) {\n      return;\n    }\n\n    this.body.scale.y = this.scale;\n    this.body.scale.x += HORIZON_DELTA_SCALE;\n    this.body.scale.z += HORIZON_DELTA_SCALE;\n    this.head.position.y -= HEAD_DELTA;\n    const bottleDeltaY = HEAD_DELTA / 2;\n    const deltaY = this.blockHeight * DELTA_SCALE / 2;\n    this.hero.position.y -= bottleDeltaY + deltaY * 2;\n  }\n\n  _jump(tickTime) {\n    const t = tickTime / 1000;\n    this.flyingTime = this.flyingTime + t;\n    const translateH = this.velocity.vx * t;\n    const translateY = this.velocity.vy * t - 0.5 * this.gravity * t * t - this.gravity * this.flyingTime * t;\n    this.instance.translateY(translateY);\n    this.instance.translateOnAxis(this.axis, translateH);\n  }\n\n  forerake() {\n    this.status = STATUS.FORERAKE;\n    this.instance.position.y = BLOCKCONFIG.height / 2;\n    setTimeout(() => {\n      if (this.direction === 0) {\n        customAnimation.to(this.instance.rotation, .5, {\n          z: -Math.PI / 2\n        });\n      }\n\n      if (this.direction === 1) {\n        customAnimation.to(this.instance.rotation, .5, {\n          x: -Math.PI / 2\n        });\n      }\n\n      setTimeout(() => {\n        customAnimation.to(this.instance.position, 0.2, {\n          y: -BLOCKCONFIG.height / 2 + 1.2\n        });\n      }, 350);\n    }, 200);\n  }\n\n  hypsokinesis() {\n    this.status = STATUS.HYPSOKINESIS;\n    this.instance.position.y = BLOCKCONFIG.height / 2;\n    setTimeout(() => {\n      if (this.direction === 0) {\n        customAnimation.to(this.instance.rotation, .5, {\n          z: Math.PI / 2\n        });\n      }\n\n      if (this.direction === 1) {\n        customAnimation.to(this.instance.rotation, .5, {\n          x: Math.PI / 2\n        });\n      }\n\n      setTimeout(() => {\n        customAnimation.to(this.instance.position, 0.2, {\n          y: -BLOCKCONFIG.height / 2 + 1.2\n        });\n      }, 150);\n    }, 200);\n  }\n\n  fall() {\n    this.status = STATUS.FALL;\n    console.log(\'fall\');\n    customAnimation.to(this.instance.position, 0.2, {\n      y: -BLOCKCONFIG.height / 2 + 1.2\n    });\n  }\n\n  update() {\n    if (this.status === STATUS.SKRINK) {\n      this._shrink();\n    } else if (this.status === STATUS.JUMP) {\n      const tickTime = Date.now() - this.lastFrameTime;\n\n      this._jump(tickTime);\n    }\n\n    this.lastFrameTime = Date.now();\n  }\n\n}\n\n/* harmony default export */ var part_bottle = (new bottle_Bottle());\n// CONCATENATED MODULE: ./src/utils/index.js\n/* harmony default export */ var utils = ({\n  pointInPolygon(point, vs) {\n    var x = point[0],\n        y = point[1];\n    var inside = false;\n    const xMin = vs[0][0] > vs[2][0] ? vs[2][0] : vs[0][0];\n    const xMax = vs[0][0] < vs[2][0] ? vs[2][0] : vs[0][0];\n    const yMin = vs[0][1] > vs[1][1] ? vs[1][1] : vs[0][1];\n    const yMax = vs[0][1] < vs[1][1] ? vs[1][1] : vs[0][1];\n\n    if (x > xMin && x < xMax && y > yMin && y < yMax) {\n      inside = true;\n    }\n\n    return inside;\n  },\n\n  merge(totalGeometry, geometry, index, positions) {\n    for (var i = 0, len = geometry.faces.length; i < len; ++i) {\n      geometry.faces[i].materialIndex = 0;\n    }\n\n    var mesh = new THREE.Mesh(geometry);\n\n    for (var i = 0, len = positions.length; i < len; ++i) {\n      mesh.position.set(positions[i].x, positions[i].y, positions[i].z);\n      mesh.updateMatrix();\n      totalGeometry.merge(mesh.geometry, mesh.matrix, index);\n    }\n  },\n\n  mapUv(textureWidth, textureHeight, geometry, faceIdx, x1, y1, x2, y2, flag) {\n    var tileUvW = 1 / textureWidth;\n    var tileUvH = 1 / textureHeight;\n\n    if (geometry.faces[faceIdx] instanceof THREE.Face3) {\n      var UVs = geometry.faceVertexUvs[0][faceIdx * 2];\n\n      if (faceIdx == 4 && !flag) {\n        UVs[0].x = x1 * tileUvW;\n        UVs[0].y = y1 * tileUvH;\n        UVs[2].x = x1 * tileUvW;\n        UVs[2].y = y2 * tileUvH;\n        UVs[1].x = x2 * tileUvW;\n        UVs[1].y = y1 * tileUvH;\n      } else {\n        UVs[0].x = x1 * tileUvW;\n        UVs[0].y = y1 * tileUvH;\n        UVs[1].x = x1 * tileUvW;\n        UVs[1].y = y2 * tileUvH;\n        UVs[2].x = x2 * tileUvW;\n        UVs[2].y = y1 * tileUvH;\n      }\n\n      var UVs = geometry.faceVertexUvs[0][faceIdx * 2 + 1];\n\n      if (faceIdx == 4 && !flag) {\n        UVs[2].x = x1 * tileUvW;\n        UVs[2].y = y2 * tileUvH;\n        UVs[1].x = x2 * tileUvW;\n        UVs[1].y = y2 * tileUvH;\n        UVs[0].x = x2 * tileUvW;\n        UVs[0].y = y1 * tileUvH;\n      } else {\n        UVs[0].x = x1 * tileUvW;\n        UVs[0].y = y2 * tileUvH;\n        UVs[1].x = x2 * tileUvW;\n        UVs[1].y = y2 * tileUvH;\n        UVs[2].x = x2 * tileUvW;\n        UVs[2].y = y1 * tileUvH;\n      }\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./src/part/font.js\nconst font = {\n  "glyphs": {\n    "0": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 696,\n      "o": "m 0 868 l 696 868 l 696 693 l 0 693 l 0 868 m 696 0 l 0 0 l 0 175 l 696 175 l 696 0 m 0 694 l 175 694 l 175 174 l 0 174 l 0 694 m 521 694 l 696 694 l 696 174 l 521 174 l 521 694 z "\n    },\n    "1": {\n      "ha": 521,\n      "x_min": 0,\n      "x_max": 347,\n      "o": "m 174 0 l 347 0 l 347 868 l 0 868 l 0 694 l 174 694 l 174 0 z "\n    },\n    "2": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 0 868 l 0 694 l 521 694 l 521 521 l 0 521 l 0 0 l 694 0 l 694 174 l 174 174 l 174 347 l 694 347 l 694 868 l 0 868 z "\n    },\n    "3": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 694 0 l 694 868 l 0 868 l 0 694 l 521 694 l 521 521 l 0 521 l 0 347 l 521 347 l 521 174 l 0 174 l 0 0 l 694 0 z "\n    },\n    "4": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 521 347 l 174 347 l 174 868 l 0 868 l 0 174 l 521 174 l 521 0 l 694 0 l 694 868 l 521 868 l 521 347 z "\n    },\n    "5": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 694 694 l 694 868 l 0 868 l 0 347 l 521 347 l 521 174 l 0 174 l 0 0 l 694 0 l 694 521 l 174 521 l 174 694 l 694 694 z "\n    },\n    "6": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 0 869 l 175 869 l 175 0 l 0 0 l 0 869 m 174 519 l 694 519 l 694 346 l 174 346 l 174 519 m 174 869 l 519 869 l 519 694 l 174 694 l 174 869 m 174 174 l 694 174 l 694 0 l 174 0 l 174 174 m 521 347 l 694 347 l 694 174 l 521 174 l 521 347 z "\n    },\n    "7": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 0 868 l 0 694 l 521 694 l 521 521 l 694 521 l 694 868 l 0 868 m 347 347 l 521 347 l 521 521 l 347 521 l 347 347 m 174 0 l 347 0 l 347 347 l 174 347 l 174 0 z "\n    },\n    "8": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 694,\n      "o": "m 0 868 l 174 868 l 174 0 l 0 0 l 0 868 m 521 868 l 694 868 l 694 0 l 521 0 l 521 868 m 174 174 l 521 174 l 521 0 l 174 0 l 174 174 m 174 868 l 521 868 l 521 693 l 174 693 l 174 868 m 174 521 l 521 521 l 521 346 l 174 346 l 174 521 z "\n    },\n    "9": {\n      "ha": 868,\n      "x_min": 0,\n      "x_max": 696,\n      "o": "m 0 521 l 696 521 l 696 346 l 0 346 l 0 521 m 0 868 l 694 868 l 694 694 l 0 694 l 0 868 m 0 696 l 175 696 l 175 519 l 0 519 l 0 696 m 521 696 l 694 696 l 694 521 l 521 521 l 521 696 m 521 349 l 696 349 l 696 -1 l 521 -1 l 521 349 m 174 174 l 521 174 l 521 -1 l 174 -1 l 174 174 z "\n    },\n    "+": {\n      "ha": 694,\n      "x_min": 0,\n      "x_max": 521,\n      "o": "m 174 174 l 347 174 l 347 347 l 521 347 l 521 521 l 347 521 l 347 694 l 174 694 l 174 521 l 0 521 l 0 347 l 174 347 l 174 174 z "\n    },\n    "了": {\n      "ha": 1389,\n      "x_min": 72,\n      "x_max": 1278,\n      "o": "m 659 954 q 1092 1246 891 1096 l 72 1246 l 72 1358 l 1278 1358 l 1278 1225 q 781 899 1035 1058 l 781 400 q 730 216 781 266 q 544 159 680 161 q 323 164 469 159 q 301 293 315 231 q 534 277 437 278 q 659 400 659 275 l 659 954 z "\n    },\n    "住": {\n      "ha": 1389,\n      "x_min": 18,\n      "x_max": 1364,\n      "o": "m 423 279 l 841 279 l 841 694 l 502 694 l 502 793 l 841 793 l 841 1122 l 464 1122 l 464 1221 l 1324 1221 l 1324 1122 l 949 1122 l 949 793 l 1286 793 l 1286 694 l 949 694 l 949 279 l 1364 279 l 1364 180 l 423 180 l 423 279 m 18 788 q 346 1462 235 1084 l 457 1430 q 339 1135 401 1274 l 339 129 l 233 129 l 233 926 q 64 670 152 783 q 18 788 45 730 m 773 1407 l 860 1462 q 996 1287 935 1373 l 897 1225 q 773 1407 837 1325 z "\n    },\n    "力": {\n      "ha": 1389,\n      "x_min": 30,\n      "x_max": 1265,\n      "o": "m 87 1154 l 526 1154 q 532 1458 530 1303 l 650 1458 q 643 1154 647 1314 l 1265 1154 q 1234 406 1249 625 q 985 170 1217 172 q 716 175 873 170 q 696 302 711 228 l 700 302 q 974 288 876 286 q 1119 433 1105 290 q 1143 1044 1135 677 l 640 1044 q 528 513 628 690 q 110 132 420 315 q 30 235 72 180 q 415 567 323 399 q 522 1044 510 720 l 87 1044 l 87 1154 z "\n    },\n    "太": {\n      "ha": 1389,\n      "x_min": 19,\n      "x_max": 1367,\n      "o": "m 19 229 q 616 1019 548 514 l 43 1019 l 43 1123 l 624 1123 q 629 1453 629 1260 l 747 1453 q 743 1123 747 1280 l 1344 1123 l 1344 1019 l 749 1019 q 1367 262 891 467 q 1270 155 1303 199 q 694 878 831 401 q 102 129 581 411 q 19 229 75 164 m 540 408 l 625 476 q 817 267 723 372 l 720 190 q 540 408 636 297 z "\n    },\n    "好": {\n      "ha": 1389,\n      "x_min": 24,\n      "x_max": 1370,\n      "o": "m 591 376 l 511 290 q 358 430 434 362 q 90 145 258 275 q 27 232 61 187 q 283 496 189 349 q 79 671 176 590 q 168 1073 127 842 l 24 1073 l 24 1173 l 184 1173 q 227 1459 206 1309 l 336 1444 q 290 1173 312 1295 l 547 1173 l 547 1086 q 414 521 515 718 q 591 376 503 449 m 545 849 l 918 849 l 918 1061 q 1165 1268 1053 1175 l 594 1268 l 594 1366 l 1314 1366 l 1314 1260 q 1025 1015 1168 1135 l 1025 849 l 1370 849 l 1370 751 l 1025 751 l 1025 316 q 850 152 1025 152 q 673 156 793 152 q 655 263 666 206 q 836 251 777 252 q 918 332 918 251 l 918 751 l 545 751 l 545 849 m 442 1073 l 271 1073 q 189 699 224 812 l 332 585 q 442 1073 423 774 z "\n    },\n    "很": {\n      "ha": 1389,\n      "x_min": 22,\n      "x_max": 1370,\n      "o": "m 552 1381 l 1248 1381 l 1248 716 l 1145 716 l 1145 750 l 886 750 q 1002 526 928 627 q 1248 688 1134 605 l 1313 604 q 1058 457 1188 528 q 1370 235 1183 323 q 1287 138 1331 191 q 785 750 902 370 l 655 750 l 655 297 q 899 408 753 336 q 921 308 909 351 q 658 175 825 267 q 579 117 617 151 l 507 210 q 552 316 552 254 l 552 1381 m 22 650 q 395 1111 245 842 l 488 1058 q 343 844 419 944 l 343 123 l 239 123 l 239 715 q 69 545 157 623 q 22 650 49 600 m 1145 1289 l 655 1289 l 655 1112 l 1145 1112 l 1145 1289 m 28 1070 q 376 1458 243 1234 l 469 1404 q 79 972 312 1164 q 28 1070 54 1024 m 655 841 l 1145 841 l 1145 1021 l 655 1021 l 655 841 z "\n    },\n    "快": {\n      "ha": 1389,\n      "x_min": 18,\n      "x_max": 1354,\n      "o": "m 407 779 l 768 779 q 783 1115 779 891 l 499 1115 l 499 1210 l 784 1210 q 784 1447 784 1317 l 891 1447 q 890 1210 891 1320 l 1221 1210 l 1221 779 l 1354 779 l 1354 684 l 914 684 q 1345 232 1025 374 q 1256 127 1312 199 q 840 623 948 302 q 442 117 758 317 q 363 208 397 175 q 754 684 688 399 l 407 684 l 407 779 m 209 1447 l 311 1447 l 311 1149 l 363 1184 q 515 994 452 1086 l 435 936 q 311 1108 376 1028 l 311 122 l 209 122 l 209 1447 m 1115 1115 l 888 1115 q 876 779 886 899 l 1115 779 l 1115 1115 m 77 1135 l 168 1122 q 109 776 148 959 q 18 798 71 785 q 77 1135 50 937 z "\n    },\n    "棒": {\n      "ha": 1389,\n      "x_min": 8,\n      "x_max": 1375,\n      "o": "m 487 423 l 837 423 l 837 557 l 605 557 l 605 636 q 456 517 538 574 q 385 595 434 545 q 654 841 556 701 l 449 841 l 449 926 l 705 926 q 749 1039 732 981 l 528 1039 l 528 1124 l 770 1124 q 789 1236 781 1177 l 488 1236 l 488 1321 l 798 1321 q 806 1457 803 1386 l 906 1457 q 898 1321 903 1386 l 1312 1321 l 1312 1236 l 888 1236 q 871 1124 882 1176 l 1275 1124 l 1275 1039 l 852 1039 q 814 926 838 982 l 1366 926 l 1366 841 l 1085 841 q 1375 621 1191 690 q 1313 530 1341 576 q 1161 632 1229 575 l 1161 557 l 936 557 l 936 423 l 1290 423 l 1290 338 l 936 338 l 936 122 l 837 122 l 837 338 l 487 338 l 487 423 m 8 609 q 206 1101 130 807 l 24 1101 l 24 1195 l 209 1195 l 209 1459 l 304 1459 l 304 1195 l 461 1195 l 461 1101 l 304 1101 l 304 869 l 353 909 q 472 769 419 834 l 401 711 q 304 840 359 772 l 304 123 l 209 123 l 209 886 q 52 490 141 642 q 8 609 34 549 m 837 760 l 936 760 l 936 643 l 1147 643 q 989 841 1050 730 l 770 841 q 612 643 709 736 l 837 643 l 837 760 z "\n    },\n    "稳": {\n      "ha": 1389,\n      "x_min": 7,\n      "x_max": 1386,\n      "o": "m 530 690 l 1183 690 l 1183 808 l 556 808 l 556 897 l 1183 897 l 1183 1013 l 559 1013 l 559 1099 l 540 1080 q 461 1146 506 1112 q 711 1469 614 1286 l 817 1449 q 749 1339 784 1393 l 1153 1339 l 1153 1252 q 1042 1104 1099 1179 l 1286 1104 l 1286 551 l 1183 551 l 1183 600 l 530 600 l 530 690 m 7 519 q 214 964 134 696 l 31 964 l 31 1058 l 222 1058 l 222 1275 q 58 1261 141 1268 q 39 1358 52 1303 q 484 1402 260 1371 l 506 1303 q 323 1284 415 1293 l 323 1058 l 492 1058 l 492 964 l 323 964 l 323 802 l 378 845 q 524 682 456 766 l 444 617 q 323 772 385 701 l 323 125 l 222 125 l 222 726 q 53 407 152 538 q 7 519 33 464 m 640 519 l 743 519 l 743 327 q 830 248 743 248 l 960 248 q 1061 316 1046 248 q 1081 442 1073 370 q 1184 401 1126 422 q 1154 274 1171 332 q 990 156 1124 156 l 810 156 q 640 321 640 156 l 640 519 m 1031 1251 l 689 1251 q 564 1104 629 1172 l 925 1104 q 1031 1251 982 1181 m 494 519 l 585 487 q 477 217 538 345 q 385 259 434 240 q 494 519 449 374 m 1177 477 l 1264 517 q 1386 274 1340 372 l 1293 229 q 1177 477 1248 339 m 795 544 l 868 594 q 1009 419 948 502 l 926 361 q 795 544 867 456 z "\n    },\n    "给": {\n      "ha": 1389,\n      "x_min": 18,\n      "x_max": 1378,\n      "o": "m 551 693 l 1237 693 l 1237 121 l 1134 121 l 1134 212 l 654 212 l 654 119 l 551 119 l 551 693 m 184 646 q 467 667 191 646 q 454 581 460 625 q 68 543 228 560 l 46 628 q 252 914 127 705 q 46 899 165 909 l 18 983 q 273 1450 134 1116 l 380 1412 q 136 991 247 1157 q 297 994 217 993 q 399 1180 346 1078 l 499 1137 q 184 646 311 823 m 1134 601 l 654 601 l 654 304 l 1134 304 l 1134 601 m 971 1450 l 943 1404 q 1378 975 1101 1145 q 1299 888 1339 936 q 886 1313 1034 1077 q 502 871 738 1063 q 423 945 476 901 q 850 1450 697 1154 l 971 1450 m 597 947 l 1191 947 l 1191 854 l 597 854 l 597 947 m 23 331 q 476 425 275 378 q 477 330 475 376 q 58 232 201 273 l 23 331 z "\n    },\n    "超": {\n      "ha": 1389,\n      "x_min": 23,\n      "x_max": 1370,\n      "o": "m 23 248 q 134 791 126 427 l 235 785 q 214 541 231 654 q 343 370 263 435 l 343 873 l 30 873 l 30 971 l 301 971 l 301 1166 l 77 1166 l 77 1264 l 301 1264 l 301 1457 l 407 1457 l 407 1264 l 609 1264 l 609 1166 l 407 1166 l 407 971 l 627 971 l 627 873 l 445 873 l 445 662 l 639 662 l 639 566 l 445 566 l 445 311 q 671 269 543 270 q 1370 274 929 264 q 1332 170 1345 214 q 637 172 922 167 q 193 408 309 180 q 83 121 153 232 q 23 248 56 184 m 711 836 l 1278 836 l 1278 351 l 1177 351 l 1177 410 l 811 410 l 811 343 l 711 343 l 711 836 m 644 1308 l 644 1398 l 1293 1398 q 1274 1086 1286 1214 q 1112 928 1259 932 q 943 932 1039 926 q 922 1039 935 981 q 1092 1024 1023 1023 q 1177 1111 1169 1024 q 1191 1308 1187 1190 l 933 1308 q 705 879 922 1001 q 640 964 680 921 q 831 1308 827 1067 l 644 1308 m 1177 745 l 811 745 l 811 500 l 1177 500 l 1177 745 z "\n    },\n    "越": {\n      "ha": 1389,\n      "x_min": 26,\n      "x_max": 1370,\n      "o": "m 26 233 q 134 791 130 422 l 228 785 q 213 538 227 652 q 339 373 262 435 l 339 873 l 30 873 l 30 966 l 298 966 l 298 1166 l 77 1166 l 77 1259 l 298 1259 l 298 1455 l 393 1455 l 393 1259 l 602 1259 l 602 1166 l 393 1166 l 393 966 l 624 966 l 624 873 l 434 873 l 434 658 l 608 658 l 608 566 l 434 566 l 434 315 q 666 269 534 270 q 1370 274 981 264 q 1332 168 1345 214 q 637 172 947 168 q 191 406 316 178 q 83 121 155 232 q 26 233 56 184 m 770 395 q 987 644 895 511 q 917 1112 933 829 l 758 1112 l 758 650 q 897 773 819 703 q 917 674 905 720 q 755 529 837 606 q 692 457 726 500 l 624 525 q 666 658 666 579 l 666 1200 l 913 1200 q 909 1459 909 1328 l 1001 1459 q 1005 1200 1000 1336 l 1340 1200 l 1340 1112 l 1009 1112 q 1058 750 1020 902 q 1180 1017 1133 878 l 1271 979 q 1093 632 1196 792 q 1154 507 1120 560 q 1202 467 1179 467 q 1230 517 1222 467 q 1253 726 1242 604 q 1347 692 1316 703 q 1318 471 1332 544 q 1215 355 1298 355 q 1088 431 1142 355 q 1027 538 1054 476 q 844 331 944 426 q 770 395 818 362 m 1074 1404 l 1145 1455 q 1278 1298 1203 1392 l 1199 1242 q 1074 1404 1130 1340 z "\n    },\n    "！": {\n      "ha": 1389,\n      "x_min": 608,\n      "x_max": 781,\n      "o": "m 761 1321 l 746 570 l 639 570 l 624 1321 l 761 1321 m 694 426 q 755 401 730 426 q 781 340 781 376 q 755 279 781 304 q 694 255 730 255 q 633 279 659 255 q 608 340 608 304 q 633 401 608 376 q 694 426 659 426 z "\n    }\n  },\n  "familyName": "Microsoft YaHei",\n  "ascender": 1636,\n  "descender": -296,\n  "underlinePosition": -119,\n  "underlineThickness": 80,\n  "boundingBox": {\n    "yMin": -186,\n    "xMin": -220,\n    "yMax": 1706,\n    "xMax": 1763\n  },\n  "resolution": 1000,\n  "original_font_information": {\n    "format": 0,\n    "copyright": "`2005 Microsoft Corporation. All rights reserved.",\n    "fontFamily": "Microsoft YaHei",\n    "fontSubfamily": "Regular",\n    "uniqueID": "Microsoft YaHei-Regular",\n    "fullName": "Microsoft YaHei",\n    "version": "Version 0.71",\n    "postScriptName": "MicrosoftYaHei",\n    "trademark": "Microsoft YaHei is either a registered trademark or a trademark of Microsoft Corporation in the United States and/or other countries.",\n    "manufacturer": "Microsoft Corporation",\n    "designer": "Founder",\n    "description": "Microsoft YaHei is a Simplified Chinese font developed by taking advantage of ClearType technology, and it provides excellent reading experience particularly onscreen. The font is very legible at small sizes.",\n    "manufacturerURL": "http://www.microsoft.com/typography",\n    "designerURL": "http://www.founder.com.cn/cn",\n    "licence": "\\r\\nNOTIFICATION OF LICENSE AGREEMENT \\r\\n\\r\\nThis font software is part of the Microsoft software product in which it was included and is provided under the end user license agreement (“EULA”) for that Microsoft software product. The terms and conditions of the EULA govern the use of font software. Please refer to the applicable Microsoft product EULA if you have any questions about how you may use this font software. Microsoft reserves all rights that are not expressly granted in the EULA. For products that may have installed this font please see the license link.\\r\\n",\n    "licenceURL": "http://www.microsoft.com/typography/fonts"\n  },\n  "cssFontWeight": "normal",\n  "cssFontStyle": "normal"\n};\n/* harmony default export */ var part_font = (font);\n// CONCATENATED MODULE: ./src/part/scoreText.js\n\nclass scoreText_Text {\n  constructor() {\n    this.font = new THREE.Font(part_font);\n    this.size = 5.0;\n    this.height = 0.1;\n    this.fillStyle = 0x666666;\n  }\n\n  init(options) {\n    this.material = new THREE.MeshBasicMaterial({\n      color: this.fillStyle,\n      transparent: true\n    });\n    if (options && options.opacity) this.material.opacity = options.opacity;\n    this.options = options || {};\n    const geometry = new THREE.TextGeometry(\'0\', {\n      \'font\': this.font,\n      \'size\': this.size,\n      \'height\': this.height\n    });\n    this.instance = new THREE.Mesh(geometry, this.material);\n    this.instance.name = \'scoreText\';\n  }\n\n  updateScore(score) {\n    const scoreStr = score.toString();\n    this.instance = new THREE.Mesh(new THREE.TextGeometry(scoreStr, {\n      \'font\': this.font,\n      \'size\': this.size,\n      \'height\': this.height\n    }), this.material);\n  }\n\n}\n// CONCATENATED MODULE: ./public/audio/scale_intro.mp3\n/* harmony default export */ var scale_intro = (__webpack_require__.p + "c2b27c527336c1a71b1972754935260d.mp3");\n// CONCATENATED MODULE: ./public/audio/scale_loop.mp3\n/* harmony default export */ var scale_loop = (__webpack_require__.p + "063fe6587479c66275c9928bc59417a4.mp3");\n// CONCATENATED MODULE: ./public/audio/start.mp3\n/* harmony default export */ var audio_start = (__webpack_require__.p + "15c19caee8b375013363d6d16fc7ef4b.mp3");\n// CONCATENATED MODULE: ./public/audio/fall_1.mp3\n/* harmony default export */ var fall_1 = (__webpack_require__.p + "e50746ce505268481bb705fd85589e5c.mp3");\n// CONCATENATED MODULE: ./public/audio/fall_2.mp3\n/* harmony default export */ var fall_2 = (__webpack_require__.p + "f031001201a062532e2b756b5f7221d0.mp3");\n// CONCATENATED MODULE: ./src/audiomanager/index.js\n\n\n\n\n\n\n\nconst audioList = [{\n  key: "scaleIntro",\n  source: scale_intro\n}, {\n  key: "scaleLoop",\n  source: scale_loop\n}, {\n  key: "audioStart",\n  source: audio_start\n}, {\n  key: "audioFall1",\n  source: fall_1\n}, {\n  key: "audioFall2",\n  source: fall_2\n}];\n\nclass audiomanager_AudioManager {\n  constructor() {\n    this.scaleLoopBuffer = "";\n    this.scaleIntroBuffer = "";\n    this.audioComboBuffer = "";\n    this.num = 0;\n  }\n\n  init() {\n    this.listener = new THREE.AudioListener();\n    this.sound = new THREE.Audio(this.listener);\n    this.sound.setVolume(.8);\n\n    this.sound.onEnded = () => {\n      this.sound.stop();\n\n      if (part_bottle.status === STATUS.SKRINK) {\n        this.sound.setBuffer(this.scaleLoopBuffer);\n        this.sound.setLoop(true);\n        this.sound.play();\n      }\n    };\n\n    return new Promise((resolve, reject) => {\n      audioList.map(item => {\n        const {\n          key,\n          source\n        } = item;\n        let loader = new THREE.AudioLoader();\n        loader.load(source, buffer => {\n          this[`${key}Buffer`] = buffer;\n          this.num++;\n\n          if (this.num >= audioList.length - 1) {\n            resolve();\n          }\n        });\n      });\n    });\n  }\n\n  shrinkPlay() {\n    this.sound.stop();\n    this.sound.setBuffer(this.scaleIntroBuffer);\n    this.sound.setLoop(false);\n    this.sound.play();\n  }\n\n  shrinkStop() {\n    this.sound.stop();\n  }\n\n  startPlay() {\n    this.sound.setBuffer(this.audioStartBuffer);\n    this.sound.setLoop(false);\n    this.sound.play();\n  }\n\n  fallBlockPlay() {\n    this.sound.stop();\n    this.sound.setBuffer(this.audioFall2Buffer);\n    this.sound.setLoop(false);\n    this.sound.play();\n  }\n\n  fallPlanePlay() {\n    this.sound.stop();\n    this.sound.setBuffer(this.audioFall1Buffer);\n    this.sound.setLoop(false);\n    this.sound.play();\n  }\n\n}\n\n/* harmony default export */ var audiomanager = (new audiomanager_AudioManager());\n// CONCATENATED MODULE: ./src/stage/stage-game-main.js\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\nconst HIT_NEXT_BLOCK_NORMAL = 1;\nconst HIT_BLOCK_CURRENT = 2;\nconst GAME_OVER_NEXT_BLOCK_FRONT = 3;\nconst GAME_OVER_CURRENT_BLOCK_BACK = 4;\nconst GAME_OVER_NEXT_BLOCK_BACK = 5;\nconst GAME_OVER_BOTH = 6;\nconst HIT_NEXT_BLOCK_CENTER = 7;\nclass stage_game_main_StageGameMain {\n  constructor(callback) {\n    _defineProperty(this, "onTouchStart", e => {\n      console.log(\'touch start\');\n      if (this.state !== \'stop\') return;\n      this.touchStartTime = Date.now();\n      audiomanager.shrinkPlay();\n      this.bottle.shrink();\n      this.currentBlock.shrink();\n    });\n\n    _defineProperty(this, "onTouchEnd", e => {\n      console.log(\'touch end\');\n      if (this.state !== \'stop\') return;\n      if (this.touchStartTime === 0) return;\n      audiomanager.shrinkStop();\n      this.touchEndTime = Date.now();\n      const duration = this.touchEndTime - this.touchStartTime;\n      this.touchStartTime = 0;\n      this.bottle.velocity.vx = Math.min(duration / 6, 120);\n      this.bottle.velocity.vx = +this.bottle.velocity.vx.toFixed(2);\n      this.bottle.velocity.vy = Math.min(150 + duration / 30, 300);\n      this.bottle.velocity.vy = +this.bottle.velocity.vy.toFixed(2);\n      this.state = "jump";\n      this.hit = this.getHitStatus(this.bottle, this.currentBlock, this.nextBlock, BLOCKCONFIG.height / 2 - (1 - this.currentBlock.instance.scale.y) * BLOCKCONFIG.height);\n      this.checkingHit = true;\n      this.currentBlock.rebound();\n      this.bottle.rotate();\n      this.bottle.jump();\n    });\n\n    this.callback = callback;\n  }\n\n  init() {\n    console.log(`GameMain init`);\n    const {\n      canvas\n    } = common;\n    this.canvas = canvas;\n    this.score = 0;\n    this.scene = src_scene;\n    this.ground = ground;\n    this.bottle = part_bottle;\n    this.gravity = common.gravity;\n    this.scoreText = new scoreText_Text();\n    this.scoreText.init();\n    this.scene.init();\n    this.ground.init();\n    this.bottle.init();\n    audiomanager.init().then(() => {\n      this.addBottle();\n    });\n    this.addGround();\n    this.addInitBlock();\n    this.addScore();\n    this.render();\n  }\n\n  restart() {\n    console.log(\'restart Game\');\n    this.score = 0;\n    this.state = \'\';\n    this.deleteObjectsFromScene();\n    this.scene.reset();\n    this.bottle.reset();\n    this.ground.reset();\n    this.updateScore(0);\n    this.addInitBlock();\n    this.addGround();\n    this.addBottle();\n  }\n\n  addInitBlock() {\n    const scene = this.scene.instance;\n    this.currentBlock = new cuboid_CuboidBlock(-15, 0, 0);\n    this.nextBlock = new cylinder_CylinderBlock(23, 0, 0);\n    scene.add(this.currentBlock.instance);\n    scene.add(this.nextBlock.instance);\n    const initDirection = 0;\n    this.targetPosition = this.nextBlock.instance.position;\n    this.setDirection(initDirection);\n  }\n\n  addScore() {\n    this.scene.addScore(this.scoreText.instance);\n  }\n\n  updateScore(score) {\n    this.scoreText.updateScore(score);\n    this.scene.updateScore(this.scoreText.instance);\n  }\n\n  addGround() {\n    const scene = this.scene.instance;\n    scene.add(this.ground.instance);\n  }\n\n  addBottle() {\n    const scene = this.scene.instance;\n    audiomanager.startPlay();\n    scene.add(this.bottle.instance);\n    this.bottle.show().then(() => {\n      this.addTouchEvent();\n      this.state = \'stop\';\n      console.log(\'show end\');\n    });\n  }\n\n  addTouchEvent() {\n    this.canvas.addEventListener("touchstart", this.onTouchStart, false);\n    this.canvas.addEventListener("touchend", this.onTouchEnd, false);\n  }\n\n  removeTouchEvent() {\n    this.canvas.removeEventListener("touchstart", this.onTouchStart, false);\n    this.canvas.removeEventListener("touchend", this.onTouchEnd, false);\n  }\n\n  setDirection(direction) {\n    const currentPosition = {\n      x: this.bottle.instance.position.x,\n      z: this.bottle.instance.position.z\n    };\n    this.axis = new THREE.Vector3(this.targetPosition.x - currentPosition.x, 0, this.targetPosition.z - currentPosition.z);\n    this.axis.normalize();\n    this.bottle.setDirection(direction, this.axis);\n  }\n\n  render() {\n    if (this.currentBlock) {\n      this.currentBlock.update();\n    }\n\n    if (this.visible) {\n      this.scene.render();\n    }\n\n    this.checkBottleHit();\n\n    if (this.bottle) {\n      this.bottle.update();\n    }\n\n    requestAnimationFrame(this.render.bind(this));\n  }\n\n  show() {\n    console.log(`GameMain show`);\n    this.visible = true;\n  }\n\n  hide() {\n    console.log(`GameNain hide`);\n    this.visible = false;\n  }\n\n  deleteObjectsFromScene() {\n    let obj = this.scene.instance.getObjectByName(\'block\');\n\n    while (obj) {\n      this.scene.instance.remove(obj);\n\n      if (obj.geometry) {\n        obj.geometry.dispose();\n      }\n\n      if (obj.material) {\n        obj.material.dispose();\n      }\n\n      obj = this.scene.instance.getObjectByName(\'block\');\n    }\n\n    this.scene.instance.remove(this.bottle.instance);\n    this.scene.instance.remove(this.ground.instance);\n  }\n\n  checkBottleHit() {\n    if (this.checkingHit && this.bottle.instance.position.y <= BLOCKCONFIG.height / 2 + 0.1 && this.bottle.status === \'jump\' && this.bottle.flyingTime > 0.3) {\n      this.checkingHit = false;\n\n      if (this.hit === HIT_NEXT_BLOCK_NORMAL || this.hit === HIT_NEXT_BLOCK_CENTER) {\n        this.state = \'stop\';\n        this.bottle.stop();\n        this.bottle.instance.position.y = BLOCKCONFIG.height / 2;\n        this.bottle.instance.position.x = this.bottle.destination[0];\n        this.bottle.instance.position.z = this.bottle.destination[1];\n        this.updateScore(++this.score);\n        this.updateNextBlock();\n      } else if (this.hit === HIT_BLOCK_CURRENT) {\n        this.state = \'stop\';\n        this.bottle.stop();\n        this.bottle.instance.position.y = BLOCKCONFIG.height / 2;\n        this.bottle.instance.position.x = this.bottle.destination[0];\n        this.bottle.instance.position.z = this.bottle.destination[1];\n      } else {\n        if (this.hit === GAME_OVER_CURRENT_BLOCK_BACK || this.hit === GAME_OVER_NEXT_BLOCK_BACK) {\n          stopAllAnimation();\n          this.bottle.stop();\n          this.bottle.forerake();\n          audiomanager.fallBlockPlay();\n        } else if (this.hit === GAME_OVER_NEXT_BLOCK_FRONT) {\n          stopAllAnimation();\n          this.bottle.stop();\n          this.bottle.hypsokinesis();\n          audiomanager.fallBlockPlay();\n        } else {\n          stopAllAnimation();\n          this.bottle.stop();\n          this.bottle.fall();\n          audiomanager.fallPlanePlay();\n        }\n\n        this.state = \'over\';\n        this.removeTouchEvent();\n        setTimeout(() => {\n          this.callback.showGameOverStage();\n        }, 2000);\n      }\n    }\n  }\n\n  getHitStatus(bottle, currentBlock, nextBlock, initY) {\n    let flyingTime = bottle.velocity.vy / this.gravity * 2;\n    initY = initY || +bottle.instance.position.y.toFixed(2);\n    let destinationY = BLOCKCONFIG.height / 2;\n    let differenceY = destinationY;\n    let time = +((-bottle.velocity.vy + Math.sqrt(Math.pow(bottle.velocity.vy, 2) - 2 * this.gravity * differenceY)) / -this.gravity).toFixed(2);\n    flyingTime -= time;\n    flyingTime = +flyingTime.toFixed(2);\n    let destination = [];\n    let bottlePosition = new THREE.Vector2(bottle.instance.position.x, bottle.instance.position.z);\n    let translate = new THREE.Vector2(this.axis.x, this.axis.z).setLength(bottle.velocity.vx * flyingTime);\n    bottlePosition.add(translate);\n    bottle.destination = [+bottlePosition.x.toFixed(2), +bottlePosition.y.toFixed(2)];\n    destination.push(+bottlePosition.x.toFixed(2), +bottlePosition.y.toFixed(2));\n    let result1, result2;\n\n    if (nextBlock) {\n      let nextDiff = Math.pow(destination[0] - nextBlock.instance.position.x, 2) + Math.pow(destination[1] - nextBlock.instance.position.z, 2);\n      let nextPolygon = nextBlock.getVertices();\n\n      if (utils.pointInPolygon(destination, nextPolygon)) {\n        if (Math.abs(nextDiff) < 5) {\n          return HIT_NEXT_BLOCK_NORMAL;\n        } else {\n          return HIT_NEXT_BLOCK_CENTER;\n        }\n      } else if (utils.pointInPolygon([destination[0] - this.bottle.width, destination[1]], nextPolygon) || utils.pointInPolygon([destination[0], destination[1] + this.bottle.depth / 2], nextPolygon)) {\n        result1 = GAME_OVER_NEXT_BLOCK_BACK;\n      } else if (utils.pointInPolygon([destination[0], destination[1] - this.bottle.depth / 2], nextPolygon) || utils.pointInPolygon([destination[0] + this.bottle.depth / 2, destination[1]], nextPolygon)) {\n        result1 = GAME_OVER_NEXT_BLOCK_FRONT;\n      }\n    }\n\n    let currentPolygon = currentBlock.getVertices();\n\n    if (utils.pointInPolygon(destination, currentPolygon)) {\n      return HIT_BLOCK_CURRENT;\n    } else if (utils.pointInPolygon([destination[0], destination[1] + this.bottle.depth], currentPolygon) || utils.pointInPolygon([destination[0] - this.bottle.width / 2, destination[1]], currentPolygon)) {\n      if (result1) return GAME_OVER_BOTH;\n      return GAME_OVER_CURRENT_BLOCK_BACK;\n    }\n\n    return result1 || result2 || 0;\n  }\n\n  updateNextBlock() {\n    const seed = Math.round(Math.random());\n    const type = seed ? \'cuboid\' : \'cylinder\';\n    const direction = Math.round(Math.random()); // 0 -> x 1 -> z\n\n    const width = Math.round(Math.random() * 6) + 10;\n    const distance = Math.round(Math.random() * 25) + 20;\n    this.currentBlock = this.nextBlock;\n    const targetPosition = this.targetPosition = {};\n\n    if (direction === 0) {\n      targetPosition.x = this.currentBlock.instance.position.x + distance;\n      targetPosition.y = this.currentBlock.instance.position.y;\n      targetPosition.z = this.currentBlock.instance.position.z;\n    }\n\n    if (direction === 1) {\n      targetPosition.x = this.currentBlock.instance.position.x;\n      targetPosition.y = this.currentBlock.instance.position.y;\n      targetPosition.z = this.currentBlock.instance.position.z - distance;\n    }\n\n    this.setDirection(direction);\n\n    if (type === BLOCKTYPE.CUBOID) {\n      this.nextBlock = new cuboid_CuboidBlock(targetPosition.x, targetPosition.y, targetPosition.z, \'popup\', width);\n    } else if (type === BLOCKTYPE.CYLINDER) {\n      this.nextBlock = new cylinder_CylinderBlock(targetPosition.x, targetPosition.y, targetPosition.z, \'popup\', width);\n    }\n\n    this.scene.instance.add(this.nextBlock.instance);\n    const cameraTargetPosition = {\n      x: (this.currentBlock.instance.position.x + this.nextBlock.instance.position.x) / 2,\n      y: (this.currentBlock.instance.position.y + this.nextBlock.instance.position.y) / 2,\n      z: (this.currentBlock.instance.position.z + this.nextBlock.instance.position.z) / 2\n    };\n    this.scene.updateCameraPosition(cameraTargetPosition);\n    this.ground.updatePosition(cameraTargetPosition);\n  }\n\n}\n// CONCATENATED MODULE: ./public/images/replay.png\n/* harmony default export */ var replay = (__webpack_require__.p + "d180fbab3d21fe7ae157d3593439ff61.png");\n// CONCATENATED MODULE: ./src/stage/stage-game-over.js\nfunction stage_game_over_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nclass stage_game_over_StageGameOver {\n  constructor(callback) {\n    stage_game_over_defineProperty(this, "addTouchEvent", e => {\n      this.canvas.addEventListener(\'touchend\', this.onTouchEnd.bind(this), true);\n    });\n\n    stage_game_over_defineProperty(this, "removeTouchEvent", e => {\n      this.canvas.removeEventListener(\'touchend\', this.onTouchEnd.bind(this), true);\n    });\n\n    this.callback = callback;\n    const {\n      canvas\n    } = common;\n    this.canvas = canvas;\n    this.score = 0;\n  }\n\n  init() {\n    console.log(`GameOver init`);\n    this.render();\n  }\n\n  render() {\n    const {\n      width,\n      height,\n      aspect\n    } = common;\n    const canvas = document.createElement("canvas");\n    canvas.width = width;\n    canvas.height = height;\n    this.context = canvas.getContext(\'2d\');\n    this.context.fillStyle = \'rgba(0,0,0,.7)\';\n    this.context.fillRect((width - 200) / 2, (height - 200) / 2, 200, 200);\n    this.context.fillStyle = \'#eee\';\n    this.context.font = \'22px Georgia\';\n    this.context.fillText(\'Game Over\', (width - 200) / 2 + 45, (height - 200) / 2 + 55);\n    this.replay_btn = new Image();\n\n    this.replay_btn.onload = () => {\n      this.context.drawImage(this.replay_btn, width / 2 - 60, (height - 200) / 2 + 125, 120, 47);\n    };\n\n    this.replay_btn.src = replay;\n    this.texture = new THREE.Texture(canvas);\n    this.material = new THREE.MeshBasicMaterial({\n      map: this.texture,\n      transparent: true // side: THREE.DoubleSide\n\n    });\n    this.geometry = new THREE.PlaneGeometry(60, 60 * aspect);\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\n    this.mesh.position.z = 20;\n    this.mesh.visible = false;\n    this.texture.needsUpdate = true;\n    src_scene.camera.instance.add(this.mesh);\n  }\n\n  show() {\n    console.log(`GameOver show`);\n    this.mesh.visible = true;\n    this.score = this.callback.getScore();\n    this.addTouchEvent();\n  }\n\n  hide() {\n    console.log(`GameOver hide`);\n    this.mesh.visible = false;\n    this.removeTouchEvent();\n    console.log(\'------------\');\n  }\n\n  onTouchEnd(e) {\n    if (!this.mesh.visible) return;\n    this.callback.restartGame();\n  }\n\n}\n// CONCATENATED MODULE: ./src/game/stage.js\n\n\n\nclass stage_GameStage {\n  constructor() {}\n\n  getScore() {\n    return this.stage_game_main.score;\n  }\n\n  showGameOverStage() {\n    this.stage_game_over.show();\n  }\n\n  showGameMainStage() {\n    this.stage_game_main.show();\n    this.stage_game_over.hide();\n  }\n\n  restartGame() {\n    this.stage_game_main.show();\n    this.stage_game_over.hide();\n    this.stage_game_main.restart();\n  }\n\n  initMainStage(callback) {\n    this.stage_game_main = new stage_game_main_StageGameMain(callback);\n    this.stage_game_main.init();\n  }\n\n  initOverStage(callback) {\n    this.stage_game_over = new stage_game_over_StageGameOver(callback);\n    this.stage_game_over.init();\n  }\n\n}\n\n/* harmony default export */ var stage = (new stage_GameStage());\n// CONCATENATED MODULE: ./src/game/controller.js\n\n\n\n\nclass controller_GameController {\n  constructor() {\n    this.game_model = model;\n    this.game_stage = stage;\n    this.game_model.changeStage.attach((sender, args) => {\n      switch (args.stage) {\n        case STAGEGROUP.GAMEOVER:\n          this.game_stage.showGameOverStage();\n          break;\n\n        case STAGEGROUP.GAMEMAIN:\n          this.game_stage.showGameMainStage();\n          break;\n\n        default:\n          break;\n      }\n    });\n  }\n\n  initController() {\n    this.game_stage.initMainStage({\n      showGameOverStage: () => this.game_model.setStage(STAGEGROUP.GAMEOVER)\n    });\n    this.game_stage.initOverStage({\n      restartGame: () => this.game_stage.restartGame(),\n      getScore: () => this.game_stage.getScore()\n    });\n    this.game_model.setStage(STAGEGROUP.GAMEMAIN); // setTimeout(()=>{\n    //     this.game_model.setStage(STAGEGROUP.GAMEOVER)\n    // },3000)\n  }\n\n}\n\n/* harmony default export */ var controller = (new controller_GameController());\n// CONCATENATED MODULE: ./src/game/index.js\n\n\nlet app = document.getElementById("app");\nlet game_canvas = document.createElement("canvas");\nlet game_width = app.clientWidth,\n    game_height = app.clientHeight;\nconst game_aspect = game_height / game_width;\ngame_canvas.width = game_width;\ngame_canvas.height = game_height;\napp.append(game_canvas);\ncommon.canvas = game_canvas;\ncommon.width = game_width;\ncommon.height = game_height;\ncommon.aspect = game_aspect;\n\nclass game_Game {\n  constructor() {}\n\n  init() {\n    controller.initController();\n  }\n\n}\n\n/* harmony default export */ var game = (new game_Game());\n// CONCATENATED MODULE: ./src/main.js\n\n\nclass main_Main {\n  constructor() {}\n\n  static init() {\n    game.init();\n  }\n\n}\n\n/* harmony default export */ var main = (main_Main);\n// CONCATENATED MODULE: ./app.js\n\n // import * as THREE from \'three\';\n\n\n\nwindow.THREE = common.THREE = three_min;\n!function () {\n  main.init();\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9ldmVudC5qcz80MmE1Iiwid2VicGFjazovLy8uL3NyYy9nYW1lL21vZGVsLmpzPzdkMDAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2NvbW1vbi5qcz9jZjQ1Iiwid2VicGFjazovLy8uL3NyYy91dGlscy90d2Vlbi5qcz9hZTNlIiwid2VicGFjazovLy8uL3NyYy91dGlscy9hbmltYXRpb24uanM/YTkyMyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NlbmUvY2FtZXJhLmpzPzMzYTgiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lL2xpZ2h0LmpzPzI3NWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnQvYmFja2dyb3VuZC5qcz9kNGI2Iiwid2VicGFjazovLy8uL3NyYy9zY2VuZS9pbmRleC5qcz80YjFiIiwid2VicGFjazovLy8uL3NyYy9ibG9jay9iYXNlLmpzP2UxOTMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2ltYWdlcy9zdG9vbC5wbmc/MjZhZSIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY3Vib2lkLmpzP2E4ZDAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2N5bGluZGVyLmpzP2RlMjgiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnQvZ3JvdW5kLmpzPzYwM2MiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2ltYWdlcy9oZWFkLnBuZz83MWQ1Iiwid2VicGFjazovLy8uL3B1YmxpYy9pbWFnZXMvYm90dG9tLnBuZz83OTc4Iiwid2VicGFjazovLy8uL3B1YmxpYy9pbWFnZXMvdG9wLnBuZz8zYjQwIiwid2VicGFjazovLy8uL3NyYy9wYXJ0L2JvdHRsZS5qcz85NzAzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9pbmRleC5qcz9lZDA4Iiwid2VicGFjazovLy8uL3NyYy9wYXJ0L2ZvbnQuanM/ZmJkNiIsIndlYnBhY2s6Ly8vLi9zcmMvcGFydC9zY29yZVRleHQuanM/MmQyNCIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXVkaW8vc2NhbGVfaW50cm8ubXAzPzcxOTAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2F1ZGlvL3NjYWxlX2xvb3AubXAzP2YwYTgiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2F1ZGlvL3N0YXJ0Lm1wMz9jNGNhIiwid2VicGFjazovLy8uL3B1YmxpYy9hdWRpby9mYWxsXzEubXAzPzZlMGIiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2F1ZGlvL2ZhbGxfMi5tcDM/ODQ2NSIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW9tYW5hZ2VyL2luZGV4LmpzPzQ4NmQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YWdlL3N0YWdlLWdhbWUtbWFpbi5qcz9mYTIzIiwid2VicGFjazovLy8uL3B1YmxpYy9pbWFnZXMvcmVwbGF5LnBuZz84Mjc5Iiwid2VicGFjazovLy8uL3NyYy9zdGFnZS9zdGFnZS1nYW1lLW92ZXIuanM/ZTgzOSIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9zdGFnZS5qcz82MjgyIiwid2VicGFjazovLy8uL3NyYy9nYW1lL2NvbnRyb2xsZXIuanM/NThlNiIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9pbmRleC5qcz9hMWI4Iiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzPzU2ZDciLCJ3ZWJwYWNrOi8vLy4vYXBwLmpzPzlhNzgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnQge1xyXG4gICAgY29uc3RydWN0b3Ioc2VuZGVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2VuZGVyID0gc2VuZGVyO1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgYXR0YWNoKGNhbGxiYWNrID0gbnVsbCkge1xyXG4gICAgICAgIGlmIChjYWxsYmFjayA9PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgbm90aWZ5KGFyZ3MpIHtcclxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtKHRoaXMuX3NlbmRlciwgYXJncyk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgRXZlbnQgZnJvbSAnQHV0aWxzL2V2ZW50JztcclxuXHJcbmNsYXNzIEdhbWVNb2RlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnN0YWdlID0gXCJcIjtcclxuICAgICAgICB0aGlzLmNoYW5nZVN0YWdlID0gbmV3IEV2ZW50KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgZ2V0U3RhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhZ2U7XHJcbiAgICB9XHJcbiAgICBzZXRTdGFnZShzdGFnZSkge1xyXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcclxuICAgICAgICB0aGlzLmNoYW5nZVN0YWdlLm5vdGlmeSh7XHJcbiAgICAgICAgICAgIHN0YWdlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEdhbWVNb2RlbCgpIiwiZXhwb3J0IGNvbnN0IGNvbW1vbiA9IHtcclxuICAgIGNhbnZhczogbnVsbCxcclxuICAgIHdpZHRoOiAzMDAsXHJcbiAgICBoZWlnaHQ6IDMwMCxcclxuICAgIGFzcGVjdDogMSxcclxuICAgIGdyYXZpdHk6IDcwMFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU1RBR0VHUk9VUCA9IHtcclxuICAgIEdBTUVPVkVSOiBcImdhbWUtb3ZlclwiLFxyXG4gICAgR0FNRU1BSU46IFwiZ2FtZS1tYWluXCJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEJMT0NLVFlQRSA9IHtcclxuICAgIENVQk9JRDogXCJjdWJvaWRcIixcclxuICAgIENZTElOREVSOiBcImN5bGluZGVyXCJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEJMT0NLQ09ORklHID0ge1xyXG4gICAgd2lkdGg6IDE2LFxyXG4gICAgaGVpZ2h0OiAxMlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQk9UVExFQ09ORklHID0ge1xyXG4gICAgeDogLTE1LFxyXG4gICAgeTogMCxcclxuICAgIHo6IDAsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTVEFUVVMgPSB7XHJcbiAgICBcIlNUT1BcIjogXCJzdG9wXCIsXHJcbiAgICBcIlNLUklOS1wiOiBcInNocmlua1wiLFxyXG4gICAgXCJKVU1QXCI6IFwianVtcFwiLFxyXG4gICAgXCJGT1JFUkFLRVwiOlwiZm9yZXJha2VcIixcclxuICAgIFwiSFlQU09LSU5FU0lTXCI6XCJoeXBzb2tpbmVzaXNcIixcclxuICAgIFwiRkFMTFwiOlwiZmFsbFwiXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDT0xPUiA9IFsweDMyOWZmYywgMHg5ZmNmMWYsIDB4ZjQ0ZjNjLCAweGZmY2YwMF0iLCJ2YXIgVHdlZW4gPSB7XG4gIExpbmVhcjogZnVuY3Rpb24gTGluZWFyKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogdCAvIGQgKyBiO1xuICB9LFxuICBRdWFkOiB7XG4gICAgICBlYXNlSW46IGZ1bmN0aW9uIGVhc2VJbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uIGVhc2VPdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiAtYyAqICh0IC89IGQpICogKHQgLSAyKSArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbiBlYXNlSW5PdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XG4gICAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgtLXQgKiAodCAtIDIpIC0gMSkgKyBiO1xuICAgICAgfVxuICB9LFxuICBDdWJpYzoge1xuICAgICAgZWFzZUluOiBmdW5jdGlvbiBlYXNlSW4odCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZU91dDogZnVuY3Rpb24gZWFzZU91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbiBlYXNlSW5PdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xuICAgICAgfVxuICB9LFxuICBRdWFydDoge1xuICAgICAgZWFzZUluOiBmdW5jdGlvbiBlYXNlSW4odCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uIGVhc2VPdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbiBlYXNlSW5PdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgICByZXR1cm4gLWMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMikgKyBiO1xuICAgICAgfVxuICB9LFxuICBRdWludDoge1xuICAgICAgZWFzZUluOiBmdW5jdGlvbiBlYXNlSW4odCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlT3V0OiBmdW5jdGlvbiBlYXNlT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24gZWFzZUluT3V0KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gICAgICB9XG4gIH0sXG4gIFNpbmU6IHtcbiAgICAgIGVhc2VJbjogZnVuY3Rpb24gZWFzZUluKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZU91dDogZnVuY3Rpb24gZWFzZU91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlSW5PdXQ6IGZ1bmN0aW9uIGVhc2VJbk91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogdCAvIGQpIC0gMSkgKyBiO1xuICAgICAgfVxuICB9LFxuICBFeHBvOiB7XG4gICAgICBlYXNlSW46IGZ1bmN0aW9uIGVhc2VJbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgcmV0dXJuIHQgPT0gMCA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodCAvIGQgLSAxKSkgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uIGVhc2VPdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiB0ID09IGQgPyBiICsgYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlSW5PdXQ6IGZ1bmN0aW9uIGVhc2VJbk91dCh0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7XG4gICAgICAgICAgaWYgKHQgPT0gZCkgcmV0dXJuIGIgKyBjO1xuICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcbiAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XG4gICAgICB9XG4gIH0sXG4gIENpcmM6IHtcbiAgICAgIGVhc2VJbjogZnVuY3Rpb24gZWFzZUluKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uIGVhc2VPdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIHJldHVybiBjICogTWF0aC5zcXJ0KDEgLSAodCA9IHQgLyBkIC0gMSkgKiB0KSArIGI7XG4gICAgICB9LFxuICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbiBlYXNlSW5PdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xuICAgICAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XG4gICAgICB9XG4gIH0sXG4gIEVsYXN0aWM6IHtcbiAgICAgIGVhc2VJbjogZnVuY3Rpb24gZWFzZUluKHQsIGIsIGMsIGQsIGEsIHApIHtcbiAgICAgICAgICB2YXIgcztcbiAgICAgICAgICBpZiAodCA9PSAwKSByZXR1cm4gYjtcbiAgICAgICAgICBpZiAoKHQgLz0gZCkgPT0gMSkgcmV0dXJuIGIgKyBjO1xuICAgICAgICAgIGlmICh0eXBlb2YgcCA9PSBcInVuZGVmaW5lZFwiKSBwID0gZCAqIC4zO1xuICAgICAgICAgIGlmICghYSB8fCBhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgICAgICAgICBhID0gYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uIGVhc2VPdXQodCwgYiwgYywgZCwgYSwgcCkge1xuICAgICAgICAgIHZhciBzO1xuICAgICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICAgIGlmICgodCAvPSBkKSA9PSAxKSByZXR1cm4gYiArIGM7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwID09IFwidW5kZWZpbmVkXCIpIHAgPSBkICogLjM7XG4gICAgICAgICAgaWYgKCFhIHx8IGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICAgICAgICBhID0gYztcbiAgICAgICAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIGMgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24gZWFzZUluT3V0KHQsIGIsIGMsIGQsIGEsIHApIHtcbiAgICAgICAgICB2YXIgcztcbiAgICAgICAgICBpZiAodCA9PSAwKSByZXR1cm4gYjtcbiAgICAgICAgICBpZiAoKHQgLz0gZCAvIDIpID09IDIpIHJldHVybiBiICsgYztcbiAgICAgICAgICBpZiAodHlwZW9mIHAgPT0gXCJ1bmRlZmluZWRcIikgcCA9IGQgKiAoLjMgKiAxLjUpO1xuICAgICAgICAgIGlmICghYSB8fCBhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgICAgYSA9IGM7XG4gICAgICAgICAgICAgIHMgPSBwIC8gNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodCA8IDEpIHJldHVybiAtLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICogLjUgKyBjICsgYjtcbiAgICAgIH1cbiAgfSxcbiAgQmFjazoge1xuICAgICAgZWFzZUluOiBmdW5jdGlvbiBlYXNlSW4odCwgYiwgYywgZCwgcykge1xuICAgICAgICAgIGlmICh0eXBlb2YgcyA9PSBcInVuZGVmaW5lZFwiKSBzID0gMS43MDE1ODtcbiAgICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcbiAgICAgIH0sXG4gICAgICBlYXNlT3V0OiBmdW5jdGlvbiBlYXNlT3V0KHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHMgPT0gXCJ1bmRlZmluZWRcIikgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VJbk91dDogZnVuY3Rpb24gZWFzZUluT3V0KHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHMgPT0gXCJ1bmRlZmluZWRcIikgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqICh0ICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0IC0gcykpICsgYjtcbiAgICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgKyBzKSArIDIpICsgYjtcbiAgICAgIH1cbiAgfSxcbiAgQm91bmNlOiB7XG4gICAgICBlYXNlSW46IGZ1bmN0aW9uIGVhc2VJbih0LCBiLCBjLCBkKSB7XG4gICAgICAgICAgcmV0dXJuIGMgLSBUd2Vlbi5Cb3VuY2UuZWFzZU91dChkIC0gdCwgMCwgYywgZCkgKyBiO1xuICAgICAgfSxcbiAgICAgIGVhc2VPdXQ6IGZ1bmN0aW9uIGVhc2VPdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIGlmICgodCAvPSBkKSA8IDEgLyAyLjc1KSB7XG4gICAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqIHQgKiB0KSArIGI7XG4gICAgICAgICAgfSBlbHNlIGlmICh0IDwgMiAvIDIuNzUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgLjc1KSArIGI7XG4gICAgICAgICAgfSBlbHNlIGlmICh0IDwgMi41IC8gMi43NSkge1xuICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjI1IC8gMi43NSkgKiB0ICsgLjkzNzUpICsgYjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjYyNSAvIDIuNzUpICogdCArIC45ODQzNzUpICsgYjtcbiAgICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZWFzZUluT3V0OiBmdW5jdGlvbiBlYXNlSW5PdXQodCwgYiwgYywgZCkge1xuICAgICAgICAgIGlmICh0IDwgZCAvIDIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFR3ZWVuLkJvdW5jZS5lYXNlSW4odCAqIDIsIDAsIGMsIGQpICogLjUgKyBiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBUd2Vlbi5Cb3VuY2UuZWFzZU91dCh0ICogMiAtIGQsIDAsIGMsIGQpICogLjUgKyBjICogLjUgKyBiO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVHdlZW47IiwiaW1wb3J0IFR3ZWVuIGZyb20gJy4vdHdlZW4nXG52YXIgYW5pbWF0aW9uSWQgPSAtMVxudmFyIGtpbGxBbmltYXRpb25JZCA9IGFuaW1hdGlvbklkIC0gMVxuXG52YXIgX2N1c3RvbUFuaW1hdGlvbiA9IHt9O1xuXG5fY3VzdG9tQW5pbWF0aW9uLnRvID0gZnVuY3Rpb24gKG9iaiwgZHVyYXRpb24sIG9wdGlvbnMpIHtcbiAgICBkdXJhdGlvbiAqPSAxMDAwO1xuICAgIHZhciBkZWxheSA9IG9wdGlvbnMuZGVsYXkgfHwgMDtcbiAgICBmb3IgKHZhciBuYW1lIGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkZWxheScpIHtcbiAgICAgICAgICAgIGRlbGF5ID0gb3B0aW9uc1tuYW1lXTtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAnb25Db21wbGV0ZScpIHsgfSBlbHNlIGlmIChuYW1lID09PSAnZWFzZScpIHsgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBUd2VlbkFuaW1hdGlvbihvYmpbbmFtZV0sIG9wdGlvbnNbbmFtZV0sIGR1cmF0aW9uLCBvcHRpb25zLmVhc2UgfHwgJ0xpbmVhcicsIGZ1bmN0aW9uICh2YWx1ZSwgY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkNvbXBsZXRlICYmIG9wdGlvbnMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfShuYW1lKSwgZGVsYXkgKiAxMDAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vLyDlr7nov5Dliqjmlrnms5Xov5vooYzlsIHoo4VcbnZhciBfVHdlZW5BbmltYXRpb24gPSBmdW5jdGlvbiBUd2VlbkFuaW1hdGlvbihmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZkFuaW1hdGlvbklkID0gKythbmltYXRpb25JZDtcbiAgICB2YXIgaXNVbmRlZmluZWQgPSBmdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ3VuZGVmaW5lZCc7XG4gICAgfTtcbiAgICB2YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbic7XG4gICAgfTtcbiAgICB2YXIgaXNOdW1iZXIgPSBmdW5jdGlvbiBpc051bWJlcihvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ251bWJlcic7XG4gICAgfTtcbiAgICB2YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ3N0cmluZyc7XG4gICAgfTtcblxuICAgIC8vIOi9rOaNouaIkOavq+enklxuICAgIHZhciB0b01pbGxpc2Vjb25kID0gZnVuY3Rpb24gdG9NaWxsaXNlY29uZChvYmopIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKG9iaikpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcob2JqKSkge1xuICAgICAgICAgICAgaWYgKC9cXGQrbT9zJC8udGVzdChvYmopKSB7XG4gICAgICAgICAgICAgICAgaWYgKC9tcy8udGVzdChvYmopKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxICogb2JqLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMTAwMCAqIG9iai5yZXBsYWNlKCdzJywgJycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvXlxcZCskLy50ZXN0KG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gK29iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIGlmICghaXNOdW1iZXIoZnJvbSkgfHwgIWlzTnVtYmVyKHRvKSkge1xuICAgICAgICBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Zyb23lkox0b+S4pOS4quWPguaVsOW/hemhu+S4lOS4uuaVsOWAvCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIOe8k+WKqOeul+azlVxuICAgIHZhciB0d2VlbiA9IFR3ZWVuXG5cbiAgICBpZiAoIXR3ZWVuKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign57yT5Yqo566X5rOV5Ye95pWw57y65aSxJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLy8gZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2vlnYfkuLrlj6/pgInlj4LmlbBcbiAgICAvLyDogIzkuJTpobrluo/lj6/ku6Xku7vmhI9cbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgICAgZWFzaW5nOiAnTGluZWFyJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkgeyB9XG4gICAgfTtcblxuICAgIHZhciBzZXRPcHRpb25zID0gZnVuY3Rpb24gc2V0T3B0aW9ucyhvYmopIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JqKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayA9IG9iajtcbiAgICAgICAgfSBlbHNlIGlmICh0b01pbGxpc2Vjb25kKG9iaikgIT0gLTEpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSB0b01pbGxpc2Vjb25kKG9iaik7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcob2JqKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5lYXNpbmcgPSBvYmo7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNldE9wdGlvbnMoZHVyYXRpb24pO1xuICAgIHNldE9wdGlvbnMoZWFzaW5nKTtcbiAgICBzZXRPcHRpb25zKGNhbGxiYWNrKTtcblxuICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZeeahOWFvOWuueWkhOeQhlxuICAgIGlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZm4sIDE2LjcpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIOeul+azlemcgOimgeeahOWHoOS4quWPmOmHj1xuICAgIHZhciBzdGFydCA9IC0xO1xuICAgIC8vIGR1cmluZ+agueaNruiuvue9rueahOaAu+aXtumXtOiuoeeul1xuICAgIHZhciBkdXJpbmcgPSBNYXRoLmNlaWwob3B0aW9ucy5kdXJhdGlvbiAvIDE2LjcpO1xuXG4gICAgLy8g5b2T5YmN5Yqo55S7566X5rOVXG4gICAgLy8g56Gu5L+d6aaW5a2X5q+N5aSn5YaZXG4gICAgb3B0aW9ucy5lYXNpbmcgPSBvcHRpb25zLmVhc2luZy5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpICsgb3B0aW9ucy5lYXNpbmcuc2xpY2UoMSk7XG4gICAgdmFyIGFycktleVR3ZWVuID0gb3B0aW9ucy5lYXNpbmcuc3BsaXQoJy4nKTtcbiAgICB2YXIgZm5HZXRWYWx1ZTtcblxuICAgIGlmIChhcnJLZXlUd2Vlbi5sZW5ndGggPT0gMSkge1xuICAgICAgICBmbkdldFZhbHVlID0gdHdlZW5bYXJyS2V5VHdlZW5bMF1dO1xuICAgIH0gZWxzZSBpZiAoYXJyS2V5VHdlZW4ubGVuZ3RoID09IDIpIHtcbiAgICAgICAgZm5HZXRWYWx1ZSA9IHR3ZWVuW2FycktleVR3ZWVuWzBdXSAmJiB0d2VlblthcnJLZXlUd2VlblswXV1bYXJyS2V5VHdlZW5bMV1dO1xuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihmbkdldFZhbHVlKSA9PSBmYWxzZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfmsqHmnInmib7liLDlkI3kuLpcIicgKyBvcHRpb25zLmVhc2luZyArICdcIueahOWKqOeUu+eul+azlScpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdmFyIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAvLyDov5DliqhcbiAgICB2YXIgc3RlcCA9IGZ1bmN0aW9uIHN0ZXAoKSB7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGludGVydmFsID0gY3VycmVudFRpbWUgLSBsYXN0VGltZTtcblxuICAgICAgICBpZiAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHZhciBmcHMgPSBNYXRoLmNlaWwoMTAwMCAvIGludGVydmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgIGlmIChpbnRlcnZhbCA+IDEwMCkge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZwcyA+PSAzMCkge1xuICAgICAgICAgICAgc3RhcnQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBfc3RhcnQgPSBNYXRoLmZsb29yKChjdXJyZW50VGltZSAtIHN0YXJ0VGltZSkgLyAxNi43KTtcbiAgICAgICAgICAgIHN0YXJ0ID0gX3N0YXJ0ID4gc3RhcnQgPyBfc3RhcnQgOiBzdGFydCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDlvZPliY3nmoTov5DliqjkvY3nva5cblxuICAgICAgICB2YXIgdmFsdWUgPSBmbkdldFZhbHVlKHN0YXJ0LCBmcm9tLCB0byAtIGZyb20sIGR1cmluZyk7XG5cbiAgICAgICAgLy8g5aaC5p6c6L+Y5rKh5pyJ6L+Q5Yqo5Yiw5L2N77yM57un57utXG4gICAgICAgIGlmIChzdGFydCA8PSBkdXJpbmcgJiYgc2VsZkFuaW1hdGlvbklkID4ga2lsbEFuaW1hdGlvbklkKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrKHZhbHVlKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFydCA+IGR1cmluZyAmJiBzZWxmQW5pbWF0aW9uSWQgPiBraWxsQW5pbWF0aW9uSWQpIHtcbiAgICAgICAgICAgIC8vIOWKqOeUu+e7k+adn++8jOi/memHjOWPr+S7peaPkuWFpeWbnuiwgy4uLlxuICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayh0bywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7IH1cbiAgICB9O1xuICAgIC8vIOW8gOWni+aJp+ihjOWKqOeUu1xuICAgIHN0ZXAoKTtcbn07XG5cbnZhciBfc3RvcEFsbEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICBraWxsQW5pbWF0aW9uSWQgPSBhbmltYXRpb25JZDtcbn1cblxuZXhwb3J0IGNvbnN0IGN1c3RvbUFuaW1hdGlvbiA9IF9jdXN0b21BbmltYXRpb247XG5leHBvcnQgY29uc3QgVHdlZW5BbmltYXRpb24gPSBfVHdlZW5BbmltYXRpb247XG5leHBvcnQgY29uc3Qgc3RvcEFsbEFuaW1hdGlvbiA9IF9zdG9wQWxsQW5pbWF0aW9uO1xuIiwiaW1wb3J0IHsgY29tbW9uIH0gZnJvbSAnQHV0aWxzL2NvbW1vbic7XHJcbmltcG9ydCB7IGN1c3RvbUFuaW1hdGlvbn0gZnJvbSAnQHV0aWxzL2FuaW1hdGlvbic7XHJcblxyXG5cclxuY2xhc3MgQ2FtZXJhIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZnJ1c3R1bVNpemUgPSAzMDtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgY29uc3QgeyBhc3BlY3QgfSA9IGNvbW1vbjtcclxuICAgICAgICBsZXQgZnJ1c3R1bVNpemUgPSB0aGlzLmZydXN0dW1TaXplO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC1mcnVzdHVtU2l6ZSwgZnJ1c3R1bVNpemUsIGZydXN0dW1TaXplICogYXNwZWN0LCAtZnJ1c3R1bVNpemUgKiBhc3BlY3QsIC0xMDAsIDg1KTtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5sb29rQXQodGhpcy50YXJnZXQpO1xyXG4gICAgfVxyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgLy8tMTAsMTAsMTBcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnNldCgtMTAsIDEwLCAxMCk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZVBvc2l0aW9uKG5ld1RhcmdldFBvc2l0aW9uKSB7XHJcbiAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaW5zdGFuY2UucG9zaXRpb24sIDAuNSwgeyB4OiBuZXdUYXJnZXRQb3NpdGlvbi54IC0gMTAsIHk6IG5ld1RhcmdldFBvc2l0aW9uLnkgKyAxMCwgejogbmV3VGFyZ2V0UG9zaXRpb24ueiArIDEwIH0pXHJcbiAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMudGFyZ2V0LCAwLjUsIHsgeDogbmV3VGFyZ2V0UG9zaXRpb24ueCwgeTogbmV3VGFyZ2V0UG9zaXRpb24ueSwgejogbmV3VGFyZ2V0UG9zaXRpb24ueiB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FtZXJhKCk7IiwiXHJcbmltcG9ydCB7IGN1c3RvbUFuaW1hdGlvbiB9IGZyb20gJ0B1dGlscy9hbmltYXRpb24nO1xyXG5cclxuY2xhc3MgTGlnaHQge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5pbnN0YW5jZXMgPSB7fTtcclxuICB9XHJcbiAgaW5pdCgpIHtcclxuICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYsIDAuOCk7XHJcbiAgICBjb25zdCBzaGFkb3dMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAwLjMpO1xyXG4gICAgdGhpcy5zaGFkb3dMaWdodCA9IHNoYWRvd0xpZ2h0O1xyXG4gICAgY29uc3Qgc2hhZG93TGlnaHRIZWxwZXIgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodEhlbHBlcihzaGFkb3dMaWdodCwgNSk7XHJcbiAgICBzaGFkb3dMaWdodC5wb3NpdGlvbi5zZXQoMTAsIDMwLCAyMCk7O1xyXG4gICAgc2hhZG93TGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICB2YXIgYmFzaWNNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweEY1RjVGNSB9KTs7XHJcbiAgICB0aGlzLnNoYWRvd1RhcmdldCA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDAuMSwgMC4xKSwgYmFzaWNNYXRlcmlhbCk7XHJcbiAgICB0aGlzLnNoYWRvd1RhcmdldC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB0aGlzLnNoYWRvd1RhcmdldC5uYW1lID0gJ3NoYWRvd1RhcmdldCc7XHJcbiAgICBzaGFkb3dMaWdodC50YXJnZXQgPSB0aGlzLnNoYWRvd1RhcmdldDtcclxuICAgIHNoYWRvd0xpZ2h0LnNoYWRvdy5jYW1lcmEubmVhciA9IDAuNTtcclxuICAgIHNoYWRvd0xpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gNTAwO1xyXG4gICAgc2hhZG93TGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gLTEwMDtcclxuICAgIHNoYWRvd0xpZ2h0LnNoYWRvdy5jYW1lcmEucmlnaHQgPSAxMDA7XHJcbiAgICBzaGFkb3dMaWdodC5zaGFkb3cuY2FtZXJhLnRvcCA9IDEwMDtcclxuICAgIHNoYWRvd0xpZ2h0LnNoYWRvdy5jYW1lcmEuYm90dG9tID0gLTEwMDtcclxuICAgIHNoYWRvd0xpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcclxuICAgIHNoYWRvd0xpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XHJcbiAgICB0aGlzLmluc3RhbmNlcy5zaGFkb3dMaWdodCA9IHNoYWRvd0xpZ2h0O1xyXG4gICAgdGhpcy5pbnN0YW5jZXMuYW1iaWVudExpZ2h0ID0gYW1iaWVudExpZ2h0O1xyXG4gICAgdGhpcy5pbnN0YW5jZXMuc2hhZG93VGFyZ2V0ID0gdGhpcy5zaGFkb3dUYXJnZXQ7XHJcbiAgICAvLyB0aGlzLmluc3RhbmNlcy5zaGFkb3dMaWdodEhlbHBlciA9IHNoYWRvd0xpZ2h0SGVscGVyO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUG9zaXRpb24odGFyZ2V0UG9zaXRpb24pIHtcclxuICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLnNoYWRvd1RhcmdldC5wb3NpdGlvbiwgMC41LCB7IHg6IHRhcmdldFBvc2l0aW9uLngsIHk6IHRhcmdldFBvc2l0aW9uLnksIHo6IHRhcmdldFBvc2l0aW9uLnogfSk7XHJcbiAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5zaGFkb3dMaWdodC5wb3NpdGlvbiwgMC41LCB7IHg6IDEwICsgdGFyZ2V0UG9zaXRpb24ueCwgeTogMzAgKyB0YXJnZXRQb3NpdGlvbi55LCB6OiAyMCArIHRhcmdldFBvc2l0aW9uLnogfSk7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuc2hhZG93TGlnaHQucG9zaXRpb24uc2V0KDEwLCAzMCwgMjApO1xyXG4gICAgdGhpcy5zaGFkb3dUYXJnZXQucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IExpZ2h0KCk7IiwiXHJcbmltcG9ydCBjYW1lcmEgZnJvbSAnQHNjZW5lL2NhbWVyYSc7XHJcbmltcG9ydCB7IGNvbW1vbiB9IGZyb20gJ0B1dGlscy9jb21tb24nO1xyXG5cclxuY2xhc3MgQmFja2dyb3VuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmZydXN0dW1TaXplID0gY2FtZXJhLmZydXN0dW1TaXplO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNvbW1vbjtcclxuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KHRoaXMuZnJ1c3R1bVNpemUgKiAyLCB0aGlzLmZydXN0dW1TaXplICogMiAqIGhlaWdodCAvIHdpZHRoKTtcclxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiAweGY1ZjVmNSxcclxuICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBtZXNoO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQmFja2dyb3VuZCgpOyIsImltcG9ydCB7IGNvbW1vbiB9IGZyb20gJ0B1dGlscy9jb21tb24nXHJcbmltcG9ydCBjYW1lcmEgZnJvbSAnLi9jYW1lcmEnO1xyXG5pbXBvcnQgbGlnaHQgZnJvbSAnLi9saWdodCc7XHJcbmltcG9ydCBiYWNrZ3JvdW5kIGZyb20gJ0BwYXJ0L2JhY2tncm91bmQnO1xyXG5cclxuXHJcbmNsYXNzIFNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGNhbnZhcyB9ID0gY29tbW9uO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XHJcbiAgICAgICAgICAgIGNhbnZhcyxcclxuICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxyXG4gICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUsXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTaGFkb3dNYXA7XHJcbiAgICAgICAgLy8gdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKG5ldyBUSFJFRS5Db2xvcigweGZmZmZmZikpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVEhSRUUuU2NlbmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuaW5pdCgpO1xyXG5cclxuICAgICAgICB0aGlzLmxpZ2h0ID0gbGlnaHQ7XHJcbiAgICAgICAgdGhpcy5saWdodC5pbml0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuYXhlc0hlbHBlciA9IG5ldyBUSFJFRS5BeGVzSGVscGVyKDEwMCk7XHJcbiAgICAgICAgLy8gdGhpcy5pbnN0YW5jZS5hZGQodGhpcy5heGVzSGVscGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5hZGQodGhpcy5jYW1lcmEuaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmxpZ2h0Lmluc3RhbmNlcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5saWdodC5pbnN0YW5jZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5hZGQodGhpcy5saWdodC5pbnN0YW5jZXNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmluaXQoKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQuaW5zdGFuY2UucG9zaXRpb24ueiA9IC04NDtcclxuICAgICAgICB0aGlzLmNhbWVyYS5pbnN0YW5jZS5hZGQodGhpcy5iYWNrZ3JvdW5kLmluc3RhbmNlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5pbnN0YW5jZSwgdGhpcy5jYW1lcmEuaW5zdGFuY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNhbWVyYVBvc2l0aW9uKHRhcmdldFBvc2l0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUG9zaXRpb24odGFyZ2V0UG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMubGlnaHQudXBkYXRlUG9zaXRpb24odGFyZ2V0UG9zaXRpb24pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYS5yZXNldCgpXHJcbiAgICAgICAgdGhpcy5saWdodC5yZXNldCgpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkU2NvcmUgKHNjb3JlSW5zdGFuY2UpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTY29yZSA9IHNjb3JlSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuaW5zdGFuY2UuYWRkKHNjb3JlSW5zdGFuY2UpO1xyXG4gICAgICAgIHNjb3JlSW5zdGFuY2UucG9zaXRpb24ueCA9IC0yNDtcclxuICAgICAgICBzY29yZUluc3RhbmNlLnBvc2l0aW9uLnkgPSA0MjtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIHVwZGF0ZVNjb3JlIChzY29yZUluc3RhbmNlKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuaW5zdGFuY2UucmVtb3ZlKHRoaXMuY3VycmVudFNjb3JlKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTY29yZSA9IHNjb3JlSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuaW5zdGFuY2UuYWRkKHNjb3JlSW5zdGFuY2UpO1xyXG4gICAgICAgIHNjb3JlSW5zdGFuY2UucG9zaXRpb24ueCA9IC0yNDtcclxuICAgICAgICBzY29yZUluc3RhbmNlLnBvc2l0aW9uLnkgPSA0MjtcclxuICAgICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IFNjZW5lKCk7IiwiaW1wb3J0IHsgQkxPQ0tDT05GSUcsU1RBVFVTIH0gZnJvbSBcIkB1dGlscy9jb21tb25cIjtcclxuaW1wb3J0IHsgY3VzdG9tQW5pbWF0aW9uIH0gZnJvbSAnQHV0aWxzL2FuaW1hdGlvbic7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZUJsb2NrIHtcclxuICAgIGNvbnN0cnVjdG9yKHR5cGUpIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBCTE9DS0NPTkZJRy53aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IEJMT0NLQ09ORklHLmhlaWdodDtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IFNUQVRVUy5TVE9QO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHBvcHVwKCkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24uc2V0KHRoaXMueCwgdGhpcy55ICsgMzAsIHRoaXMueik7XHJcbiAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaW5zdGFuY2UucG9zaXRpb24sIDAuNSwgeyB4OiB0aGlzLngsIHk6IHRoaXMueSwgejogdGhpcy56LCBlYXNlOiAnQm91bmNlLmVhc2VPdXQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9zaHJpbmsoKSB7XHJcbiAgICAgICAgY29uc3QgREVMVEFfU0NBTEUgPSAwLjAwNTtcclxuICAgICAgICBjb25zdCBNSU5fU0NBTEUgPSAwLjU1O1xyXG4gICAgICAgIHRoaXMuc2NhbGUgLT0gREVMVEFfU0NBTEU7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IE1hdGgubWF4KE1JTl9TQ0FMRSwgdGhpcy5zY2FsZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NhbGUgPD0gTUlOX1NDQUxFKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLlNUT1A7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5zY2FsZS55ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBkZWx0YVkgPSB0aGlzLmhlaWdodCAqIERFTFRBX1NDQUxFIC8gMjtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnkgLT0gZGVsdGFZO1xyXG4gICAgfVxyXG5cclxuICAgIHJlYm91bmQoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBTVEFUVVMuU1RPUDtcclxuICAgICAgICB0aGlzLnNjYWxlID0gMTtcclxuICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5pbnN0YW5jZS5zY2FsZSwgMC41LCB7IGVhc2U6ICdFbGFzdGljLmVhc2VPdXQnLCB5OiAxIH0pO1xyXG4gICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnBvc2l0aW9uLCAwLjUsIHsgZWFzZTogJ0VsYXN0aWMuZWFzZU91dCcsIHk6IDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hyaW5rKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLlNLUklOSztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBTVEFUVVMuU0tSSU5LKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NocmluaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRWZXJ0aWNlcygpIHtcclxuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB4OiB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHo6IHRoaXMuaW5zdGFuY2UucG9zaXRpb24uelxyXG4gICAgICAgIH1cclxuICAgICAgICB2ZXJ0aWNlcy5wdXNoKFtjZW50ZXJQb3NpdGlvbi54ICsgdGhpcy53aWR0aCAvIDIsIGNlbnRlclBvc2l0aW9uLnogKyB0aGlzLndpZHRoIC8gMl0pO1xyXG4gICAgICAgIHZlcnRpY2VzLnB1c2goW2NlbnRlclBvc2l0aW9uLnggKyB0aGlzLndpZHRoIC8gMiwgY2VudGVyUG9zaXRpb24ueiAtIHRoaXMud2lkdGggLyAyXSk7XHJcbiAgICAgICAgdmVydGljZXMucHVzaChbY2VudGVyUG9zaXRpb24ueCAtIHRoaXMud2lkdGggLyAyLCBjZW50ZXJQb3NpdGlvbi56ICsgdGhpcy53aWR0aCAvIDJdKTtcclxuICAgICAgICB2ZXJ0aWNlcy5wdXNoKFtjZW50ZXJQb3NpdGlvbi54IC0gdGhpcy53aWR0aCAvIDIsIGNlbnRlclBvc2l0aW9uLnogLSB0aGlzLndpZHRoIC8gMl0pO1xyXG4gICAgICAgIHJldHVybiB2ZXJ0aWNlcztcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOGUyMzZiNDk2ODJlZDY4ZDhiMWE3ZDkxYzFhZjljMGQucG5nXCI7IiwiaW1wb3J0IEJhc2VCbG9jayBmcm9tICcuL2Jhc2UnO1xyXG5pbXBvcnQgeyBCTE9DS1RZUEUsIENPTE9SIH0gZnJvbSAnQHV0aWxzL2NvbW1vbic7XHJcblxyXG5pbXBvcnQgaW1nX3N0b29sIGZyb20gJ0BpbWFnZXMvc3Rvb2wucG5nJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1Ym9pZEJsb2NrIGV4dGVuZHMgQmFzZUJsb2NrIHtcclxuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDAsIHR5cGUsIHNpemUpIHtcclxuICAgICAgICBzdXBlcihCTE9DS1RZUEUuQ1VCT0lEKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZSB8fCB0aGlzLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KHRoaXMuc2l6ZSwgdGhpcy5oZWlnaHQsIHRoaXMuc2l6ZSk7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZChpbWdfc3Rvb2wpO1xyXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgY29sb3I6IH5+Q09MT1Jbfn4oQ09MT1IubGVuZ3RoKk1hdGgucmFuZG9tKCkpXSB9KTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5uYW1lID0gdGhpcy5uYW1lO1xyXG4gICAgICAgIHRoaXMueCA9IHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0gdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi55ID0geTtcclxuICAgICAgICB0aGlzLnogPSB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnogPSB6O1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BvcHVwJykge1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwKClcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzaG93Jykge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnggPSB0aGlzLnhcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi55ID0gdGhpcy55XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueiA9IHRoaXMuelxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgQmFzZUJsb2NrIGZyb20gJy4vYmFzZSc7XHJcbmltcG9ydCB7IEJMT0NLVFlQRSwgQ09MT1IgfSBmcm9tICdAdXRpbHMvY29tbW9uJztcclxuXHJcbmltcG9ydCBpbWdfc3Rvb2wgZnJvbSAnQGltYWdlcy9zdG9vbC5wbmcnXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3lsaW5kZXJCbG9jayBleHRlbmRzIEJhc2VCbG9jayB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHogPSAwLCB0eXBlLCBzaXplKSB7XHJcbiAgICAgICAgc3VwZXIoQkxPQ0tUWVBFLkNZTElOREVSKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZSB8fCB0aGlzLndpZHRoO1xyXG5cclxuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KHRoaXMuc2l6ZSAvIDIsIHRoaXMuc2l6ZSAvIDIsIHRoaXMuaGVpZ2h0LCAxMDApO1xyXG5cclxuICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoaW1nX3N0b29sKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBjb2xvcjogfn5DT0xPUlt+fihDT0xPUi5sZW5ndGgqTWF0aC5yYW5kb20oKSldIH0pO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLm5hbWUgPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnkgPSB5O1xyXG4gICAgICAgIHRoaXMueiA9IHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueiA9IHo7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAncG9wdXAnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAoKVxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3Nob3cnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueCA9IHRoaXMueFxyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnkgPSB0aGlzLnlcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi56ID0gdGhpcy56XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG4iLCJcclxuY2xhc3MgR3JvdW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyMDAsIDIwMCk7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZG93TWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgICAgICAgY29sb3I6IDB4MDAwMDAwLFxyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5yb3RhdGlvbi54ID0gLU1hdGguUEkgLyAyO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueSA9IC0gNS44O1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQoKXtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi55ID0gLSA1Ljg7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi54ID0gMDtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnogPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVBvc2l0aW9uKHRhcmdldFBvc2l0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi54ID0gdGFyZ2V0UG9zaXRpb24ueFxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueiA9IHRhcmdldFBvc2l0aW9uLnpcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEdyb3VuZCgpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMWZhY2RjYzFlZjI1ZTBkNzEyNmJiNmRmZWUxZTY5YTcucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjM4MzVkMThjNTc1OTBmOTJkMWE3ZmI0Y2UyMTczMDRmLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxMTBjNTA0OGE2NjU4ZjllZTE5MTY4NjE5Y2Q1MzM1Yy5wbmdcIjsiLCJpbXBvcnQgeyBCTE9DS0NPTkZJRywgU1RBVFVTLCBCT1RUTEVDT05GSUcgfSBmcm9tIFwiQHV0aWxzL2NvbW1vblwiO1xyXG5pbXBvcnQgaW1nX2hlYWQgZnJvbSAnQGltYWdlcy9oZWFkLnBuZyc7XHJcbmltcG9ydCBpbWdfYm90dG9tIGZyb20gJ0BpbWFnZXMvYm90dG9tLnBuZyc7XHJcbmltcG9ydCBpbWdfdG9wIGZyb20gJ0BpbWFnZXMvdG9wLnBuZyc7XHJcbmltcG9ydCB7IGN1c3RvbUFuaW1hdGlvbiB9IGZyb20gXCJAdXRpbHMvYW5pbWF0aW9uXCJcclxuaW1wb3J0IHsgY29tbW9uIH0gZnJvbSBcIkB1dGlscy9jb21tb25cIjtcclxuXHJcbmNsYXNzIEJvdHRsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBjb25zdCB7IHgsIHksIHogfSA9IEJPVFRMRUNPTkZJRztcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy56ID0gejtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcImJvdHRsZVwiO1xyXG4gICAgICAgIHRoaXMucmFkaXVzID0gMS43ODtcclxuICAgICAgICB0aGlzLmRlcHRoID0gMTAuMjQ7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMucmFkaXVzICogMjtcclxuICAgICAgICB0aGlzLmJsb2NrSGVpZ2h0ID0gQkxPQ0tDT05GSUcuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZ3Jhdml0eSA9IGNvbW1vbi5ncmF2aXR5O1xyXG4gICAgICAgIHRoaXMuZmx5aW5nVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuYXhpcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSAnJztcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcblxyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xyXG4gICAgICAgIHRoaXMuaGVybyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UubmFtZSA9IHRoaXMubmFtZTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnNldCh0aGlzLngsIHRoaXMueSArIDMwLCB0aGlzLnopO1xyXG5cclxuICAgICAgICB0aGlzLmluc3RhbmNlLmNhc3RTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLmNyZWF0ZUhlYWQoKTtcclxuICAgICAgICB0aGlzLmhlYWQucG9zaXRpb24ueSA9IDEwLjI0O1xyXG4gICAgICAgIHRoaXMuaGVhZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmhlYWQuY2FzdFNoYWRvdyA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuYm9keSA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xyXG5cclxuICAgICAgICBjb25zdCBib3R0b20gPSB0aGlzLmNyZWF0ZUJvdHRvbSgpO1xyXG4gICAgICAgIGJvdHRvbS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICBib3R0b20uY2FzdFNoYWRvdyA9IHRydWU7XHJcblxyXG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IHRoaXMuY3JlYXRlTWlkZGxlKCk7XHJcbiAgICAgICAgbWlkZGxlLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIG1pZGRsZS5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICBtaWRkbGUucG9zaXRpb24ueSA9IDMuMDY7XHJcblxyXG4gICAgICAgIGNvbnN0IHRvcCA9IHRoaXMuY3JlYXRlVG9wKCk7XHJcbiAgICAgICAgdG9wLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIHRvcC5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuICAgICAgICB0b3AucG9zaXRpb24ueSA9IDMuODY7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmJvZHkuYWRkKHRvcCk7XHJcbiAgICAgICAgdGhpcy5ib2R5LmFkZChtaWRkbGUpO1xyXG4gICAgICAgIHRoaXMuYm9keS5hZGQoYm90dG9tKTtcclxuXHJcbiAgICAgICAgdGhpcy5ib2R5LnBvc2l0aW9uLnkgPSAxLjg7XHJcblxyXG4gICAgICAgIHRoaXMuaGVyby5hZGQodGhpcy5oZWFkKTtcclxuICAgICAgICB0aGlzLmhlcm8uYWRkKHRoaXMuYm9keSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UuYWRkKHRoaXMuaGVybyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlSGVhZCgpIHtcclxuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5KHRoaXMucmFkaXVzLCAzKTtcclxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKGltZ19oZWFkKTtcclxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IG1hcDogdGV4dHVyZSwgY29sb3I6IDB4ZmZmZmZmIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJvdHRvbSgpIHtcclxuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KHRoaXMucmFkaXVzICogMC43OCwgdGhpcy5yYWRpdXMgKiAxLjE3LCB0aGlzLnJhZGl1cyAqIDIuMSwgMjApO1xyXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoaW1nX2JvdHRvbSk7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBtYXA6IHRleHR1cmUsIGNvbG9yOiAweGZmZmZmZiB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNaWRkbGUoKSB7XHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSh0aGlzLnJhZGl1cyAqIDAuOTU1LCB0aGlzLnJhZGl1cyAqIDAuNzgsIHRoaXMucmFkaXVzICogMS40MSwgMjApO1xyXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoaW1nX2JvdHRvbSk7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBtYXA6IHRleHR1cmUsIGNvbG9yOiAweGZmZmZmZiB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVUb3AoKSB7XHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkodGhpcy5yYWRpdXMsIDMyLCAzMiwgMCwgNi40LCAwLCAxLjMpO1xyXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoaW1nX3RvcCk7XHJcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBtYXA6IHRleHR1cmUsIGNvbG9yOiAweGZmZmZmZiB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnBvc2l0aW9uLCAxLCB7XHJcbiAgICAgICAgICAgICAgICB4OiBCT1RUTEVDT05GSUcueCxcclxuICAgICAgICAgICAgICAgIHk6IEJPVFRMRUNPTkZJRy55ICsgdGhpcy5ibG9ja0hlaWdodCAvIDIsXHJcbiAgICAgICAgICAgICAgICB6OiBCT1RUTEVDT05GSUcueixcclxuICAgICAgICAgICAgICAgIGVhc2U6ICdCb3VuY2UuZWFzZU91dCcsXHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiByZXNvbHZlKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHNldERpcmVjdGlvbihkaXJlY3Rpb24sIGF4aXMpIHtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuICAgICAgICB0aGlzLmF4aXMgPSBheGlzO1xyXG4gICAgfVxyXG4gICAgcm90YXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gMS4zNTtcclxuICAgICAgICB0aGlzLmhlcm8ucm90YXRpb24ueiA9IHRoaXMuaGVyby5yb3RhdGlvbi54ID0gMDtcclxuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT0gMCkgeyAvLyB4XHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmhlcm8ucm90YXRpb24sIDAuMTQsIHsgejogdGhpcy5oZXJvLnJvdGF0aW9uLnogLSBNYXRoLlBJIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmhlcm8ucm90YXRpb24sIDAuMTgsIHsgejogdGhpcy5oZXJvLnJvdGF0aW9uLnogLSAyICogTWF0aC5QSSwgZGVsYXk6IDAuMTQgfSlcclxuICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaGVhZC5wb3NpdGlvbiwgMC4xLCB7IHk6IHRoaXMuaGVhZC5wb3NpdGlvbi55ICsgMC45ICogc2NhbGUsIHg6IHRoaXMuaGVhZC5wb3NpdGlvbi54ICsgMC40NSAqIHNjYWxlIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmhlYWQucG9zaXRpb24sIDAuMSwgeyB5OiB0aGlzLmhlYWQucG9zaXRpb24ueSAtIDAuOSAqIHNjYWxlLCB4OiB0aGlzLmhlYWQucG9zaXRpb24ueCAtIDAuNDUgKiBzY2FsZSwgZGVsYXk6IDAuMSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5oZWFkLnBvc2l0aW9uLCAwLjE1LCB7IHk6IDEwLjI0LCB4OiAwLCBkZWxheTogMC4yNSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5ib2R5LnNjYWxlLCAwLjEsIHsgeTogTWF0aC5tYXgoc2NhbGUsIDEpLCB4OiBNYXRoLm1heChNYXRoLm1pbigxIC8gc2NhbGUsIDEpLCAwLjcpLCB6OiBNYXRoLm1heChNYXRoLm1pbigxIC8gc2NhbGUsIDEpLCAwLjcpIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmJvZHkuc2NhbGUsIDAuMSwgeyB5OiBNYXRoLm1pbigwLjkgLyBzY2FsZSwgMC43KSwgeDogTWF0aC5tYXgoc2NhbGUsIDEuMiksIHo6IE1hdGgubWF4KHNjYWxlLCAxLjIpLCBkZWxheTogMC4xIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmJvZHkuc2NhbGUsIDAuMywgeyB5OiAxLCB4OiAxLCB6OiAxLCBkZWxheTogMC4yIH0pXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbiA9PSAxKSB7IC8vIHpcclxuICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaGVyby5yb3RhdGlvbiwgMC4xNCwgeyB4OiB0aGlzLmhlcm8ucm90YXRpb24ueCAtIE1hdGguUEkgfSlcclxuICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaGVyby5yb3RhdGlvbiwgMC4xOCwgeyB4OiB0aGlzLmhlcm8ucm90YXRpb24ueCAtIDIgKiBNYXRoLlBJLCBkZWxheTogMC4xNCB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5oZWFkLnBvc2l0aW9uLCAwLjEsIHsgeTogdGhpcy5oZWFkLnBvc2l0aW9uLnkgKyAwLjkgKiBzY2FsZSwgejogdGhpcy5oZWFkLnBvc2l0aW9uLnogLSAwLjQ1ICogc2NhbGUgfSlcclxuICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaGVhZC5wb3NpdGlvbiwgMC4xLCB7IHo6IHRoaXMuaGVhZC5wb3NpdGlvbi56ICsgMC40NSAqIHNjYWxlLCB5OiB0aGlzLmhlYWQucG9zaXRpb24ueSAtIDAuOSAqIHNjYWxlLCBkZWxheTogMC4xIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmhlYWQucG9zaXRpb24sIDAuMTUsIHsgeTogMTAuMjQsIHo6IDAsIGRlbGF5OiAwLjI1IH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmJvZHkuc2NhbGUsIDAuMDUsIHsgeTogTWF0aC5tYXgoc2NhbGUsIDEpLCB4OiBNYXRoLm1heChNYXRoLm1pbigxIC8gc2NhbGUsIDEpLCAwLjcpLCB6OiBNYXRoLm1heChNYXRoLm1pbigxIC8gc2NhbGUsIDEpLCAwLjcpIH0pXHJcbiAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmJvZHkuc2NhbGUsIDAuMDUsIHsgeTogTWF0aC5taW4oMC45IC8gc2NhbGUsIDAuNyksIHg6IE1hdGgubWF4KHNjYWxlLCAxLjIpLCB6OiBNYXRoLm1heChzY2FsZSwgMS4yKSwgZGVsYXk6IDAuMSB9KVxyXG4gICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5ib2R5LnNjYWxlLCAwLjIsIHsgeTogMSwgeDogMSwgejogMSwgZGVsYXk6IDAuMiB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgJiYgdGhpcy5pbnN0YW5jZS5wb3NpdGlvbi5zZXQodGhpcy54LCB0aGlzLnkgKyAzMCwgdGhpcy56KTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlICYmIHRoaXMuaW5zdGFuY2Uucm90YXRpb24uc2V0KDAsIDAsIDApO1xyXG4gICAgfVxyXG4gICAgc2hyaW5rKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLlNLUklOSztcclxuICAgIH1cclxuICAgIGp1bXAoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBTVEFUVVMuSlVNUDtcclxuICAgIH1cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBTVEFUVVMuU1RPUDtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0ge1xyXG4gICAgICAgICAgICB2eDogMCxcclxuICAgICAgICAgICAgdnk6IDBcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mbHlpbmdUaW1lID0gMDtcclxuICAgICAgICB0aGlzLnNjYWxlID0gMTtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aGlzLmJvZHkuc2NhbGUueCA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgICAgIHRoaXMuYm9keS5zY2FsZS55ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICAgICAgdGhpcy5ib2R5LnNjYWxlLnogPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgICAgICB0aGlzLmhlYWQucG9zaXRpb24ueSA9IDEwLjI0O1xyXG4gICAgICAgICAgICB0aGlzLmhlcm8ucG9zaXRpb24ueSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zaHJpbmsoKSB7XHJcbiAgICAgICAgY29uc3QgREVMVEFfU0NBTEUgPSAwLjAwNTtcclxuICAgICAgICBjb25zdCBIT1JJWk9OX0RFTFRBX1NDQUxFID0gMC4wMDI7XHJcbiAgICAgICAgY29uc3QgSEVBRF9ERUxUQSA9IDAuMDM7XHJcbiAgICAgICAgY29uc3QgTUlOX1NDQUxFID0gMC41NTtcclxuICAgICAgICB0aGlzLnNjYWxlIC09IERFTFRBX1NDQUxFO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSBNYXRoLm1heChNSU5fU0NBTEUsIHRoaXMuc2NhbGUpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjYWxlIDw9IE1JTl9TQ0FMRSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYm9keS5zY2FsZS55ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICB0aGlzLmJvZHkuc2NhbGUueCArPSBIT1JJWk9OX0RFTFRBX1NDQUxFO1xyXG4gICAgICAgIHRoaXMuYm9keS5zY2FsZS56ICs9IEhPUklaT05fREVMVEFfU0NBTEU7XHJcbiAgICAgICAgdGhpcy5oZWFkLnBvc2l0aW9uLnkgLT0gSEVBRF9ERUxUQTtcclxuICAgICAgICBjb25zdCBib3R0bGVEZWx0YVkgPSBIRUFEX0RFTFRBIC8gMjtcclxuICAgICAgICBjb25zdCBkZWx0YVkgPSB0aGlzLmJsb2NrSGVpZ2h0ICogREVMVEFfU0NBTEUgLyAyO1xyXG4gICAgICAgIHRoaXMuaGVyby5wb3NpdGlvbi55IC09IChib3R0bGVEZWx0YVkgKyBkZWx0YVkgKiAyKTtcclxuICAgIH1cclxuXHJcbiAgICBfanVtcCh0aWNrVGltZSkge1xyXG4gICAgICAgIGNvbnN0IHQgPSB0aWNrVGltZSAvIDEwMDA7XHJcbiAgICAgICAgdGhpcy5mbHlpbmdUaW1lID0gdGhpcy5mbHlpbmdUaW1lICsgdDtcclxuICAgICAgICBjb25zdCB0cmFuc2xhdGVIID0gdGhpcy52ZWxvY2l0eS52eCAqIHQ7XHJcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlWSA9IHRoaXMudmVsb2NpdHkudnkgKiB0IC0gMC41ICogdGhpcy5ncmF2aXR5ICogdCAqIHQgLSB0aGlzLmdyYXZpdHkgKiB0aGlzLmZseWluZ1RpbWUgKiB0O1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UudHJhbnNsYXRlWSh0cmFuc2xhdGVZKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnRyYW5zbGF0ZU9uQXhpcyh0aGlzLmF4aXMsIHRyYW5zbGF0ZUgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcmVyYWtlKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLkZPUkVSQUtFO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24ueSA9IEJMT0NLQ09ORklHLmhlaWdodCAvIDI7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tQW5pbWF0aW9uLnRvKHRoaXMuaW5zdGFuY2Uucm90YXRpb24sIC41LCB7IHo6IC1NYXRoLlBJIC8gMiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnJvdGF0aW9uLCAuNSwgeyB4OiAtTWF0aC5QSSAvIDIgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21BbmltYXRpb24udG8odGhpcy5pbnN0YW5jZS5wb3NpdGlvbiwgMC4yLCB7IHk6IC1CTE9DS0NPTkZJRy5oZWlnaHQgLyAyICsgMS4yIH0pO1xyXG4gICAgICAgICAgICB9LCAzNTApO1xyXG4gICAgICAgIH0sIDIwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgaHlwc29raW5lc2lzKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLkhZUFNPS0lORVNJUztcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnkgPSBCTE9DS0NPTkZJRy5oZWlnaHQgLyAyO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnJvdGF0aW9uLCAuNSwgeyB6OiBNYXRoLlBJIC8gMiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnJvdGF0aW9uLCAuNSwgeyB4OiBNYXRoLlBJIC8gMiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnBvc2l0aW9uLCAwLjIsIHsgeTogLUJMT0NLQ09ORklHLmhlaWdodCAvIDIgKyAxLjIgfSk7XHJcbiAgICAgICAgICAgIH0sIDE1MCk7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuICAgIH1cclxuXHJcbiAgICBmYWxsKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU1RBVFVTLkZBTEw7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2ZhbGwnKVxyXG4gICAgICAgIGN1c3RvbUFuaW1hdGlvbi50byh0aGlzLmluc3RhbmNlLnBvc2l0aW9uLCAwLjIsIHsgeTogLUJMT0NLQ09ORklHLmhlaWdodCAvIDIgKyAxLjIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gU1RBVFVTLlNLUklOSykge1xyXG4gICAgICAgICAgICB0aGlzLl9zaHJpbmsoKVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09IFNUQVRVUy5KVU1QKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpY2tUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuICAgICAgICAgICAgdGhpcy5fanVtcCh0aWNrVGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IERhdGUubm93KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBCb3R0bGUoKTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIHBvaW50SW5Qb2x5Z29uKHBvaW50LCB2cykge1xuICAgIHZhciB4ID0gcG9pbnRbMF0sIHkgPSBwb2ludFsxXVxuICAgIFxuICAgIHZhciBpbnNpZGUgPSBmYWxzZVxuXG4gICAgY29uc3QgeE1pbiA9IHZzWzBdWzBdID4gdnNbMl1bMF0gPyB2c1syXVswXSA6IHZzWzBdWzBdXG4gICAgY29uc3QgeE1heCA9IHZzWzBdWzBdIDwgdnNbMl1bMF0gPyB2c1syXVswXSA6IHZzWzBdWzBdXG5cbiAgICBjb25zdCB5TWluID0gdnNbMF1bMV0gPiB2c1sxXVsxXSA/IHZzWzFdWzFdIDogdnNbMF1bMV1cbiAgICBjb25zdCB5TWF4ID0gdnNbMF1bMV0gPCB2c1sxXVsxXSA/IHZzWzFdWzFdIDogdnNbMF1bMV1cblxuICAgIGlmICh4ID4geE1pbiAmJiB4IDwgeE1heCAmJiB5ID4geU1pbiAmJiB5IDwgeU1heCkge1xuICAgICAgaW5zaWRlID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gaW5zaWRlXG4gIH0sIFxuXG4gIG1lcmdlICh0b3RhbEdlb21ldHJ5LCBnZW9tZXRyeSwgaW5kZXgsIHBvc2l0aW9ucykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBnZW9tZXRyeS5mYWNlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgZ2VvbWV0cnkuZmFjZXNbaV0ubWF0ZXJpYWxJbmRleCA9IDA7XG4gICAgfVxuICAgIHZhciBtZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnkpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwb3NpdGlvbnMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIG1lc2gucG9zaXRpb24uc2V0KHBvc2l0aW9uc1tpXS54LCBwb3NpdGlvbnNbaV0ueSwgcG9zaXRpb25zW2ldLnopO1xuICAgICAgbWVzaC51cGRhdGVNYXRyaXgoKTtcbiAgICAgIHRvdGFsR2VvbWV0cnkubWVyZ2UobWVzaC5nZW9tZXRyeSwgbWVzaC5tYXRyaXgsIGluZGV4KTtcbiAgICB9XG4gIH0sXG5cbiAgbWFwVXYgKHRleHR1cmVXaWR0aCwgdGV4dHVyZUhlaWdodCwgZ2VvbWV0cnksIGZhY2VJZHgsIHgxLCB5MSwgeDIsIHkyLCBmbGFnKSB7XG4gICAgdmFyIHRpbGVVdlcgPSAxIC8gdGV4dHVyZVdpZHRoO1xuICAgIHZhciB0aWxlVXZIID0gMSAvIHRleHR1cmVIZWlnaHQ7XG4gICAgaWYgKGdlb21ldHJ5LmZhY2VzW2ZhY2VJZHhdIGluc3RhbmNlb2YgVEhSRUUuRmFjZTMpIHtcbiAgICAgIHZhciBVVnMgPSBnZW9tZXRyeS5mYWNlVmVydGV4VXZzWzBdW2ZhY2VJZHggKiAyXTtcbiAgICAgIGlmIChmYWNlSWR4ID09IDQgJiYgIWZsYWcpIHtcbiAgICAgICAgVVZzWzBdLnggPSB4MSAqIHRpbGVVdlc7VVZzWzBdLnkgPSB5MSAqIHRpbGVVdkg7XG4gICAgICAgIFVWc1syXS54ID0geDEgKiB0aWxlVXZXO1VWc1syXS55ID0geTIgKiB0aWxlVXZIO1xuICAgICAgICBVVnNbMV0ueCA9IHgyICogdGlsZVV2VztVVnNbMV0ueSA9IHkxICogdGlsZVV2SDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFVWc1swXS54ID0geDEgKiB0aWxlVXZXO1VWc1swXS55ID0geTEgKiB0aWxlVXZIO1xuICAgICAgICBVVnNbMV0ueCA9IHgxICogdGlsZVV2VztVVnNbMV0ueSA9IHkyICogdGlsZVV2SDtcbiAgICAgICAgVVZzWzJdLnggPSB4MiAqIHRpbGVVdlc7VVZzWzJdLnkgPSB5MSAqIHRpbGVVdkg7XG4gICAgICB9XG4gICAgICB2YXIgVVZzID0gZ2VvbWV0cnkuZmFjZVZlcnRleFV2c1swXVtmYWNlSWR4ICogMiArIDFdO1xuICAgICAgaWYgKGZhY2VJZHggPT0gNCAmJiAhZmxhZykge1xuICAgICAgICBVVnNbMl0ueCA9IHgxICogdGlsZVV2VztVVnNbMl0ueSA9IHkyICogdGlsZVV2SDtcbiAgICAgICAgVVZzWzFdLnggPSB4MiAqIHRpbGVVdlc7VVZzWzFdLnkgPSB5MiAqIHRpbGVVdkg7XG4gICAgICAgIFVWc1swXS54ID0geDIgKiB0aWxlVXZXO1VWc1swXS55ID0geTEgKiB0aWxlVXZIO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVVZzWzBdLnggPSB4MSAqIHRpbGVVdlc7VVZzWzBdLnkgPSB5MiAqIHRpbGVVdkg7XG4gICAgICAgIFVWc1sxXS54ID0geDIgKiB0aWxlVXZXO1VWc1sxXS55ID0geTIgKiB0aWxlVXZIO1xuICAgICAgICBVVnNbMl0ueCA9IHgyICogdGlsZVV2VztVVnNbMl0ueSA9IHkxICogdGlsZVV2SDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0iLCJjb25zdCBmb250ID0geyBcImdseXBoc1wiOiB7IFwiMFwiOiB7IFwiaGFcIjogODY4LCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogNjk2LCBcIm9cIjogXCJtIDAgODY4IGwgNjk2IDg2OCBsIDY5NiA2OTMgbCAwIDY5MyBsIDAgODY4IG0gNjk2IDAgbCAwIDAgbCAwIDE3NSBsIDY5NiAxNzUgbCA2OTYgMCBtIDAgNjk0IGwgMTc1IDY5NCBsIDE3NSAxNzQgbCAwIDE3NCBsIDAgNjk0IG0gNTIxIDY5NCBsIDY5NiA2OTQgbCA2OTYgMTc0IGwgNTIxIDE3NCBsIDUyMSA2OTQgeiBcIiB9LCBcIjFcIjogeyBcImhhXCI6IDUyMSwgXCJ4X21pblwiOiAwLCBcInhfbWF4XCI6IDM0NywgXCJvXCI6IFwibSAxNzQgMCBsIDM0NyAwIGwgMzQ3IDg2OCBsIDAgODY4IGwgMCA2OTQgbCAxNzQgNjk0IGwgMTc0IDAgeiBcIiB9LCBcIjJcIjogeyBcImhhXCI6IDg2OCwgXCJ4X21pblwiOiAwLCBcInhfbWF4XCI6IDY5NCwgXCJvXCI6IFwibSAwIDg2OCBsIDAgNjk0IGwgNTIxIDY5NCBsIDUyMSA1MjEgbCAwIDUyMSBsIDAgMCBsIDY5NCAwIGwgNjk0IDE3NCBsIDE3NCAxNzQgbCAxNzQgMzQ3IGwgNjk0IDM0NyBsIDY5NCA4NjggbCAwIDg2OCB6IFwiIH0sIFwiM1wiOiB7IFwiaGFcIjogODY4LCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogNjk0LCBcIm9cIjogXCJtIDY5NCAwIGwgNjk0IDg2OCBsIDAgODY4IGwgMCA2OTQgbCA1MjEgNjk0IGwgNTIxIDUyMSBsIDAgNTIxIGwgMCAzNDcgbCA1MjEgMzQ3IGwgNTIxIDE3NCBsIDAgMTc0IGwgMCAwIGwgNjk0IDAgeiBcIiB9LCBcIjRcIjogeyBcImhhXCI6IDg2OCwgXCJ4X21pblwiOiAwLCBcInhfbWF4XCI6IDY5NCwgXCJvXCI6IFwibSA1MjEgMzQ3IGwgMTc0IDM0NyBsIDE3NCA4NjggbCAwIDg2OCBsIDAgMTc0IGwgNTIxIDE3NCBsIDUyMSAwIGwgNjk0IDAgbCA2OTQgODY4IGwgNTIxIDg2OCBsIDUyMSAzNDcgeiBcIiB9LCBcIjVcIjogeyBcImhhXCI6IDg2OCwgXCJ4X21pblwiOiAwLCBcInhfbWF4XCI6IDY5NCwgXCJvXCI6IFwibSA2OTQgNjk0IGwgNjk0IDg2OCBsIDAgODY4IGwgMCAzNDcgbCA1MjEgMzQ3IGwgNTIxIDE3NCBsIDAgMTc0IGwgMCAwIGwgNjk0IDAgbCA2OTQgNTIxIGwgMTc0IDUyMSBsIDE3NCA2OTQgbCA2OTQgNjk0IHogXCIgfSwgXCI2XCI6IHsgXCJoYVwiOiA4NjgsIFwieF9taW5cIjogMCwgXCJ4X21heFwiOiA2OTQsIFwib1wiOiBcIm0gMCA4NjkgbCAxNzUgODY5IGwgMTc1IDAgbCAwIDAgbCAwIDg2OSBtIDE3NCA1MTkgbCA2OTQgNTE5IGwgNjk0IDM0NiBsIDE3NCAzNDYgbCAxNzQgNTE5IG0gMTc0IDg2OSBsIDUxOSA4NjkgbCA1MTkgNjk0IGwgMTc0IDY5NCBsIDE3NCA4NjkgbSAxNzQgMTc0IGwgNjk0IDE3NCBsIDY5NCAwIGwgMTc0IDAgbCAxNzQgMTc0IG0gNTIxIDM0NyBsIDY5NCAzNDcgbCA2OTQgMTc0IGwgNTIxIDE3NCBsIDUyMSAzNDcgeiBcIiB9LCBcIjdcIjogeyBcImhhXCI6IDg2OCwgXCJ4X21pblwiOiAwLCBcInhfbWF4XCI6IDY5NCwgXCJvXCI6IFwibSAwIDg2OCBsIDAgNjk0IGwgNTIxIDY5NCBsIDUyMSA1MjEgbCA2OTQgNTIxIGwgNjk0IDg2OCBsIDAgODY4IG0gMzQ3IDM0NyBsIDUyMSAzNDcgbCA1MjEgNTIxIGwgMzQ3IDUyMSBsIDM0NyAzNDcgbSAxNzQgMCBsIDM0NyAwIGwgMzQ3IDM0NyBsIDE3NCAzNDcgbCAxNzQgMCB6IFwiIH0sIFwiOFwiOiB7IFwiaGFcIjogODY4LCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogNjk0LCBcIm9cIjogXCJtIDAgODY4IGwgMTc0IDg2OCBsIDE3NCAwIGwgMCAwIGwgMCA4NjggbSA1MjEgODY4IGwgNjk0IDg2OCBsIDY5NCAwIGwgNTIxIDAgbCA1MjEgODY4IG0gMTc0IDE3NCBsIDUyMSAxNzQgbCA1MjEgMCBsIDE3NCAwIGwgMTc0IDE3NCBtIDE3NCA4NjggbCA1MjEgODY4IGwgNTIxIDY5MyBsIDE3NCA2OTMgbCAxNzQgODY4IG0gMTc0IDUyMSBsIDUyMSA1MjEgbCA1MjEgMzQ2IGwgMTc0IDM0NiBsIDE3NCA1MjEgeiBcIiB9LCBcIjlcIjogeyBcImhhXCI6IDg2OCwgXCJ4X21pblwiOiAwLCBcInhfbWF4XCI6IDY5NiwgXCJvXCI6IFwibSAwIDUyMSBsIDY5NiA1MjEgbCA2OTYgMzQ2IGwgMCAzNDYgbCAwIDUyMSBtIDAgODY4IGwgNjk0IDg2OCBsIDY5NCA2OTQgbCAwIDY5NCBsIDAgODY4IG0gMCA2OTYgbCAxNzUgNjk2IGwgMTc1IDUxOSBsIDAgNTE5IGwgMCA2OTYgbSA1MjEgNjk2IGwgNjk0IDY5NiBsIDY5NCA1MjEgbCA1MjEgNTIxIGwgNTIxIDY5NiBtIDUyMSAzNDkgbCA2OTYgMzQ5IGwgNjk2IC0xIGwgNTIxIC0xIGwgNTIxIDM0OSBtIDE3NCAxNzQgbCA1MjEgMTc0IGwgNTIxIC0xIGwgMTc0IC0xIGwgMTc0IDE3NCB6IFwiIH0sIFwiK1wiOiB7IFwiaGFcIjogNjk0LCBcInhfbWluXCI6IDAsIFwieF9tYXhcIjogNTIxLCBcIm9cIjogXCJtIDE3NCAxNzQgbCAzNDcgMTc0IGwgMzQ3IDM0NyBsIDUyMSAzNDcgbCA1MjEgNTIxIGwgMzQ3IDUyMSBsIDM0NyA2OTQgbCAxNzQgNjk0IGwgMTc0IDUyMSBsIDAgNTIxIGwgMCAzNDcgbCAxNzQgMzQ3IGwgMTc0IDE3NCB6IFwiIH0sIFwi5LqGXCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDcyLCBcInhfbWF4XCI6IDEyNzgsIFwib1wiOiBcIm0gNjU5IDk1NCBxIDEwOTIgMTI0NiA4OTEgMTA5NiBsIDcyIDEyNDYgbCA3MiAxMzU4IGwgMTI3OCAxMzU4IGwgMTI3OCAxMjI1IHEgNzgxIDg5OSAxMDM1IDEwNTggbCA3ODEgNDAwIHEgNzMwIDIxNiA3ODEgMjY2IHEgNTQ0IDE1OSA2ODAgMTYxIHEgMzIzIDE2NCA0NjkgMTU5IHEgMzAxIDI5MyAzMTUgMjMxIHEgNTM0IDI3NyA0MzcgMjc4IHEgNjU5IDQwMCA2NTkgMjc1IGwgNjU5IDk1NCB6IFwiIH0sIFwi5L2PXCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDE4LCBcInhfbWF4XCI6IDEzNjQsIFwib1wiOiBcIm0gNDIzIDI3OSBsIDg0MSAyNzkgbCA4NDEgNjk0IGwgNTAyIDY5NCBsIDUwMiA3OTMgbCA4NDEgNzkzIGwgODQxIDExMjIgbCA0NjQgMTEyMiBsIDQ2NCAxMjIxIGwgMTMyNCAxMjIxIGwgMTMyNCAxMTIyIGwgOTQ5IDExMjIgbCA5NDkgNzkzIGwgMTI4NiA3OTMgbCAxMjg2IDY5NCBsIDk0OSA2OTQgbCA5NDkgMjc5IGwgMTM2NCAyNzkgbCAxMzY0IDE4MCBsIDQyMyAxODAgbCA0MjMgMjc5IG0gMTggNzg4IHEgMzQ2IDE0NjIgMjM1IDEwODQgbCA0NTcgMTQzMCBxIDMzOSAxMTM1IDQwMSAxMjc0IGwgMzM5IDEyOSBsIDIzMyAxMjkgbCAyMzMgOTI2IHEgNjQgNjcwIDE1MiA3ODMgcSAxOCA3ODggNDUgNzMwIG0gNzczIDE0MDcgbCA4NjAgMTQ2MiBxIDk5NiAxMjg3IDkzNSAxMzczIGwgODk3IDEyMjUgcSA3NzMgMTQwNyA4MzcgMTMyNSB6IFwiIH0sIFwi5YqbXCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDMwLCBcInhfbWF4XCI6IDEyNjUsIFwib1wiOiBcIm0gODcgMTE1NCBsIDUyNiAxMTU0IHEgNTMyIDE0NTggNTMwIDEzMDMgbCA2NTAgMTQ1OCBxIDY0MyAxMTU0IDY0NyAxMzE0IGwgMTI2NSAxMTU0IHEgMTIzNCA0MDYgMTI0OSA2MjUgcSA5ODUgMTcwIDEyMTcgMTcyIHEgNzE2IDE3NSA4NzMgMTcwIHEgNjk2IDMwMiA3MTEgMjI4IGwgNzAwIDMwMiBxIDk3NCAyODggODc2IDI4NiBxIDExMTkgNDMzIDExMDUgMjkwIHEgMTE0MyAxMDQ0IDExMzUgNjc3IGwgNjQwIDEwNDQgcSA1MjggNTEzIDYyOCA2OTAgcSAxMTAgMTMyIDQyMCAzMTUgcSAzMCAyMzUgNzIgMTgwIHEgNDE1IDU2NyAzMjMgMzk5IHEgNTIyIDEwNDQgNTEwIDcyMCBsIDg3IDEwNDQgbCA4NyAxMTU0IHogXCIgfSwgXCLlpKpcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogMTksIFwieF9tYXhcIjogMTM2NywgXCJvXCI6IFwibSAxOSAyMjkgcSA2MTYgMTAxOSA1NDggNTE0IGwgNDMgMTAxOSBsIDQzIDExMjMgbCA2MjQgMTEyMyBxIDYyOSAxNDUzIDYyOSAxMjYwIGwgNzQ3IDE0NTMgcSA3NDMgMTEyMyA3NDcgMTI4MCBsIDEzNDQgMTEyMyBsIDEzNDQgMTAxOSBsIDc0OSAxMDE5IHEgMTM2NyAyNjIgODkxIDQ2NyBxIDEyNzAgMTU1IDEzMDMgMTk5IHEgNjk0IDg3OCA4MzEgNDAxIHEgMTAyIDEyOSA1ODEgNDExIHEgMTkgMjI5IDc1IDE2NCBtIDU0MCA0MDggbCA2MjUgNDc2IHEgODE3IDI2NyA3MjMgMzcyIGwgNzIwIDE5MCBxIDU0MCA0MDggNjM2IDI5NyB6IFwiIH0sIFwi5aW9XCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDI0LCBcInhfbWF4XCI6IDEzNzAsIFwib1wiOiBcIm0gNTkxIDM3NiBsIDUxMSAyOTAgcSAzNTggNDMwIDQzNCAzNjIgcSA5MCAxNDUgMjU4IDI3NSBxIDI3IDIzMiA2MSAxODcgcSAyODMgNDk2IDE4OSAzNDkgcSA3OSA2NzEgMTc2IDU5MCBxIDE2OCAxMDczIDEyNyA4NDIgbCAyNCAxMDczIGwgMjQgMTE3MyBsIDE4NCAxMTczIHEgMjI3IDE0NTkgMjA2IDEzMDkgbCAzMzYgMTQ0NCBxIDI5MCAxMTczIDMxMiAxMjk1IGwgNTQ3IDExNzMgbCA1NDcgMTA4NiBxIDQxNCA1MjEgNTE1IDcxOCBxIDU5MSAzNzYgNTAzIDQ0OSBtIDU0NSA4NDkgbCA5MTggODQ5IGwgOTE4IDEwNjEgcSAxMTY1IDEyNjggMTA1MyAxMTc1IGwgNTk0IDEyNjggbCA1OTQgMTM2NiBsIDEzMTQgMTM2NiBsIDEzMTQgMTI2MCBxIDEwMjUgMTAxNSAxMTY4IDExMzUgbCAxMDI1IDg0OSBsIDEzNzAgODQ5IGwgMTM3MCA3NTEgbCAxMDI1IDc1MSBsIDEwMjUgMzE2IHEgODUwIDE1MiAxMDI1IDE1MiBxIDY3MyAxNTYgNzkzIDE1MiBxIDY1NSAyNjMgNjY2IDIwNiBxIDgzNiAyNTEgNzc3IDI1MiBxIDkxOCAzMzIgOTE4IDI1MSBsIDkxOCA3NTEgbCA1NDUgNzUxIGwgNTQ1IDg0OSBtIDQ0MiAxMDczIGwgMjcxIDEwNzMgcSAxODkgNjk5IDIyNCA4MTIgbCAzMzIgNTg1IHEgNDQyIDEwNzMgNDIzIDc3NCB6IFwiIH0sIFwi5b6IXCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDIyLCBcInhfbWF4XCI6IDEzNzAsIFwib1wiOiBcIm0gNTUyIDEzODEgbCAxMjQ4IDEzODEgbCAxMjQ4IDcxNiBsIDExNDUgNzE2IGwgMTE0NSA3NTAgbCA4ODYgNzUwIHEgMTAwMiA1MjYgOTI4IDYyNyBxIDEyNDggNjg4IDExMzQgNjA1IGwgMTMxMyA2MDQgcSAxMDU4IDQ1NyAxMTg4IDUyOCBxIDEzNzAgMjM1IDExODMgMzIzIHEgMTI4NyAxMzggMTMzMSAxOTEgcSA3ODUgNzUwIDkwMiAzNzAgbCA2NTUgNzUwIGwgNjU1IDI5NyBxIDg5OSA0MDggNzUzIDMzNiBxIDkyMSAzMDggOTA5IDM1MSBxIDY1OCAxNzUgODI1IDI2NyBxIDU3OSAxMTcgNjE3IDE1MSBsIDUwNyAyMTAgcSA1NTIgMzE2IDU1MiAyNTQgbCA1NTIgMTM4MSBtIDIyIDY1MCBxIDM5NSAxMTExIDI0NSA4NDIgbCA0ODggMTA1OCBxIDM0MyA4NDQgNDE5IDk0NCBsIDM0MyAxMjMgbCAyMzkgMTIzIGwgMjM5IDcxNSBxIDY5IDU0NSAxNTcgNjIzIHEgMjIgNjUwIDQ5IDYwMCBtIDExNDUgMTI4OSBsIDY1NSAxMjg5IGwgNjU1IDExMTIgbCAxMTQ1IDExMTIgbCAxMTQ1IDEyODkgbSAyOCAxMDcwIHEgMzc2IDE0NTggMjQzIDEyMzQgbCA0NjkgMTQwNCBxIDc5IDk3MiAzMTIgMTE2NCBxIDI4IDEwNzAgNTQgMTAyNCBtIDY1NSA4NDEgbCAxMTQ1IDg0MSBsIDExNDUgMTAyMSBsIDY1NSAxMDIxIGwgNjU1IDg0MSB6IFwiIH0sIFwi5b+rXCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDE4LCBcInhfbWF4XCI6IDEzNTQsIFwib1wiOiBcIm0gNDA3IDc3OSBsIDc2OCA3NzkgcSA3ODMgMTExNSA3NzkgODkxIGwgNDk5IDExMTUgbCA0OTkgMTIxMCBsIDc4NCAxMjEwIHEgNzg0IDE0NDcgNzg0IDEzMTcgbCA4OTEgMTQ0NyBxIDg5MCAxMjEwIDg5MSAxMzIwIGwgMTIyMSAxMjEwIGwgMTIyMSA3NzkgbCAxMzU0IDc3OSBsIDEzNTQgNjg0IGwgOTE0IDY4NCBxIDEzNDUgMjMyIDEwMjUgMzc0IHEgMTI1NiAxMjcgMTMxMiAxOTkgcSA4NDAgNjIzIDk0OCAzMDIgcSA0NDIgMTE3IDc1OCAzMTcgcSAzNjMgMjA4IDM5NyAxNzUgcSA3NTQgNjg0IDY4OCAzOTkgbCA0MDcgNjg0IGwgNDA3IDc3OSBtIDIwOSAxNDQ3IGwgMzExIDE0NDcgbCAzMTEgMTE0OSBsIDM2MyAxMTg0IHEgNTE1IDk5NCA0NTIgMTA4NiBsIDQzNSA5MzYgcSAzMTEgMTEwOCAzNzYgMTAyOCBsIDMxMSAxMjIgbCAyMDkgMTIyIGwgMjA5IDE0NDcgbSAxMTE1IDExMTUgbCA4ODggMTExNSBxIDg3NiA3NzkgODg2IDg5OSBsIDExMTUgNzc5IGwgMTExNSAxMTE1IG0gNzcgMTEzNSBsIDE2OCAxMTIyIHEgMTA5IDc3NiAxNDggOTU5IHEgMTggNzk4IDcxIDc4NSBxIDc3IDExMzUgNTAgOTM3IHogXCIgfSwgXCLmo5JcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogOCwgXCJ4X21heFwiOiAxMzc1LCBcIm9cIjogXCJtIDQ4NyA0MjMgbCA4MzcgNDIzIGwgODM3IDU1NyBsIDYwNSA1NTcgbCA2MDUgNjM2IHEgNDU2IDUxNyA1MzggNTc0IHEgMzg1IDU5NSA0MzQgNTQ1IHEgNjU0IDg0MSA1NTYgNzAxIGwgNDQ5IDg0MSBsIDQ0OSA5MjYgbCA3MDUgOTI2IHEgNzQ5IDEwMzkgNzMyIDk4MSBsIDUyOCAxMDM5IGwgNTI4IDExMjQgbCA3NzAgMTEyNCBxIDc4OSAxMjM2IDc4MSAxMTc3IGwgNDg4IDEyMzYgbCA0ODggMTMyMSBsIDc5OCAxMzIxIHEgODA2IDE0NTcgODAzIDEzODYgbCA5MDYgMTQ1NyBxIDg5OCAxMzIxIDkwMyAxMzg2IGwgMTMxMiAxMzIxIGwgMTMxMiAxMjM2IGwgODg4IDEyMzYgcSA4NzEgMTEyNCA4ODIgMTE3NiBsIDEyNzUgMTEyNCBsIDEyNzUgMTAzOSBsIDg1MiAxMDM5IHEgODE0IDkyNiA4MzggOTgyIGwgMTM2NiA5MjYgbCAxMzY2IDg0MSBsIDEwODUgODQxIHEgMTM3NSA2MjEgMTE5MSA2OTAgcSAxMzEzIDUzMCAxMzQxIDU3NiBxIDExNjEgNjMyIDEyMjkgNTc1IGwgMTE2MSA1NTcgbCA5MzYgNTU3IGwgOTM2IDQyMyBsIDEyOTAgNDIzIGwgMTI5MCAzMzggbCA5MzYgMzM4IGwgOTM2IDEyMiBsIDgzNyAxMjIgbCA4MzcgMzM4IGwgNDg3IDMzOCBsIDQ4NyA0MjMgbSA4IDYwOSBxIDIwNiAxMTAxIDEzMCA4MDcgbCAyNCAxMTAxIGwgMjQgMTE5NSBsIDIwOSAxMTk1IGwgMjA5IDE0NTkgbCAzMDQgMTQ1OSBsIDMwNCAxMTk1IGwgNDYxIDExOTUgbCA0NjEgMTEwMSBsIDMwNCAxMTAxIGwgMzA0IDg2OSBsIDM1MyA5MDkgcSA0NzIgNzY5IDQxOSA4MzQgbCA0MDEgNzExIHEgMzA0IDg0MCAzNTkgNzcyIGwgMzA0IDEyMyBsIDIwOSAxMjMgbCAyMDkgODg2IHEgNTIgNDkwIDE0MSA2NDIgcSA4IDYwOSAzNCA1NDkgbSA4MzcgNzYwIGwgOTM2IDc2MCBsIDkzNiA2NDMgbCAxMTQ3IDY0MyBxIDk4OSA4NDEgMTA1MCA3MzAgbCA3NzAgODQxIHEgNjEyIDY0MyA3MDkgNzM2IGwgODM3IDY0MyBsIDgzNyA3NjAgeiBcIiB9LCBcIueos1wiOiB7IFwiaGFcIjogMTM4OSwgXCJ4X21pblwiOiA3LCBcInhfbWF4XCI6IDEzODYsIFwib1wiOiBcIm0gNTMwIDY5MCBsIDExODMgNjkwIGwgMTE4MyA4MDggbCA1NTYgODA4IGwgNTU2IDg5NyBsIDExODMgODk3IGwgMTE4MyAxMDEzIGwgNTU5IDEwMTMgbCA1NTkgMTA5OSBsIDU0MCAxMDgwIHEgNDYxIDExNDYgNTA2IDExMTIgcSA3MTEgMTQ2OSA2MTQgMTI4NiBsIDgxNyAxNDQ5IHEgNzQ5IDEzMzkgNzg0IDEzOTMgbCAxMTUzIDEzMzkgbCAxMTUzIDEyNTIgcSAxMDQyIDExMDQgMTA5OSAxMTc5IGwgMTI4NiAxMTA0IGwgMTI4NiA1NTEgbCAxMTgzIDU1MSBsIDExODMgNjAwIGwgNTMwIDYwMCBsIDUzMCA2OTAgbSA3IDUxOSBxIDIxNCA5NjQgMTM0IDY5NiBsIDMxIDk2NCBsIDMxIDEwNTggbCAyMjIgMTA1OCBsIDIyMiAxMjc1IHEgNTggMTI2MSAxNDEgMTI2OCBxIDM5IDEzNTggNTIgMTMwMyBxIDQ4NCAxNDAyIDI2MCAxMzcxIGwgNTA2IDEzMDMgcSAzMjMgMTI4NCA0MTUgMTI5MyBsIDMyMyAxMDU4IGwgNDkyIDEwNTggbCA0OTIgOTY0IGwgMzIzIDk2NCBsIDMyMyA4MDIgbCAzNzggODQ1IHEgNTI0IDY4MiA0NTYgNzY2IGwgNDQ0IDYxNyBxIDMyMyA3NzIgMzg1IDcwMSBsIDMyMyAxMjUgbCAyMjIgMTI1IGwgMjIyIDcyNiBxIDUzIDQwNyAxNTIgNTM4IHEgNyA1MTkgMzMgNDY0IG0gNjQwIDUxOSBsIDc0MyA1MTkgbCA3NDMgMzI3IHEgODMwIDI0OCA3NDMgMjQ4IGwgOTYwIDI0OCBxIDEwNjEgMzE2IDEwNDYgMjQ4IHEgMTA4MSA0NDIgMTA3MyAzNzAgcSAxMTg0IDQwMSAxMTI2IDQyMiBxIDExNTQgMjc0IDExNzEgMzMyIHEgOTkwIDE1NiAxMTI0IDE1NiBsIDgxMCAxNTYgcSA2NDAgMzIxIDY0MCAxNTYgbCA2NDAgNTE5IG0gMTAzMSAxMjUxIGwgNjg5IDEyNTEgcSA1NjQgMTEwNCA2MjkgMTE3MiBsIDkyNSAxMTA0IHEgMTAzMSAxMjUxIDk4MiAxMTgxIG0gNDk0IDUxOSBsIDU4NSA0ODcgcSA0NzcgMjE3IDUzOCAzNDUgcSAzODUgMjU5IDQzNCAyNDAgcSA0OTQgNTE5IDQ0OSAzNzQgbSAxMTc3IDQ3NyBsIDEyNjQgNTE3IHEgMTM4NiAyNzQgMTM0MCAzNzIgbCAxMjkzIDIyOSBxIDExNzcgNDc3IDEyNDggMzM5IG0gNzk1IDU0NCBsIDg2OCA1OTQgcSAxMDA5IDQxOSA5NDggNTAyIGwgOTI2IDM2MSBxIDc5NSA1NDQgODY3IDQ1NiB6IFwiIH0sIFwi57uZXCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDE4LCBcInhfbWF4XCI6IDEzNzgsIFwib1wiOiBcIm0gNTUxIDY5MyBsIDEyMzcgNjkzIGwgMTIzNyAxMjEgbCAxMTM0IDEyMSBsIDExMzQgMjEyIGwgNjU0IDIxMiBsIDY1NCAxMTkgbCA1NTEgMTE5IGwgNTUxIDY5MyBtIDE4NCA2NDYgcSA0NjcgNjY3IDE5MSA2NDYgcSA0NTQgNTgxIDQ2MCA2MjUgcSA2OCA1NDMgMjI4IDU2MCBsIDQ2IDYyOCBxIDI1MiA5MTQgMTI3IDcwNSBxIDQ2IDg5OSAxNjUgOTA5IGwgMTggOTgzIHEgMjczIDE0NTAgMTM0IDExMTYgbCAzODAgMTQxMiBxIDEzNiA5OTEgMjQ3IDExNTcgcSAyOTcgOTk0IDIxNyA5OTMgcSAzOTkgMTE4MCAzNDYgMTA3OCBsIDQ5OSAxMTM3IHEgMTg0IDY0NiAzMTEgODIzIG0gMTEzNCA2MDEgbCA2NTQgNjAxIGwgNjU0IDMwNCBsIDExMzQgMzA0IGwgMTEzNCA2MDEgbSA5NzEgMTQ1MCBsIDk0MyAxNDA0IHEgMTM3OCA5NzUgMTEwMSAxMTQ1IHEgMTI5OSA4ODggMTMzOSA5MzYgcSA4ODYgMTMxMyAxMDM0IDEwNzcgcSA1MDIgODcxIDczOCAxMDYzIHEgNDIzIDk0NSA0NzYgOTAxIHEgODUwIDE0NTAgNjk3IDExNTQgbCA5NzEgMTQ1MCBtIDU5NyA5NDcgbCAxMTkxIDk0NyBsIDExOTEgODU0IGwgNTk3IDg1NCBsIDU5NyA5NDcgbSAyMyAzMzEgcSA0NzYgNDI1IDI3NSAzNzggcSA0NzcgMzMwIDQ3NSAzNzYgcSA1OCAyMzIgMjAxIDI3MyBsIDIzIDMzMSB6IFwiIH0sIFwi6LaFXCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDIzLCBcInhfbWF4XCI6IDEzNzAsIFwib1wiOiBcIm0gMjMgMjQ4IHEgMTM0IDc5MSAxMjYgNDI3IGwgMjM1IDc4NSBxIDIxNCA1NDEgMjMxIDY1NCBxIDM0MyAzNzAgMjYzIDQzNSBsIDM0MyA4NzMgbCAzMCA4NzMgbCAzMCA5NzEgbCAzMDEgOTcxIGwgMzAxIDExNjYgbCA3NyAxMTY2IGwgNzcgMTI2NCBsIDMwMSAxMjY0IGwgMzAxIDE0NTcgbCA0MDcgMTQ1NyBsIDQwNyAxMjY0IGwgNjA5IDEyNjQgbCA2MDkgMTE2NiBsIDQwNyAxMTY2IGwgNDA3IDk3MSBsIDYyNyA5NzEgbCA2MjcgODczIGwgNDQ1IDg3MyBsIDQ0NSA2NjIgbCA2MzkgNjYyIGwgNjM5IDU2NiBsIDQ0NSA1NjYgbCA0NDUgMzExIHEgNjcxIDI2OSA1NDMgMjcwIHEgMTM3MCAyNzQgOTI5IDI2NCBxIDEzMzIgMTcwIDEzNDUgMjE0IHEgNjM3IDE3MiA5MjIgMTY3IHEgMTkzIDQwOCAzMDkgMTgwIHEgODMgMTIxIDE1MyAyMzIgcSAyMyAyNDggNTYgMTg0IG0gNzExIDgzNiBsIDEyNzggODM2IGwgMTI3OCAzNTEgbCAxMTc3IDM1MSBsIDExNzcgNDEwIGwgODExIDQxMCBsIDgxMSAzNDMgbCA3MTEgMzQzIGwgNzExIDgzNiBtIDY0NCAxMzA4IGwgNjQ0IDEzOTggbCAxMjkzIDEzOTggcSAxMjc0IDEwODYgMTI4NiAxMjE0IHEgMTExMiA5MjggMTI1OSA5MzIgcSA5NDMgOTMyIDEwMzkgOTI2IHEgOTIyIDEwMzkgOTM1IDk4MSBxIDEwOTIgMTAyNCAxMDIzIDEwMjMgcSAxMTc3IDExMTEgMTE2OSAxMDI0IHEgMTE5MSAxMzA4IDExODcgMTE5MCBsIDkzMyAxMzA4IHEgNzA1IDg3OSA5MjIgMTAwMSBxIDY0MCA5NjQgNjgwIDkyMSBxIDgzMSAxMzA4IDgyNyAxMDY3IGwgNjQ0IDEzMDggbSAxMTc3IDc0NSBsIDgxMSA3NDUgbCA4MTEgNTAwIGwgMTE3NyA1MDAgbCAxMTc3IDc0NSB6IFwiIH0sIFwi6LaKXCI6IHsgXCJoYVwiOiAxMzg5LCBcInhfbWluXCI6IDI2LCBcInhfbWF4XCI6IDEzNzAsIFwib1wiOiBcIm0gMjYgMjMzIHEgMTM0IDc5MSAxMzAgNDIyIGwgMjI4IDc4NSBxIDIxMyA1MzggMjI3IDY1MiBxIDMzOSAzNzMgMjYyIDQzNSBsIDMzOSA4NzMgbCAzMCA4NzMgbCAzMCA5NjYgbCAyOTggOTY2IGwgMjk4IDExNjYgbCA3NyAxMTY2IGwgNzcgMTI1OSBsIDI5OCAxMjU5IGwgMjk4IDE0NTUgbCAzOTMgMTQ1NSBsIDM5MyAxMjU5IGwgNjAyIDEyNTkgbCA2MDIgMTE2NiBsIDM5MyAxMTY2IGwgMzkzIDk2NiBsIDYyNCA5NjYgbCA2MjQgODczIGwgNDM0IDg3MyBsIDQzNCA2NTggbCA2MDggNjU4IGwgNjA4IDU2NiBsIDQzNCA1NjYgbCA0MzQgMzE1IHEgNjY2IDI2OSA1MzQgMjcwIHEgMTM3MCAyNzQgOTgxIDI2NCBxIDEzMzIgMTY4IDEzNDUgMjE0IHEgNjM3IDE3MiA5NDcgMTY4IHEgMTkxIDQwNiAzMTYgMTc4IHEgODMgMTIxIDE1NSAyMzIgcSAyNiAyMzMgNTYgMTg0IG0gNzcwIDM5NSBxIDk4NyA2NDQgODk1IDUxMSBxIDkxNyAxMTEyIDkzMyA4MjkgbCA3NTggMTExMiBsIDc1OCA2NTAgcSA4OTcgNzczIDgxOSA3MDMgcSA5MTcgNjc0IDkwNSA3MjAgcSA3NTUgNTI5IDgzNyA2MDYgcSA2OTIgNDU3IDcyNiA1MDAgbCA2MjQgNTI1IHEgNjY2IDY1OCA2NjYgNTc5IGwgNjY2IDEyMDAgbCA5MTMgMTIwMCBxIDkwOSAxNDU5IDkwOSAxMzI4IGwgMTAwMSAxNDU5IHEgMTAwNSAxMjAwIDEwMDAgMTMzNiBsIDEzNDAgMTIwMCBsIDEzNDAgMTExMiBsIDEwMDkgMTExMiBxIDEwNTggNzUwIDEwMjAgOTAyIHEgMTE4MCAxMDE3IDExMzMgODc4IGwgMTI3MSA5NzkgcSAxMDkzIDYzMiAxMTk2IDc5MiBxIDExNTQgNTA3IDExMjAgNTYwIHEgMTIwMiA0NjcgMTE3OSA0NjcgcSAxMjMwIDUxNyAxMjIyIDQ2NyBxIDEyNTMgNzI2IDEyNDIgNjA0IHEgMTM0NyA2OTIgMTMxNiA3MDMgcSAxMzE4IDQ3MSAxMzMyIDU0NCBxIDEyMTUgMzU1IDEyOTggMzU1IHEgMTA4OCA0MzEgMTE0MiAzNTUgcSAxMDI3IDUzOCAxMDU0IDQ3NiBxIDg0NCAzMzEgOTQ0IDQyNiBxIDc3MCAzOTUgODE4IDM2MiBtIDEwNzQgMTQwNCBsIDExNDUgMTQ1NSBxIDEyNzggMTI5OCAxMjAzIDEzOTIgbCAxMTk5IDEyNDIgcSAxMDc0IDE0MDQgMTEzMCAxMzQwIHogXCIgfSwgXCLvvIFcIjogeyBcImhhXCI6IDEzODksIFwieF9taW5cIjogNjA4LCBcInhfbWF4XCI6IDc4MSwgXCJvXCI6IFwibSA3NjEgMTMyMSBsIDc0NiA1NzAgbCA2MzkgNTcwIGwgNjI0IDEzMjEgbCA3NjEgMTMyMSBtIDY5NCA0MjYgcSA3NTUgNDAxIDczMCA0MjYgcSA3ODEgMzQwIDc4MSAzNzYgcSA3NTUgMjc5IDc4MSAzMDQgcSA2OTQgMjU1IDczMCAyNTUgcSA2MzMgMjc5IDY1OSAyNTUgcSA2MDggMzQwIDYwOCAzMDQgcSA2MzMgNDAxIDYwOCAzNzYgcSA2OTQgNDI2IDY1OSA0MjYgeiBcIiB9IH0sIFwiZmFtaWx5TmFtZVwiOiBcIk1pY3Jvc29mdCBZYUhlaVwiLCBcImFzY2VuZGVyXCI6IDE2MzYsIFwiZGVzY2VuZGVyXCI6IC0yOTYsIFwidW5kZXJsaW5lUG9zaXRpb25cIjogLTExOSwgXCJ1bmRlcmxpbmVUaGlja25lc3NcIjogODAsIFwiYm91bmRpbmdCb3hcIjogeyBcInlNaW5cIjogLTE4NiwgXCJ4TWluXCI6IC0yMjAsIFwieU1heFwiOiAxNzA2LCBcInhNYXhcIjogMTc2MyB9LCBcInJlc29sdXRpb25cIjogMTAwMCwgXCJvcmlnaW5hbF9mb250X2luZm9ybWF0aW9uXCI6IHsgXCJmb3JtYXRcIjogMCwgXCJjb3B5cmlnaHRcIjogXCJgMjAwNSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXCIsIFwiZm9udEZhbWlseVwiOiBcIk1pY3Jvc29mdCBZYUhlaVwiLCBcImZvbnRTdWJmYW1pbHlcIjogXCJSZWd1bGFyXCIsIFwidW5pcXVlSURcIjogXCJNaWNyb3NvZnQgWWFIZWktUmVndWxhclwiLCBcImZ1bGxOYW1lXCI6IFwiTWljcm9zb2Z0IFlhSGVpXCIsIFwidmVyc2lvblwiOiBcIlZlcnNpb24gMC43MVwiLCBcInBvc3RTY3JpcHROYW1lXCI6IFwiTWljcm9zb2Z0WWFIZWlcIiwgXCJ0cmFkZW1hcmtcIjogXCJNaWNyb3NvZnQgWWFIZWkgaXMgZWl0aGVyIGEgcmVnaXN0ZXJlZCB0cmFkZW1hcmsgb3IgYSB0cmFkZW1hcmsgb2YgTWljcm9zb2Z0IENvcnBvcmF0aW9uIGluIHRoZSBVbml0ZWQgU3RhdGVzIGFuZC9vciBvdGhlciBjb3VudHJpZXMuXCIsIFwibWFudWZhY3R1cmVyXCI6IFwiTWljcm9zb2Z0IENvcnBvcmF0aW9uXCIsIFwiZGVzaWduZXJcIjogXCJGb3VuZGVyXCIsIFwiZGVzY3JpcHRpb25cIjogXCJNaWNyb3NvZnQgWWFIZWkgaXMgYSBTaW1wbGlmaWVkIENoaW5lc2UgZm9udCBkZXZlbG9wZWQgYnkgdGFraW5nIGFkdmFudGFnZSBvZiBDbGVhclR5cGUgdGVjaG5vbG9neSwgYW5kIGl0IHByb3ZpZGVzIGV4Y2VsbGVudCByZWFkaW5nIGV4cGVyaWVuY2UgcGFydGljdWxhcmx5IG9uc2NyZWVuLiBUaGUgZm9udCBpcyB2ZXJ5IGxlZ2libGUgYXQgc21hbGwgc2l6ZXMuXCIsIFwibWFudWZhY3R1cmVyVVJMXCI6IFwiaHR0cDovL3d3dy5taWNyb3NvZnQuY29tL3R5cG9ncmFwaHlcIiwgXCJkZXNpZ25lclVSTFwiOiBcImh0dHA6Ly93d3cuZm91bmRlci5jb20uY24vY25cIiwgXCJsaWNlbmNlXCI6IFwiXFxyXFxuTk9USUZJQ0FUSU9OIE9GIExJQ0VOU0UgQUdSRUVNRU5UIFxcclxcblxcclxcblRoaXMgZm9udCBzb2Z0d2FyZSBpcyBwYXJ0IG9mIHRoZSBNaWNyb3NvZnQgc29mdHdhcmUgcHJvZHVjdCBpbiB3aGljaCBpdCB3YXMgaW5jbHVkZWQgYW5kIGlzIHByb3ZpZGVkIHVuZGVyIHRoZSBlbmQgdXNlciBsaWNlbnNlIGFncmVlbWVudCAo4oCcRVVMQeKAnSkgZm9yIHRoYXQgTWljcm9zb2Z0IHNvZnR3YXJlIHByb2R1Y3QuIFRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGUgRVVMQSBnb3Zlcm4gdGhlIHVzZSBvZiBmb250IHNvZnR3YXJlLiBQbGVhc2UgcmVmZXIgdG8gdGhlIGFwcGxpY2FibGUgTWljcm9zb2Z0IHByb2R1Y3QgRVVMQSBpZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zIGFib3V0IGhvdyB5b3UgbWF5IHVzZSB0aGlzIGZvbnQgc29mdHdhcmUuIE1pY3Jvc29mdCByZXNlcnZlcyBhbGwgcmlnaHRzIHRoYXQgYXJlIG5vdCBleHByZXNzbHkgZ3JhbnRlZCBpbiB0aGUgRVVMQS4gRm9yIHByb2R1Y3RzIHRoYXQgbWF5IGhhdmUgaW5zdGFsbGVkIHRoaXMgZm9udCBwbGVhc2Ugc2VlIHRoZSBsaWNlbnNlIGxpbmsuXFxyXFxuXCIsIFwibGljZW5jZVVSTFwiOiBcImh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS90eXBvZ3JhcGh5L2ZvbnRzXCIgfSwgXCJjc3NGb250V2VpZ2h0XCI6IFwibm9ybWFsXCIsIFwiY3NzRm9udFN0eWxlXCI6IFwibm9ybWFsXCIgfVxuXG5leHBvcnQgZGVmYXVsdCBmb250OyIsImltcG9ydCBmb250IGZyb20gJy4vZm9udCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dCB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuZm9udCA9IG5ldyBUSFJFRS5Gb250KGZvbnQpO1xuXHRcdHRoaXMuc2l6ZSA9IDUuMDtcblx0XHR0aGlzLmhlaWdodCA9IDAuMTtcblx0XHR0aGlzLmZpbGxTdHlsZSA9IDB4NjY2NjY2O1xuXHR9XG5cblx0aW5pdChvcHRpb25zKSB7XG5cdFx0dGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiB0aGlzLmZpbGxTdHlsZSwgdHJhbnNwYXJlbnQ6IHRydWUgfSk7XG5cdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5vcGFjaXR5KSB0aGlzLm1hdGVyaWFsLm9wYWNpdHkgPSBvcHRpb25zLm9wYWNpdHk7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XHRjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5UZXh0R2VvbWV0cnkoJzAnLCB7ICdmb250JzogdGhpcy5mb250LCAnc2l6ZSc6IHRoaXMuc2l6ZSwgJ2hlaWdodCc6IHRoaXMuaGVpZ2h0IH0pO1xuXHRcdHRoaXMuaW5zdGFuY2UgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG5cdFx0dGhpcy5pbnN0YW5jZS5uYW1lID0gJ3Njb3JlVGV4dCc7XG5cdH1cblxuXHR1cGRhdGVTY29yZShzY29yZSkge1xuXHRcdGNvbnN0IHNjb3JlU3RyID0gc2NvcmUudG9TdHJpbmcoKTtcblx0XHR0aGlzLmluc3RhbmNlID0gbmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLlRleHRHZW9tZXRyeShzY29yZVN0ciwgeyAnZm9udCc6IHRoaXMuZm9udCwgJ3NpemUnOiB0aGlzLnNpemUsICdoZWlnaHQnOiB0aGlzLmhlaWdodCB9KSwgdGhpcy5tYXRlcmlhbCk7XG5cdH1cbn0iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYzJiMjdjNTI3MzM2YzFhNzFiMTk3Mjc1NDkzNTI2MGQubXAzXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjA2M2ZlNjU4NzQ3OWM2NjI3NWM5OTI4YmM1OTQxN2E0Lm1wM1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxNWMxOWNhZWU4YjM3NTAxMzM2M2Q2ZDE2ZmM3ZWY0Yi5tcDNcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZTUwNzQ2Y2U1MDUyNjg0ODFiYjcwNWZkODU1ODllNWMubXAzXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImYwMzEwMDEyMDFhMDYyNTMyZTJiNzU2YjVmNzIyMWQwLm1wM1wiOyIsIlxyXG5pbXBvcnQgYXVkaW9fc2NhbGVfaW50cm8gZnJvbSBcIkBhdWRpby9zY2FsZV9pbnRyby5tcDNcIlxyXG5pbXBvcnQgYXVkaW9fc2NhbGVfbG9vcCBmcm9tIFwiQGF1ZGlvL3NjYWxlX2xvb3AubXAzXCJcclxuaW1wb3J0IGF1ZGlvX3N0YXJ0IGZyb20gXCJAYXVkaW8vc3RhcnQubXAzXCJcclxuaW1wb3J0IGF1ZGlvX2ZhbGxfMSBmcm9tIFwiQGF1ZGlvL2ZhbGxfMS5tcDNcIlxyXG5pbXBvcnQgYXVkaW9fZmFsbF8yIGZyb20gXCJAYXVkaW8vZmFsbF8yLm1wM1wiXHJcblxyXG5pbXBvcnQgYm90dGxlIGZyb20gXCJAcGFydC9ib3R0bGVcIjtcclxuaW1wb3J0IHsgU1RBVFVTIH0gZnJvbSBcIkB1dGlscy9jb21tb25cIjtcclxuXHJcbmNvbnN0IGF1ZGlvTGlzdCA9IFt7XHJcbiAgICBrZXk6IFwic2NhbGVJbnRyb1wiLFxyXG4gICAgc291cmNlOiBhdWRpb19zY2FsZV9pbnRyb1xyXG59LCB7XHJcbiAgICBrZXk6IFwic2NhbGVMb29wXCIsXHJcbiAgICBzb3VyY2U6IGF1ZGlvX3NjYWxlX2xvb3BcclxufSwge1xyXG4gICAga2V5OiBcImF1ZGlvU3RhcnRcIixcclxuICAgIHNvdXJjZTogYXVkaW9fc3RhcnRcclxufSx7XHJcbiAgICBrZXk6IFwiYXVkaW9GYWxsMVwiLFxyXG4gICAgc291cmNlOiBhdWRpb19mYWxsXzFcclxufSx7XHJcbiAgICBrZXk6IFwiYXVkaW9GYWxsMlwiLFxyXG4gICAgc291cmNlOiAgYXVkaW9fZmFsbF8yXHJcbn1dXHJcblxyXG5jbGFzcyBBdWRpb01hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zY2FsZUxvb3BCdWZmZXIgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuc2NhbGVJbnRyb0J1ZmZlciA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5hdWRpb0NvbWJvQnVmZmVyID0gXCJcIjtcclxuICAgICAgICB0aGlzLm51bSA9IDA7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBuZXcgVEhSRUUuQXVkaW9MaXN0ZW5lcigpO1xyXG4gICAgICAgIHRoaXMuc291bmQgPSBuZXcgVEhSRUUuQXVkaW8odGhpcy5saXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zZXRWb2x1bWUoLjgpO1xyXG4gICAgICAgIHRoaXMuc291bmQub25FbmRlZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChib3R0bGUuc3RhdHVzID09PSBTVEFUVVMuU0tSSU5LKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnNldEJ1ZmZlcih0aGlzLnNjYWxlTG9vcEJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnNldExvb3AodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb0xpc3QubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBrZXksIHNvdXJjZSB9ID0gaXRlbTtcclxuICAgICAgICAgICAgICAgIGxldCBsb2FkZXIgPSBuZXcgVEhSRUUuQXVkaW9Mb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgIGxvYWRlci5sb2FkKHNvdXJjZSwgYnVmZmVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzW2Ake2tleX1CdWZmZXJgXSA9IGJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm51bSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubnVtPj1hdWRpb0xpc3QubGVuZ3RoLTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHNocmlua1BsYXkoKSB7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zZXRCdWZmZXIodGhpcy5zY2FsZUludHJvQnVmZmVyKTsgICBcclxuICAgICAgICB0aGlzLnNvdW5kLnNldExvb3AoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgpO1xyXG4gICAgfVxyXG4gICAgc2hyaW5rU3RvcCgpIHtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3AoKTtcclxuICAgIH1cclxuICAgIHN0YXJ0UGxheSgpIHtcclxuICAgICAgICB0aGlzLnNvdW5kLnNldEJ1ZmZlcih0aGlzLmF1ZGlvU3RhcnRCdWZmZXIpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc2V0TG9vcChmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCk7XHJcbiAgICB9XHJcbiAgICBmYWxsQmxvY2tQbGF5KCl7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zZXRCdWZmZXIodGhpcy5hdWRpb0ZhbGwyQnVmZmVyKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnNldExvb3AoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgpO1xyXG4gICAgfVxyXG4gICAgZmFsbFBsYW5lUGxheSgpe1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc2V0QnVmZmVyKHRoaXMuYXVkaW9GYWxsMUJ1ZmZlcik7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zZXRMb29wKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1ZGlvTWFuYWdlcigpOyIsImltcG9ydCBzY2VuZSBmcm9tICdAc2NlbmUnO1xyXG5pbXBvcnQgQ3Vib2lkQmxvY2sgZnJvbSAnQGJsb2NrL2N1Ym9pZCc7XHJcbmltcG9ydCBDeWxpbmRlckJsb2NrIGZyb20gJ0BibG9jay9jeWxpbmRlcic7XHJcbmltcG9ydCBncm91bmQgZnJvbSAnQHBhcnQvZ3JvdW5kJztcclxuaW1wb3J0IGJvdHRsZSBmcm9tICdAcGFydC9ib3R0bGUnO1xyXG5pbXBvcnQgeyBjb21tb24sIEJMT0NLQ09ORklHLCBCTE9DS1RZUEUgfSBmcm9tICdAdXRpbHMvY29tbW9uJztcclxuaW1wb3J0IHV0aWxzIGZyb20gJ0B1dGlscydcclxuaW1wb3J0IFNjb3JlVGV4dCBmcm9tICdAcGFydC9zY29yZVRleHQnXHJcbmltcG9ydCBhdWRpb21hbmFnZXIgZnJvbSAnLi4vYXVkaW9tYW5hZ2VyJztcclxuaW1wb3J0IHsgc3RvcEFsbEFuaW1hdGlvbiB9IGZyb20gJ0B1dGlscy9hbmltYXRpb24nO1xyXG5pbXBvcnQgeyBCT1RUTEVDT05GSUcgfSBmcm9tICdAdXRpbHMvY29tbW9uJztcclxuXHJcbmNvbnN0IEhJVF9ORVhUX0JMT0NLX05PUk1BTCA9IDE7XHJcbmNvbnN0IEhJVF9CTE9DS19DVVJSRU5UID0gMjtcclxuY29uc3QgR0FNRV9PVkVSX05FWFRfQkxPQ0tfRlJPTlQgPSAzO1xyXG5jb25zdCBHQU1FX09WRVJfQ1VSUkVOVF9CTE9DS19CQUNLID0gNDtcclxuY29uc3QgR0FNRV9PVkVSX05FWFRfQkxPQ0tfQkFDSyA9IDU7XHJcbmNvbnN0IEdBTUVfT1ZFUl9CT1RIID0gNjtcclxuY29uc3QgSElUX05FWFRfQkxPQ0tfQ0VOVEVSID0gNztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YWdlR2FtZU1haW4ge1xyXG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBHYW1lTWFpbiBpbml0YCk7XHJcbiAgICAgICAgY29uc3QgeyBjYW52YXMgfSA9IGNvbW1vbjtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLnNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5ncm91bmQgPSBncm91bmQ7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUgPSBib3R0bGU7XHJcbiAgICAgICAgdGhpcy5ncmF2aXR5ID0gY29tbW9uLmdyYXZpdHk7XHJcbiAgICAgICAgdGhpcy5zY29yZVRleHQgPSBuZXcgU2NvcmVUZXh0KCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlVGV4dC5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5ncm91bmQuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLmluaXQoKTtcclxuXHJcbiAgICAgICAgYXVkaW9tYW5hZ2VyXHJcbiAgICAgICAgICAgIC5pbml0KClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCb3R0bGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkR3JvdW5kKCk7XHJcbiAgICAgICAgdGhpcy5hZGRJbml0QmxvY2soKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRTY29yZSgpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgICByZXN0YXJ0KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN0YXJ0IEdhbWUnKTtcclxuICAgICAgICB0aGlzLnNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnN0YXRlID0gJyc7XHJcbiAgICAgICAgdGhpcy5kZWxldGVPYmplY3RzRnJvbVNjZW5lKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5ncm91bmQucmVzZXQoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKDApO1xyXG4gICAgICAgIHRoaXMuYWRkSW5pdEJsb2NrKCk7XHJcbiAgICAgICAgdGhpcy5hZGRHcm91bmQoKTtcclxuICAgICAgICB0aGlzLmFkZEJvdHRsZSgpO1xyXG4gICAgfVxyXG4gICAgYWRkSW5pdEJsb2NrKCkge1xyXG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpcy5zY2VuZS5pbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRCbG9jayA9IG5ldyBDdWJvaWRCbG9jaygtMTUsIDAsIDApO1xyXG4gICAgICAgIHRoaXMubmV4dEJsb2NrID0gbmV3IEN5bGluZGVyQmxvY2soMjMsIDAsIDApO1xyXG5cclxuICAgICAgICBzY2VuZS5hZGQodGhpcy5jdXJyZW50QmxvY2suaW5zdGFuY2UpO1xyXG4gICAgICAgIHNjZW5lLmFkZCh0aGlzLm5leHRCbG9jay5pbnN0YW5jZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGluaXREaXJlY3Rpb24gPSAwO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0UG9zaXRpb24gPSB0aGlzLm5leHRCbG9jay5pbnN0YW5jZS5wb3NpdGlvbjtcclxuICAgICAgICB0aGlzLnNldERpcmVjdGlvbihpbml0RGlyZWN0aW9uKTtcclxuICAgIH1cclxuICAgIGFkZFNjb3JlKCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkU2NvcmUodGhpcy5zY29yZVRleHQuaW5zdGFuY2UpXHJcbiAgICB9XHJcbiAgICB1cGRhdGVTY29yZShzY29yZSkge1xyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0LnVwZGF0ZVNjb3JlKHNjb3JlKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnVwZGF0ZVNjb3JlKHRoaXMuc2NvcmVUZXh0Lmluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGFkZEdyb3VuZCgpIHtcclxuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMuc2NlbmUuaW5zdGFuY2U7XHJcbiAgICAgICAgc2NlbmUuYWRkKHRoaXMuZ3JvdW5kLmluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGFkZEJvdHRsZSgpIHtcclxuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMuc2NlbmUuaW5zdGFuY2U7XHJcbiAgICAgICAgYXVkaW9tYW5hZ2VyLnN0YXJ0UGxheSgpO1xyXG4gICAgICAgIHNjZW5lLmFkZCh0aGlzLmJvdHRsZS5pbnN0YW5jZSk7XHJcbiAgICAgICAgdGhpcy5ib3R0bGUuc2hvdygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkZFRvdWNoRXZlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdzdG9wJztcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3cgZW5kJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGRUb3VjaEV2ZW50KCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMub25Ub3VjaEVuZCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlVG91Y2hFdmVudCgpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLm9uVG91Y2hTdGFydCwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLm9uVG91Y2hFbmQsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIG9uVG91Y2hTdGFydCA9IGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd0b3VjaCBzdGFydCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnc3RvcCcpIHJldHVybjtcclxuICAgICAgICB0aGlzLnRvdWNoU3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBhdWRpb21hbmFnZXIuc2hyaW5rUGxheSgpO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLnNocmluaygpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEJsb2NrLnNocmluaygpO1xyXG4gICAgfVxyXG4gICAgb25Ub3VjaEVuZCA9IGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd0b3VjaCBlbmQnKTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ3N0b3AnKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMudG91Y2hTdGFydFRpbWUgPT09IDApIHJldHVybjtcclxuICAgICAgICBhdWRpb21hbmFnZXIuc2hyaW5rU3RvcCgpO1xyXG4gICAgICAgIHRoaXMudG91Y2hFbmRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMudG91Y2hFbmRUaW1lIC0gdGhpcy50b3VjaFN0YXJ0VGltZTtcclxuICAgICAgICB0aGlzLnRvdWNoU3RhcnRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmJvdHRsZS52ZWxvY2l0eS52eCA9IE1hdGgubWluKGR1cmF0aW9uIC8gNiwgMTIwKTtcclxuICAgICAgICB0aGlzLmJvdHRsZS52ZWxvY2l0eS52eCA9ICt0aGlzLmJvdHRsZS52ZWxvY2l0eS52eC50b0ZpeGVkKDIpO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLnZlbG9jaXR5LnZ5ID0gTWF0aC5taW4oMTUwICsgZHVyYXRpb24gLyAzMCwgMzAwKTtcclxuICAgICAgICB0aGlzLmJvdHRsZS52ZWxvY2l0eS52eSA9ICt0aGlzLmJvdHRsZS52ZWxvY2l0eS52eS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBcImp1bXBcIjtcclxuICAgICAgICB0aGlzLmhpdCA9IHRoaXMuZ2V0SGl0U3RhdHVzKHRoaXMuYm90dGxlLCB0aGlzLmN1cnJlbnRCbG9jaywgdGhpcy5uZXh0QmxvY2ssIEJMT0NLQ09ORklHLmhlaWdodCAvIDIgLSAoMSAtIHRoaXMuY3VycmVudEJsb2NrLmluc3RhbmNlLnNjYWxlLnkpICogQkxPQ0tDT05GSUcuaGVpZ2h0KVxyXG4gICAgICAgIHRoaXMuY2hlY2tpbmdIaXQgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5jdXJyZW50QmxvY2sucmVib3VuZCgpO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLnJvdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLmp1bXAoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREaXJlY3Rpb24oZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB4OiB0aGlzLmJvdHRsZS5pbnN0YW5jZS5wb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB6OiB0aGlzLmJvdHRsZS5pbnN0YW5jZS5wb3NpdGlvbi56XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXhpcyA9IG5ldyBUSFJFRS5WZWN0b3IzKHRoaXMudGFyZ2V0UG9zaXRpb24ueCAtIGN1cnJlbnRQb3NpdGlvbi54LCAwLCB0aGlzLnRhcmdldFBvc2l0aW9uLnogLSBjdXJyZW50UG9zaXRpb24ueik7XHJcbiAgICAgICAgdGhpcy5heGlzLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIHRoaXMuYm90dGxlLnNldERpcmVjdGlvbihkaXJlY3Rpb24sIHRoaXMuYXhpcyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50QmxvY2spIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QmxvY2sudXBkYXRlKClcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlbmRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoZWNrQm90dGxlSGl0KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuYm90dGxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dGxlLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpXHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgR2FtZU1haW4gc2hvd2ApO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgR2FtZU5haW4gaGlkZWApO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZU9iamVjdHNGcm9tU2NlbmUoKSB7XHJcbiAgICAgICAgbGV0IG9iaiA9IHRoaXMuc2NlbmUuaW5zdGFuY2UuZ2V0T2JqZWN0QnlOYW1lKCdibG9jaycpXHJcbiAgICAgICAgd2hpbGUgKG9iaikge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmluc3RhbmNlLnJlbW92ZShvYmopXHJcbiAgICAgICAgICAgIGlmIChvYmouZ2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgICAgIG9iai5nZW9tZXRyeS5kaXNwb3NlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoubWF0ZXJpYWwuZGlzcG9zZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb2JqID0gdGhpcy5zY2VuZS5pbnN0YW5jZS5nZXRPYmplY3RCeU5hbWUoJ2Jsb2NrJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5zdGFuY2UucmVtb3ZlKHRoaXMuYm90dGxlLmluc3RhbmNlKVxyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5zdGFuY2UucmVtb3ZlKHRoaXMuZ3JvdW5kLmluc3RhbmNlKVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrQm90dGxlSGl0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNoZWNraW5nSGl0ICYmIHRoaXMuYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLnkgPD0gQkxPQ0tDT05GSUcuaGVpZ2h0IC8gMiArIDAuMSAmJiB0aGlzLmJvdHRsZS5zdGF0dXMgPT09ICdqdW1wJyAmJiB0aGlzLmJvdHRsZS5mbHlpbmdUaW1lID4gMC4zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tpbmdIaXQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhpdCA9PT0gSElUX05FWFRfQkxPQ0tfTk9STUFMIHx8IHRoaXMuaGl0ID09PSBISVRfTkVYVF9CTE9DS19DRU5URVIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnc3RvcCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5pbnN0YW5jZS5wb3NpdGlvbi55ID0gQkxPQ0tDT05GSUcuaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLnggPSB0aGlzLmJvdHRsZS5kZXN0aW5hdGlvblswXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLnogPSB0aGlzLmJvdHRsZS5kZXN0aW5hdGlvblsxXTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2NvcmUoKyt0aGlzLnNjb3JlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV4dEJsb2NrKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5oaXQgPT09IEhJVF9CTE9DS19DVVJSRU5UKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gJ3N0b3AnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3R0bGUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3R0bGUuaW5zdGFuY2UucG9zaXRpb24ueSA9IEJMT0NLQ09ORklHLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5pbnN0YW5jZS5wb3NpdGlvbi54ID0gdGhpcy5ib3R0bGUuZGVzdGluYXRpb25bMF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5pbnN0YW5jZS5wb3NpdGlvbi56ID0gdGhpcy5ib3R0bGUuZGVzdGluYXRpb25bMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oaXQgPT09IEdBTUVfT1ZFUl9DVVJSRU5UX0JMT0NLX0JBQ0sgfHwgdGhpcy5oaXQgPT09IEdBTUVfT1ZFUl9ORVhUX0JMT0NLX0JBQ0spIHtcclxuICAgICAgICAgICAgICAgICAgICBzdG9wQWxsQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3R0bGUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLmZvcmVyYWtlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9tYW5hZ2VyLmZhbGxCbG9ja1BsYXkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaGl0ID09PSBHQU1FX09WRVJfTkVYVF9CTE9DS19GUk9OVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BBbGxBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3R0bGUuaHlwc29raW5lc2lzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9tYW5hZ2VyLmZhbGxCbG9ja1BsYXkoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcEFsbEFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm90dGxlLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvdHRsZS5mYWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9tYW5hZ2VyLmZhbGxQbGFuZVBsYXkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnb3Zlcic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRvdWNoRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2suc2hvd0dhbWVPdmVyU3RhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEhpdFN0YXR1cyhib3R0bGUsIGN1cnJlbnRCbG9jaywgbmV4dEJsb2NrLCBpbml0WSkge1xyXG4gICAgICAgIGxldCBmbHlpbmdUaW1lID0gYm90dGxlLnZlbG9jaXR5LnZ5IC8gdGhpcy5ncmF2aXR5ICogMjtcclxuICAgICAgICBpbml0WSA9IGluaXRZIHx8ICtib3R0bGUuaW5zdGFuY2UucG9zaXRpb24ueS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIGxldCBkZXN0aW5hdGlvblkgPSBCTE9DS0NPTkZJRy5oZWlnaHQgLyAyO1xyXG4gICAgICAgIGxldCBkaWZmZXJlbmNlWSA9IGRlc3RpbmF0aW9uWTtcclxuICAgICAgICBsZXQgdGltZSA9ICsoKC1ib3R0bGUudmVsb2NpdHkudnkgKyBNYXRoLnNxcnQoTWF0aC5wb3coYm90dGxlLnZlbG9jaXR5LnZ5LCAyKSAtIDIgKiB0aGlzLmdyYXZpdHkgKiBkaWZmZXJlbmNlWSkpIC8gLXRoaXMuZ3Jhdml0eSkudG9GaXhlZCgyKTtcclxuICAgICAgICBmbHlpbmdUaW1lIC09IHRpbWU7XHJcbiAgICAgICAgZmx5aW5nVGltZSA9ICtmbHlpbmdUaW1lLnRvRml4ZWQoMik7XHJcbiAgICAgICAgbGV0IGRlc3RpbmF0aW9uID0gW107XHJcbiAgICAgICAgbGV0IGJvdHRsZVBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjIoYm90dGxlLmluc3RhbmNlLnBvc2l0aW9uLngsIGJvdHRsZS5pbnN0YW5jZS5wb3NpdGlvbi56KTtcclxuICAgICAgICBsZXQgdHJhbnNsYXRlID0gbmV3IFRIUkVFLlZlY3RvcjIodGhpcy5heGlzLngsIHRoaXMuYXhpcy56KS5zZXRMZW5ndGgoYm90dGxlLnZlbG9jaXR5LnZ4ICogZmx5aW5nVGltZSk7XHJcbiAgICAgICAgYm90dGxlUG9zaXRpb24uYWRkKHRyYW5zbGF0ZSk7XHJcbiAgICAgICAgYm90dGxlLmRlc3RpbmF0aW9uID0gWytib3R0bGVQb3NpdGlvbi54LnRvRml4ZWQoMiksICtib3R0bGVQb3NpdGlvbi55LnRvRml4ZWQoMildO1xyXG4gICAgICAgIGRlc3RpbmF0aW9uLnB1c2goK2JvdHRsZVBvc2l0aW9uLngudG9GaXhlZCgyKSwgK2JvdHRsZVBvc2l0aW9uLnkudG9GaXhlZCgyKSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdDEsIHJlc3VsdDI7XHJcbiAgICAgICAgaWYgKG5leHRCbG9jaykge1xyXG4gICAgICAgICAgICBsZXQgbmV4dERpZmYgPSBNYXRoLnBvdyhkZXN0aW5hdGlvblswXSAtIG5leHRCbG9jay5pbnN0YW5jZS5wb3NpdGlvbi54LCAyKSArIE1hdGgucG93KGRlc3RpbmF0aW9uWzFdIC0gbmV4dEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLnosIDIpO1xyXG4gICAgICAgICAgICBsZXQgbmV4dFBvbHlnb24gPSBuZXh0QmxvY2suZ2V0VmVydGljZXMoKTtcclxuICAgICAgICAgICAgaWYgKHV0aWxzLnBvaW50SW5Qb2x5Z29uKGRlc3RpbmF0aW9uLCBuZXh0UG9seWdvbikpIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhuZXh0RGlmZikgPCA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhJVF9ORVhUX0JMT0NLX05PUk1BTDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhJVF9ORVhUX0JMT0NLX0NFTlRFUjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh1dGlscy5wb2ludEluUG9seWdvbihbZGVzdGluYXRpb25bMF0gLSB0aGlzLmJvdHRsZS53aWR0aCwgZGVzdGluYXRpb25bMV1dLCBuZXh0UG9seWdvbikgfHwgdXRpbHMucG9pbnRJblBvbHlnb24oW2Rlc3RpbmF0aW9uWzBdLCBkZXN0aW5hdGlvblsxXSArIHRoaXMuYm90dGxlLmRlcHRoIC8gMl0sIG5leHRQb2x5Z29uKSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0MSA9IEdBTUVfT1ZFUl9ORVhUX0JMT0NLX0JBQ0s7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodXRpbHMucG9pbnRJblBvbHlnb24oW2Rlc3RpbmF0aW9uWzBdLCBkZXN0aW5hdGlvblsxXSAtIHRoaXMuYm90dGxlLmRlcHRoIC8gMl0sIG5leHRQb2x5Z29uKSB8fCB1dGlscy5wb2ludEluUG9seWdvbihbZGVzdGluYXRpb25bMF0gKyB0aGlzLmJvdHRsZS5kZXB0aCAvIDIsIGRlc3RpbmF0aW9uWzFdXSwgbmV4dFBvbHlnb24pKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQxID0gR0FNRV9PVkVSX05FWFRfQkxPQ0tfRlJPTlQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjdXJyZW50UG9seWdvbiA9IGN1cnJlbnRCbG9jay5nZXRWZXJ0aWNlcygpO1xyXG4gICAgICAgIGlmICh1dGlscy5wb2ludEluUG9seWdvbihkZXN0aW5hdGlvbiwgY3VycmVudFBvbHlnb24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBISVRfQkxPQ0tfQ1VSUkVOVDtcclxuICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLnBvaW50SW5Qb2x5Z29uKFtkZXN0aW5hdGlvblswXSwgZGVzdGluYXRpb25bMV0gKyB0aGlzLmJvdHRsZS5kZXB0aF0sIGN1cnJlbnRQb2x5Z29uKSB8fCB1dGlscy5wb2ludEluUG9seWdvbihbZGVzdGluYXRpb25bMF0gLSB0aGlzLmJvdHRsZS53aWR0aCAvIDIsIGRlc3RpbmF0aW9uWzFdXSwgY3VycmVudFBvbHlnb24pKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQxKSByZXR1cm4gR0FNRV9PVkVSX0JPVEg7XHJcbiAgICAgICAgICAgIHJldHVybiBHQU1FX09WRVJfQ1VSUkVOVF9CTE9DS19CQUNLO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0MSB8fCByZXN1bHQyIHx8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTmV4dEJsb2NrKCkge1xyXG4gICAgICAgIGNvbnN0IHNlZWQgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpXHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHNlZWQgPyAnY3Vib2lkJyA6ICdjeWxpbmRlcidcclxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpIC8vIDAgLT4geCAxIC0+IHpcclxuICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpICsgMTA7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNSkgKyAyMDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRCbG9jayA9IHRoaXMubmV4dEJsb2NrXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSB0aGlzLnRhcmdldFBvc2l0aW9uID0ge31cclxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRhcmdldFBvc2l0aW9uLnggPSB0aGlzLmN1cnJlbnRCbG9jay5pbnN0YW5jZS5wb3NpdGlvbi54ICsgZGlzdGFuY2VcclxuICAgICAgICAgICAgdGFyZ2V0UG9zaXRpb24ueSA9IHRoaXMuY3VycmVudEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLnlcclxuICAgICAgICAgICAgdGFyZ2V0UG9zaXRpb24ueiA9IHRoaXMuY3VycmVudEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLnpcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gMSkge1xyXG4gICAgICAgICAgICB0YXJnZXRQb3NpdGlvbi54ID0gdGhpcy5jdXJyZW50QmxvY2suaW5zdGFuY2UucG9zaXRpb24ueFxyXG4gICAgICAgICAgICB0YXJnZXRQb3NpdGlvbi55ID0gdGhpcy5jdXJyZW50QmxvY2suaW5zdGFuY2UucG9zaXRpb24ueVxyXG4gICAgICAgICAgICB0YXJnZXRQb3NpdGlvbi56ID0gdGhpcy5jdXJyZW50QmxvY2suaW5zdGFuY2UucG9zaXRpb24ueiAtIGRpc3RhbmNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKGRpcmVjdGlvbilcclxuICAgICAgICBpZiAodHlwZSA9PT0gQkxPQ0tUWVBFLkNVQk9JRCkge1xyXG4gICAgICAgICAgICB0aGlzLm5leHRCbG9jayA9IG5ldyBDdWJvaWRCbG9jayh0YXJnZXRQb3NpdGlvbi54LCB0YXJnZXRQb3NpdGlvbi55LCB0YXJnZXRQb3NpdGlvbi56LCAncG9wdXAnLCB3aWR0aCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBCTE9DS1RZUEUuQ1lMSU5ERVIpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0QmxvY2sgPSBuZXcgQ3lsaW5kZXJCbG9jayh0YXJnZXRQb3NpdGlvbi54LCB0YXJnZXRQb3NpdGlvbi55LCB0YXJnZXRQb3NpdGlvbi56LCAncG9wdXAnLCB3aWR0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5zdGFuY2UuYWRkKHRoaXMubmV4dEJsb2NrLmluc3RhbmNlKTtcclxuICAgICAgICBjb25zdCBjYW1lcmFUYXJnZXRQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgeDogKHRoaXMuY3VycmVudEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLnggKyB0aGlzLm5leHRCbG9jay5pbnN0YW5jZS5wb3NpdGlvbi54KSAvIDIsXHJcbiAgICAgICAgICAgIHk6ICh0aGlzLmN1cnJlbnRCbG9jay5pbnN0YW5jZS5wb3NpdGlvbi55ICsgdGhpcy5uZXh0QmxvY2suaW5zdGFuY2UucG9zaXRpb24ueSkgLyAyLFxyXG4gICAgICAgICAgICB6OiAodGhpcy5jdXJyZW50QmxvY2suaW5zdGFuY2UucG9zaXRpb24ueiArIHRoaXMubmV4dEJsb2NrLmluc3RhbmNlLnBvc2l0aW9uLnopIC8gMixcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2VuZS51cGRhdGVDYW1lcmFQb3NpdGlvbihjYW1lcmFUYXJnZXRQb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5ncm91bmQudXBkYXRlUG9zaXRpb24oY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImQxODBmYmFiM2QyMWZlN2FlMTU3ZDM1OTM0MzlmZjYxLnBuZ1wiOyIsImltcG9ydCBzY2VuZSBmcm9tICdAc2NlbmUnO1xyXG5pbXBvcnQgeyBjb21tb24gfSBmcm9tICdAdXRpbHMvY29tbW9uJztcclxuaW1wb3J0IGltZ19yZXBsYXkgZnJvbSBcIkBpbWFnZXMvcmVwbGF5LnBuZ1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhZ2VHYW1lT3ZlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICBjb25zdCB7IGNhbnZhcyB9ID0gY29tbW9uO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgR2FtZU92ZXIgaW5pdGApO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBhc3BlY3QgfSA9IGNvbW1vbjtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLC43KSc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KCh3aWR0aCAtIDIwMCkgLyAyLCAoaGVpZ2h0IC0gMjAwKSAvIDIsIDIwMCwgMjAwKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJyNlZWUnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gJzIycHggR2VvcmdpYSc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KCdHYW1lIE92ZXInLCAod2lkdGggLSAyMDApIC8gMiArIDQ1LCAoaGVpZ2h0IC0gMjAwKSAvIDIgKyA1NSk7XHJcbiAgICAgICAgdGhpcy5yZXBsYXlfYnRuID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5yZXBsYXlfYnRuLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnJlcGxheV9idG4sIHdpZHRoIC8gMiAtIDYwLCAoaGVpZ2h0IC0gMjAwKSAvIDIgKyAxMjUsIDEyMCwgNDcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlcGxheV9idG4uc3JjID0gaW1nX3JlcGxheTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUSFJFRS5UZXh0dXJlKGNhbnZhcyk7XHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIG1hcDogdGhpcy50ZXh0dXJlLFxyXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gc2lkZTogVEhSRUUuRG91YmxlU2lkZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoNjAsIDYwICogYXNwZWN0KTtcclxuICAgICAgICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcclxuICAgICAgICB0aGlzLm1lc2gucG9zaXRpb24ueiA9IDIwO1xyXG4gICAgICAgIHRoaXMubWVzaC52aXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgc2NlbmUuY2FtZXJhLmluc3RhbmNlLmFkZCh0aGlzLm1lc2gpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEdhbWVPdmVyIHNob3dgKTtcclxuICAgICAgICB0aGlzLm1lc2gudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zY29yZSA9IHRoaXMuY2FsbGJhY2suZ2V0U2NvcmUoKTtcclxuICAgICAgICB0aGlzLmFkZFRvdWNoRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBHYW1lT3ZlciBoaWRlYCk7XHJcbiAgICAgICAgdGhpcy5tZXNoLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlbW92ZVRvdWNoRXZlbnQoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tJylcclxuICAgIH1cclxuXHJcbiAgICBvblRvdWNoRW5kKGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWVzaC52aXNpYmxlKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjay5yZXN0YXJ0R2FtZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFRvdWNoRXZlbnQgPSBlID0+IHtcclxuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZC5iaW5kKHRoaXMpLCB0cnVlKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVRvdWNoRXZlbnQgPSBlID0+IHtcclxuICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZC5iaW5kKHRoaXMpLCB0cnVlKVxyXG4gICAgfVxyXG5cclxufSIsIlxyXG5pbXBvcnQgU3RhZ2VHYW1lTWFpbiBmcm9tICdAc3RhZ2Uvc3RhZ2UtZ2FtZS1tYWluJztcclxuaW1wb3J0IFN0YWdlR2FtZU92ZXIgZnJvbSAnQHN0YWdlL3N0YWdlLWdhbWUtb3Zlcic7XHJcblxyXG5jbGFzcyBHYW1lU3RhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldFNjb3JlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YWdlX2dhbWVfbWFpbi5zY29yZTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93R2FtZU92ZXJTdGFnZSgpIHtcclxuICAgICAgICB0aGlzLnN0YWdlX2dhbWVfb3Zlci5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0dhbWVNYWluU3RhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5zdGFnZV9nYW1lX21haW4uc2hvdygpO1xyXG4gICAgICAgIHRoaXMuc3RhZ2VfZ2FtZV9vdmVyLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXN0YXJ0R2FtZSgpIHtcclxuICAgICAgICB0aGlzLnN0YWdlX2dhbWVfbWFpbi5zaG93KCk7XHJcbiAgICAgICAgdGhpcy5zdGFnZV9nYW1lX292ZXIuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhZ2VfZ2FtZV9tYWluLnJlc3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0TWFpblN0YWdlKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5zdGFnZV9nYW1lX21haW4gPSBuZXcgU3RhZ2VHYW1lTWFpbihjYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5zdGFnZV9nYW1lX21haW4uaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRPdmVyU3RhZ2UoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLnN0YWdlX2dhbWVfb3ZlciA9IG5ldyBTdGFnZUdhbWVPdmVyKGNhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLnN0YWdlX2dhbWVfb3Zlci5pbml0KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBHYW1lU3RhZ2UoKSIsImltcG9ydCBHYW1lTW9kZWwgZnJvbSAnLi9tb2RlbCdcclxuaW1wb3J0IEdhbWVTdGFnZSBmcm9tICcuL3N0YWdlJ1xyXG5pbXBvcnQgeyBTVEFHRUdST1VQIH0gZnJvbSAnQHV0aWxzL2NvbW1vbic7XHJcblxyXG5cclxuY2xhc3MgR2FtZUNvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lX21vZGVsID0gR2FtZU1vZGVsO1xyXG4gICAgICAgIHRoaXMuZ2FtZV9zdGFnZSA9IEdhbWVTdGFnZTtcclxuICAgICAgICB0aGlzLmdhbWVfbW9kZWwuY2hhbmdlU3RhZ2UuYXR0YWNoKChzZW5kZXIsIGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoIChhcmdzLnN0YWdlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNUQUdFR1JPVVAuR0FNRU9WRVI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lX3N0YWdlLnNob3dHYW1lT3ZlclN0YWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNUQUdFR1JPVVAuR0FNRU1BSU46XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lX3N0YWdlLnNob3dHYW1lTWFpblN0YWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpbml0Q29udHJvbGxlcigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lX3N0YWdlLmluaXRNYWluU3RhZ2Uoe1xyXG4gICAgICAgICAgICBzaG93R2FtZU92ZXJTdGFnZTogKCkgPT4gdGhpcy5nYW1lX21vZGVsLnNldFN0YWdlKFNUQUdFR1JPVVAuR0FNRU9WRVIpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZV9zdGFnZS5pbml0T3ZlclN0YWdlKHtcclxuICAgICAgICAgICAgcmVzdGFydEdhbWU6ICgpID0+IHRoaXMuZ2FtZV9zdGFnZS5yZXN0YXJ0R2FtZSgpLFxyXG4gICAgICAgICAgICBnZXRTY29yZTogKCkgPT4gdGhpcy5nYW1lX3N0YWdlLmdldFNjb3JlKClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lX21vZGVsLnNldFN0YWdlKFNUQUdFR1JPVVAuR0FNRU1BSU4pO1xyXG5cclxuICAgICAgICAvLyBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgLy8gICAgIHRoaXMuZ2FtZV9tb2RlbC5zZXRTdGFnZShTVEFHRUdST1VQLkdBTUVPVkVSKVxyXG4gICAgICAgIC8vIH0sMzAwMClcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBHYW1lQ29udHJvbGxlcigpOyIsIlxyXG5pbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcclxuaW1wb3J0IHsgY29tbW9uIH0gZnJvbSAnQHV0aWxzL2NvbW1vbic7XHJcblxyXG5cclxubGV0IGFwcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpO1xyXG5sZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuXHJcbmxldCB3aWR0aCA9IGFwcC5jbGllbnRXaWR0aCwgaGVpZ2h0ID0gYXBwLmNsaWVudEhlaWdodDtcclxuY29uc3QgYXNwZWN0ID0gaGVpZ2h0IC93aWR0aDtcclxuXHJcbmNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuYXBwLmFwcGVuZChjYW52YXMpO1xyXG5cclxuY29tbW9uLmNhbnZhcyA9IGNhbnZhcztcclxuY29tbW9uLndpZHRoID0gd2lkdGg7XHJcbmNvbW1vbi5oZWlnaHQgPSBoZWlnaHQ7XHJcbmNvbW1vbi5hc3BlY3QgPSBhc3BlY3Q7XHJcblxyXG5cclxuY2xhc3MgR2FtZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG5cclxuICAgIH1cclxuICAgIGluaXQoKXtcclxuICAgICAgICBHYW1lQ29udHJvbGxlci5pbml0Q29udHJvbGxlcigpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgR2FtZSgpOyIsIlxyXG5pbXBvcnQgR2FtZSBmcm9tICcuL2dhbWUnXHJcblxyXG5jbGFzcyBNYWluIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxuICAgIHN0YXRpYyBpbml0KCkge1xyXG4gICAgICAgIEdhbWUuaW5pdCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWluOyIsImltcG9ydCAnQGNzcy9zdHlsZS5jc3MnO1xyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZS9idWlsZC90aHJlZS5taW4nO1xyXG4vLyBpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCBNYWluIGZyb20gJ0BzcmMvbWFpbic7XHJcbmltcG9ydCB7IGNvbW1vbiB9IGZyb20gJ0B1dGlscy9jb21tb24nO1xyXG5cclxud2luZG93LlRIUkVFID0gY29tbW9uLlRIUkVFID0gVEhSRUU7XHJcblxyXG4hKGZ1bmN0aW9uICgpIHtcclxuICAgIE1haW4uaW5pdCgpO1xyXG59KSgpXHJcblxyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTs7QUNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQWRBO0FBQ0E7QUFlQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVNBOztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQXhDQTtBQTBDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJCQTtBQWxKQTtBQTJLQTs7QUMzS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbExBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFyQkE7QUFDQTtBQXNCQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkNBO0FBQ0E7QUF3Q0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQUNBO0FBaUJBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzRUE7QUFDQTtBQTZFQTs7QUNwRkE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6REE7O0FDSkE7O0FDQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzQkE7O0FDTEE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUE3QkE7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOUJBO0FBQ0E7QUErQkE7O0FDakNBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBMU9BO0FBQ0E7QUEyT0E7O0FDblBBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4REE7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7O0FDRkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFyQkE7O0FDRkE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1REE7QUFDQTtBQTZEQTs7OztBQ3pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUF1RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlGQTtBQStGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhIQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTRCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUEvUkE7O0FDcEJBOzs7O0FDQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBZ0VBO0FBQ0E7QUFDQTtBQWxFQTtBQW9FQTtBQUNBO0FBQ0E7QUFyRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9EQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakNBO0FBQ0E7QUFrQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBcENBO0FBQ0E7QUFxQ0E7O0FDMUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVFBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBUUE7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')}]);