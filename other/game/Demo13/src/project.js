window.__require=function t(e,o,n){function r(i,a){if(!o[i]){if(!e[i]){var s=i.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}}var u=o[i]={exports:{}};e[i][0].call(u.exports,function(t){return r(e[i][1][t]||t)},u,u.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({ball:[function(t,e,o){"use strict";cc._RF.push(e,"57cd0vMsmVMorBuwvfx7aaW","ball"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./config"),r=cc._decorator,c=r.ccclass,i=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isTouchedLand=!1,e}return __extends(e,t),e.prototype.onLoad=function(){this.rigidBody=this.getComponent(cc.RigidBody)},e.prototype.start=function(){},e.prototype.update=function(t){if(this.isTouchedLand){this.rigidBody.active=!1,this.rigidBody.linearVelocity=cc.Vec2.ZERO;var e=[];e.push(this.node.position),this.node.position.x<0?(e.push(cc.v2(-289,-405)),e.push(cc.v2(-289,415)),e.push(cc.v2(-68,337))):(e.push(cc.v2(289,-405)),e.push(cc.v2(289,415)),e.push(cc.v2(68,337))),this.node.runAction(cc.sequence(cc.cardinalSplineTo(.8,e,.9),cc.callFunc(function(){this.rigidBody.active=!0}.bind(this)))),this.isTouchedLand=!1,this.node.group=n.default.grounpBallInRecycle,this.main.recycleBall()}},e.prototype.onBeginContact=function(t,e,o){"land"==o.node.name&&(this.isTouchedLand=!0)},e.prototype.onEndContact=function(t,e,o){},e.prototype.onPreSolve=function(t,e,o){},e.prototype.onPostSolve=function(t,e,o){},e=__decorate([c],e)}(cc.Component));o.default=i,cc._RF.pop()},{"./config":"config"}],barrier:[function(t,e,o){"use strict";cc._RF.push(e,"baaa4rH5QVCl7Ij73orApqG","barrier"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,c=n.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbScore=null,e.isBuff=!1,e.levelData=[0,5,10,20,30,45],e.score=1,e}return __extends(e,t),e.prototype.onLoad=function(){this.lbScore&&(this.lbScore.node.active=!1)},e.prototype.start=function(){if(this.lbScore){var t=0;1==this.main.balls.length&&(t=1),this.main.balls.length>=2&&(t=2),this.main.balls.length>=3&&(t=3),this.main.balls.length>=5&&(t=4),this.main.balls.length>=8&&(t=5),this.score+=this.levelData[t-1]+~~(this.levelData[t]*Math.random()),cc.log(this.main.balls),this.setScore(this.score),this.lbScore.node.rotation=-this.node.rotation,this.lbScore.node.active=!0}},e.prototype.setScore=function(t){this.lbScore&&(this.score=t,this.lbScore.string=this.score.toString())},e.prototype.onBeginContact=function(t,e,o){this.setScore(--this.score)},e.prototype.onEndContact=function(t,e,o){this.lbScore&&(this.score<=0?this.main.removeBarrier(this):this.main.addScore()),this.isBuff&&(this.main.addBall(this.node.position),this.main.removeBarrier(this))},e.prototype.onPreSolve=function(t,e,o){},e.prototype.onPostSolve=function(t,e,o){},__decorate([c(cc.Label)],e.prototype,"lbScore",void 0),__decorate([c(Boolean)],e.prototype,"isBuff",void 0),e=__decorate([r],e)}(cc.Component);o.default=i,cc._RF.pop()},{}],config:[function(t,e,o){"use strict";cc._RF.push(e,"61d38azZ+VPR6CQozL++Nzc","config"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.grounpBallInGame="ballInGame",t.grounpBallInRecycle="ballInRecycle",t.score=0,t}();o.default=n,cc._RF.pop()},{}],end:[function(t,e,o){"use strict";cc._RF.push(e,"34f8csIQ0RId4SvHCzNvXOz","end"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./config"),r=cc._decorator,c=r.ccclass,i=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.score.string="score:"+n.default.score},e.prototype.start=function(){},e.prototype.onResumeGame=function(){cc.director.loadScene("main")},__decorate([i(cc.Label)],e.prototype,"score",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./config":"config"}],main:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","main"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ball"),r=t("./barrier"),c=t("./config"),i=t("./mymotionsteak"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabBarriers=[],e.prefabBall=null,e.scoreLabel=null,e.mutionStreak=null,e.scoreNum=-1,e.recycleBallCount=1,e.balls=[],e.barriers=[],e}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.director.getPhysicsManager();t.enabled=!0,t.gravity=cc.v2(0,-1e3)},e.prototype.start=function(){c.default.score=0,this.addBarriers(),this.addBall(),this.addScore(),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},e.prototype.recycleBall=function(){var t=this;this.recycleBallCount++,this.isRecycleFinsh()&&(this.barriers.map(function(e){e.node.runAction(cc.sequence(cc.moveBy(.3,cc.v2(0,130)),cc.callFunc(function(){t.checkGameOver()&&(c.default.score=t.scoreNum,t.showGameOver())})))}),this.scheduleOnce(function(){t.addBarriers()},.3))},e.prototype.checkGameOver=function(){for(var t=!1,e=0;e<this.barriers.length;e++){var o=this.barriers[e];o.node.position.y>270&&(this.removeBarrier(o),t=!0)}return t},e.prototype.showGameOver=function(){cc.director.loadScene("end")},e.prototype.isRecycleFinsh=function(){return this.recycleBallCount==this.balls.length},e.prototype.addScore=function(){this.scoreLabel.string="score:"+(++this.scoreNum).toString()},e.prototype.addBall=function(t){var e=cc.instantiate(this.prefabBall).getComponent(n.default),o=cc.instantiate(this.mutionStreak).getComponent(i.default);o.ball=e,o.node.parent=this.node,e.node.parent=this.node,e.main=this,e.node.group=c.default.grounpBallInGame,e.node.position=t||cc.v2(0,315),this.balls.push(e)},e.prototype.onTouchStart=function(t){var e=this,o=this.node.convertTouchToNodeSpaceAR(t.touch);if(0!=this.balls.length&&this.isRecycleFinsh()){this.recycleBallCount=0;for(var n=function(t){var n=r.balls[t];r.scheduleOnce(function(){e.shootBall(n,o.sub(cc.v2(0,275)))},.25*t)},r=this,c=0;c<this.balls.length;c++)n(c)}},e.prototype.shootBall=function(t,e){t.rigidBody.active=!1;var o=[];o.push(t.node.position),o.push(cc.v2(0,325)),o.push(cc.v2(0,275)),t.node.runAction(cc.sequence(cc.cardinalSplineTo(.3,o,.2),cc.callFunc(function(){t.rigidBody.active=!0,t.node.group=c.default.grounpBallInGame,t.rigidBody.linearVelocity=e.mul(3.2)})))},e.prototype.addBarriers=function(){for(var t=-290+this.getRandomSpace();t<190;){var e=cc.instantiate(this.prefabBarriers[~~(Math.random()*this.prefabBarriers.length)]).getComponent(r.default);e.node.parent=this.node,e.node.position=cc.v2(t,-300),e.node.rotation=360*Math.random(),e.main=this,t+=this.getRandomSpace(),this.barriers.push(e)}},e.prototype.removeBarrier=function(t){var e=this.barriers.indexOf(t);-1!=e&&(t.node.removeFromParent(!1),this.barriers.splice(e,1))},e.prototype.getRandomSpace=function(){return 120+70*Math.random()},__decorate([l([cc.Prefab])],e.prototype,"prefabBarriers",void 0),__decorate([l(cc.Prefab)],e.prototype,"prefabBall",void 0),__decorate([l(cc.Label)],e.prototype,"scoreLabel",void 0),__decorate([l(cc.Prefab)],e.prototype,"mutionStreak",void 0),e=__decorate([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./ball":"ball","./barrier":"barrier","./config":"config","./mymotionsteak":"mymotionsteak"}],mymotionsteak:[function(t,e,o){"use strict";cc._RF.push(e,"8c26f7BWEJBp4JMjp15Q7mM","mymotionsteak"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ball"),r=cc._decorator,c=r.ccclass,i=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ball=null,e}return __extends(e,t),e.prototype.update=function(t){this.ball&&(this.node.position=this.ball.node.position)},__decorate([i(n.default)],e.prototype,"ball",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./ball":"ball"}]},{},["ball","barrier","config","end","main","mymotionsteak"]);