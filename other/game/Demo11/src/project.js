window.__require=function t(e,c,i){function n(r,s){if(!c[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var h="function"==typeof __require&&__require;if(!s&&h)return h(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+r+"'")}}var l=c[r]={exports:{}};e[r][0].call(l.exports,function(t){return n(e[r][1][t]||t)},l,l.exports,t,e,c,i)}return c[r].exports}for(var o="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({game:[function(t,e,c){"use strict";cc._RF.push(e,"8dadcoEgv5FOpbFOUtoOGvf","game"),cc.Class({extends:cc.Component,properties:{stick:{default:null,type:cc.Prefab},hero:{default:null,type:cc.Node},stage:{default:null,type:cc.Node},tips:{default:null,type:cc.Node},wall:{default:null,type:cc.Prefab},scorelabel:{default:null,type:cc.Label}},onLoad:function(){this.createStick(),this.createWall()},start:function(){var t=this;this.start=!1,this.active=!1,this.score=0,this.speed=5,this.node.on(cc.Node.EventType.TOUCH_START,function(e){console.log("\u89e6\u6478\u5f00\u59cb"),t.tips.runAction(cc.fadeOut(1)),t.start||(t.active=!0,t.start=!0)}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){if(console.log("\u89e6\u6478\u7ed3\u675f"),t.active){t.active=!1;var c=cc.rotateBy(1,-90,0),i=cc.moveBy(1,0,-2.5),n=cc.callFunc(function(t){this.stageMove()},t),o=cc.sequence(cc.spawn(c,i),n);t.nowStick.runAction(o)}})},stageMove:function(){var t=this,e=this.hero.getComponent(cc.Animation),c=this.nowStick.height+1*this.hero.width;this.createWall(c,.5),this.stage.children.forEach(function(i){"hero"!=i.name?i.runAction(cc.moveBy(1,cc.v2(-c,0))):(t.hero.x=60,t.hero.y=366.8,e.play("run"))}),this.scheduleOnce(function(){e.stop("run"),t.checkWall()?(t.score++,t.createStick(),t.start=!1,t.active=!0):(e.play("down"),e.off("finished",t.skipLow,t),e.on("finished",t.skipLow,t))},1.1)},skipLow:function(){cc.director.loadScene("low")},createWall:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=cc.instantiate(this.wall);c.width=30+~~(120*Math.random()),c.x=250+~~(300*Math.random())+t,c.y=-350,this.stage.addChild(c),c.runAction(cc.moveBy(e,cc.v2(0,350)))},createStick:function(){var t=cc.instantiate(this.stick);t.height=50,this.stage.addChild(t),this.nowStick=t},checkWall:function(){var t=this,e=!1;return this.stage.children.forEach(function(c){"wall"==c.name&&c.x<=t.hero.x-t.hero.width/2&&t.hero.x+t.hero.width/2<=c.x+c.width&&(console.log(c,t.hero),e=!0)}),e},update:function(t){this.scorelabel.string="score:"+this.score,this.active&&this.start&&this.nowStick.height<500&&(this.nowStick.height+=this.speed),this.stage.children.forEach(function(t){"hero"!=t.name&&t.x<-500&&t.destroy()})}}),cc._RF.pop()},{}],low:[function(t,e,c){"use strict";cc._RF.push(e,"18eefGlSUZNnKuQkNgGiJew","low"),cc.Class({extends:cc.Component,properties:{},start:function(){},onRestart:function(){cc.director.loadScene("game")}}),cc._RF.pop()},{}]},{},["game","low"]);