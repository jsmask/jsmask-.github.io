require=function e(t,i,n){function c(r,d){if(!i[r]){if(!t[r]){var s="function"==typeof require&&require;if(!d&&s)return s(r,!0);if(o)return o(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var u=i[r]={exports:{}};t[r][0].call(u.exports,function(e){var i=t[r][1][e];return c(i||e)},u,u.exports,e,t,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)c(n[r]);return c}({dici:[function(e,t,i){"use strict";cc._RF.push(t,"ab75avuWz1Kg7z3bp11ecT+","dici"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,i){var n=cc.moveBy(.2,cc.p(0,140));return e.node.runAction(n),!0},onTouchMoved:function(e,t){},onTouchEnded:function(e,t){},onTouchCancelled:function(e,t){}};cc.eventManager.addListener(t,this.node),this.player=cc.find("Canvas/GameBG/normal"),this.over=cc.find("Canvas/GameBG/over").getComponent(cc.AudioSource)},start:function(){},update:function(e){var t=this.node.getBoundingBoxToWorld();this.player.getBoundingBoxToWorld().intersects(t)&&(this.over.play(),cc.director.loadScene("game_end"))}}),cc._RF.pop()},{}],game_begin:[function(e,t,i){"use strict";cc._RF.push(t,"9084c9heR1NRKbX4wYRwF3L","game_begin"),cc.Class({extends:cc.Component,properties:{btn:{default:null,type:cc.Node},bgm:{default:null,type:cc.AudioSource}},onLoad:function(){this.bgm.play(),this.btn.on(cc.Node.EventType.TOUCH_START,function(e){cc.director.loadScene("game_start")},this)},start:function(){}}),cc._RF.pop()},{}],game_end:[function(e,t,i){"use strict";cc._RF.push(t,"93f90P+ZOlLd6kVv+dPhrnN","game_end"),cc.Class({extends:cc.Component,properties:{btn:{default:null,type:cc.Node},score:{default:null,type:cc.Label}},onLoad:function(){this.score.string=window.score||0,this.btn.on(cc.Node.EventType.TOUCH_START,function(e){cc.director.loadScene("game_start"),window.score=0},this)},start:function(){}}),cc._RF.pop()},{}],game_start:[function(e,t,i){"use strict";cc._RF.push(t,"a5c69l5DSxEjaeKJ40VTkya","game_start"),cc.Class({extends:cc.Component,properties:{dici:{default:null,type:cc.Prefab},rpg:{default:null,type:cc.Node},time:{default:null,type:cc.Label},score:{default:null,type:cc.Label},initTime:60,initScore:0,diciCount:0,dici_duration:100},gameover:function(){cc.director.loadScene("game_end")},createDici:function(){this.diciCount++;var e=cc.instantiate(this.dici);this.node.getChildByName("dicibox").addChild(e);var t=cc.random0To1();e.rotationY=t>=.5?0:180,e.setPosition(this.diciPosition(t))},diciPosition:function(e){var t=0,i=0;return t=e>=.5?this.node.width/2-80:-this.node.width/2+80,i=this.diciCount<=8?this.node.height/2-this.dici_duration*this.diciCount-1*this.dici_duration:this.node.height/2-8*this.dici_duration-1*this.dici_duration,cc.p(t,i)},onLoad:function(){var e=this;this.jumpcilp=this.node.getChildByName("jump").getComponent(cc.AudioSource),this.overcilp=this.node.getChildByName("over").getComponent(cc.AudioSource),this.time.string=this.initTime,this.score.string=this.initScore,this.rpg.setPosition(-this.node.width/2+80,this.node.height/2-175),cc.director.preloadScene("game_end");for(var t=0;t<8;t++)this.createDici();this.schedule(function(){--this.time.string<=0&&(this.unscheduleAllCallbacks(),this.gameover())},1),this.node.on(cc.Node.EventType.TOUCH_START,function(t){if(t.getLocationX()>=e.node.width/2){var i=cc.moveTo(.1,cc.p(e.node.width/2-110,e.rpg.getPositionY())),n=cc.moveTo(.1,cc.p(e.node.width/2-80,e.rpg.getPositionY())),c=cc.sequence(i,n);e.rpg.runAction(c),e.rpg.rotationY=180}else{var i=cc.moveTo(.1,cc.p(-e.node.width/2+110,e.rpg.getPositionY())),n=cc.moveTo(.1,cc.p(-e.node.width/2+80,e.rpg.getPositionY())),c=cc.sequence(i,n);e.rpg.runAction(c),e.rpg.rotationY=0}return e.score.string+=1,window.score=e.score.string,e.jumpcilp.play(),e.createDici(),!0},this)},start:function(){},update:function(e){this.node.getChildByName("dicibox").children.length>12&&this.node.getChildByName("dicibox").children[0].destroy()}}),cc._RF.pop()},{}]},{},["dici","game_begin","game_end","game_start"]);
//# sourceMappingURL=project.js.map