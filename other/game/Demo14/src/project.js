window.__require=function e(t,o,n){function i(c,s){if(!o[c]){if(!t[c]){var p=c.split("/");if(p=p[p.length-1],!t[p]){var a="function"==typeof __require&&__require;if(!s&&a)return a(p,!0);if(r)return r(p,!0);throw new Error("Cannot find module '"+c+"'")}}var u=o[c]={exports:{}};t[c][0].call(u.exports,function(e){return i(t[c][1][e]||e)},u,u.exports,e,t,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({boom:[function(e,t,o){"use strict";cc._RF.push(t,"137b14+SwxH+rP/jRcwd2ZC","boom"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sound=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this,t=this.node.getComponent(cc.Animation);t.play(),t.on("finished",function(){return e.node.destroy()},this),this.sound&&this.sound.play()},__decorate([r(cc.AudioSource)],t.prototype,"sound",void 0),t=__decorate([i],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],bullet:[function(e,t,o){"use strict";cc._RF.push(t,"ccfbcF1pVtK0qiay6OJFbX4","bullet"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.power=1,t.isDestroy=!1,t.sendTime=1,t.sender="",t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this,t=cc.moveBy(this.sendTime,cc.v2(0,-1e3));"player"==this.sender&&(t=cc.moveBy(this.sendTime,cc.v2(0,1e3))),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.isDestroy=!0})))},t.prototype.onCollisionEnter=function(e){e.node.name!=this.sender&&(this.isDestroy=!0)},t.prototype.update=function(e){this.isDestroy&&this.node.destroy()},__decorate([r(Number)],t.prototype,"power",void 0),__decorate([r(Number)],t.prototype,"sendTime",void 0),t=__decorate([i],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],config:[function(e,t,o){"use strict";cc._RF.push(t,"3270aMdx+pIfpn8ydxlNsFz","config"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.score=0,e.GroupType={God:"god",Bullet:"bullet",Enemy:"enemy",Player:"player"},e}();o.default=n,cc._RF.pop()},{}],end:[function(e,t,o){"use strict";cc._RF.push(t,"3aa8f3QAYtGJZOjaLEoodPZ","end"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./config"),i=cc._decorator,r=i.ccclass,c=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.score=null,t}return __extends(t,e),t.prototype.start=function(){this.score.string="score:"+n.default.score},t.prototype.back=function(){cc.director.loadScene("main",function(){n.default.score=0})},__decorate([c(cc.Label)],t.prototype,"score",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./config":"config"}],enemy:[function(e,t,o){"use strict";cc._RF.push(t,"11e8dYptvZNmZDxEliqSYHL","enemy"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./bullet"),i=e("./config"),r=cc._decorator,c=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=[],t.boom=null,t.maxhp=1,t.sprintCycle=-1,t.sprintTime=-1,t.score=100,t.moveTime=3,t.fireTime=1,t.isMove=!1,t.hp=1,t.bulletType=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.hp=this.maxhp},t.prototype.start=function(){var e=this;0!=this.fireTime&&this.schedule(function(){e.onfire()},this.fireTime),-1!=this.sprintCycle?this.node.runAction(cc.sequence(cc.moveBy(this.sprintCycle,cc.v2(0,-300)),cc.callFunc(function(){e.bulletType=-1}),cc.moveBy(this.sprintTime,cc.v2(this.node.x>0?-50:50,-900)),cc.callFunc(function(){e.node.destroy()}))):this.node.runAction(cc.sequence(cc.moveBy(this.moveTime,cc.v2(0,-1200)),cc.callFunc(function(){e.node.destroy()})))},t.prototype.onCollisionEnter=function(e){if(this.node.group!=i.default.GroupType.God){var t=e.node;if("bullet"==t.group){var o=t.getComponent(n.default);o.sender!=this.node.name&&(this.hp-=o.power)}"player"==t.group&&(this.hp-=2),this.hp<=0&&(this.createBoom(),this.node.destroy(),i.default.score+=this.score)}},t.prototype.onfire=function(){if(-1!=this.bulletType){var e=this.bulletPrefab[this.bulletType],t=cc.instantiate(e);t.getComponent(n.default).sender=this.node.name,t.setPosition(this.node.x,this.node.y-65),t.setParent(this.node.parent),t.setRotation(180)}},t.prototype.createBoom=function(){var e=cc.instantiate(this.boom);e&&(e.setPosition(this.node.position),e.setParent(this.node.parent))},t.prototype.update=function(e){},__decorate([s([cc.Prefab])],t.prototype,"bulletPrefab",void 0),__decorate([s(cc.Prefab)],t.prototype,"boom",void 0),__decorate([s(Number)],t.prototype,"maxhp",void 0),__decorate([s(Number)],t.prototype,"sprintCycle",void 0),__decorate([s(Number)],t.prototype,"sprintTime",void 0),__decorate([s(Number)],t.prototype,"score",void 0),__decorate([s(Number)],t.prototype,"moveTime",void 0),__decorate([s(Number)],t.prototype,"fireTime",void 0),t=__decorate([c],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./bullet":"bullet","./config":"config"}],player:[function(e,t,o){"use strict";cc._RF.push(t,"b8cebpvDl1BnrY7dYzmbyQ6","player"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./bullet"),i=e("./config"),r=cc._decorator,c=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=[],t.boom=null,t.birthpos=cc.v2(0,-300),t.life=3,t.maxhp=1,t.lifeLabel=null,t.isMove=!1,t.hp=1,t.pos=cc.v2(0,-300),t.bulletType=0,t.isDestroy=!1,t.isRevive=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.hp=this.maxhp,this.node.position=this.birthpos,this.lifeLabel.string="life:"+this.life,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchEnd,this)},t.prototype.start=function(){var e=this;this.schedule(function(){e.isDestroy||e.onfire()},.3)},t.prototype.onCollisionEnter=function(e){if(this.node.group!=i.default.GroupType.God){var t=e.node;if("bullet"==t.group){var o=t.getComponent(n.default);o.sender!=this.node.name&&(this.hp-=o.power)}"enemy"==t.group&&(this.hp=0,this.createBoom()),this.hp<=0&&(this.life--,this.lifeLabel.string="life:"+this.life,this.life>0?this.isRevive=!0:this.isDestroy=!0)}},t.prototype.onTouchStart=function(e){this.isMove=!0,this.pos=this.node.parent.convertToNodeSpaceAR(e.getLocation())},t.prototype.createBoom=function(){var e=cc.instantiate(this.boom);e&&(e.setPosition(this.node.position),e.setParent(this.node.parent))},t.prototype.onTouchMove=function(e){this.isMove&&(this.pos=this.node.parent.convertToNodeSpaceAR(e.getLocation()))},t.prototype.onTouchEnd=function(e){},t.prototype.onfire=function(){var e=this.bulletPrefab[this.bulletType],t=cc.instantiate(e);t.getComponent(n.default).sender=this.node.name,t.setPosition(this.node.x,this.node.y+65),t.setParent(this.node.parent)},t.prototype.onRevive=function(){var e=this;this.isRevive=!1,this.pos=this.birthpos,this.isMove=!1,this.hp=this.maxhp,this.node.group=i.default.GroupType.God;var t=this.node.getComponent(cc.Animation);t.play("revive").repeatCount=3,t.on("finished",function(){e.removeRevive()},this)},t.prototype.removeRevive=function(){this.node.group=i.default.GroupType.Player},t.prototype.checkPos=function(){var e=this.node.parent.width,t=this.node.parent.height,o=this.node.width,n=this.node.height;this.pos.x<-(e/2-o/2)&&(this.pos.x=-(e/2-o/2)),this.pos.x>e/2-o/2&&(this.pos.x=e/2-o/2),this.pos.y<-(t/2-n/2)&&(this.pos.y=-(t/2-n/2)),this.pos.y>t/2-n/2&&(this.pos.y=t/2-n/2)},t.prototype.update=function(e){this.isDestroy?(this.node.destroy(),cc.director.loadScene("end")):this.isRevive?this.onRevive():this.isMove&&this.checkPos(),this.node.setPosition(this.pos)},__decorate([s([cc.Prefab])],t.prototype,"bulletPrefab",void 0),__decorate([s(cc.Prefab)],t.prototype,"boom",void 0),__decorate([s(cc.Vec2)],t.prototype,"birthpos",void 0),__decorate([s(Number)],t.prototype,"life",void 0),__decorate([s(Number)],t.prototype,"maxhp",void 0),__decorate([s(cc.Label)],t.prototype,"lifeLabel",void 0),t=__decorate([c],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./bullet":"bullet","./config":"config"}],room:[function(e,t,o){"use strict";cc._RF.push(t,"60e00pJZvNHg7w7w4OGmPOu","room"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./enemy"),i=e("./config"),r=cc._decorator,c=r.ccclass,s=r.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyPrefab=[],t.scoreLabel=null,t.cycle=0,t}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.director.getCollisionManager();e.enabled=!0,e.enabledDrawBoundingBox=!0,this.sceenWidth=this.node.width,this.sceenHeight=this.node.height},t.prototype.start=function(){this.createEnemy()},t.prototype.createEnemy=function(){var e=cc.instantiate(this.enemyPrefab[~~(Math.random()*this.enemyPrefab.length)]).getComponent(n.default),t=(this.sceenWidth-e.node.width)*Math.random()-(this.sceenWidth-e.node.width)/2;e.node.position=cc.v2(t,this.sceenHeight/2+e.node.height),e.node.setParent(this.node)},t.prototype.update=function(e){this.cycle+=e,this.cycle>1&&(this.createEnemy(),this.cycle=0),this.scoreLabel.string="score:"+i.default.score},__decorate([s([cc.Prefab])],t.prototype,"enemyPrefab",void 0),__decorate([s(cc.Label)],t.prototype,"scoreLabel",void 0),t=__decorate([c],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./config":"config","./enemy":"enemy"}],sky:[function(e,t,o){"use strict";cc._RF.push(t,"e6611j5OXFKfqUlC/+fdETK","sky"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=20,t.bg1=null,t.bg2=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.bg1=this.node.getChildByName("bg1"),this.bg2=this.node.getChildByName("bg2")},t.prototype.start=function(){},t.prototype.update=function(e){if(this.node.y-=this.speed*e,this.bg1.convertToWorldSpaceAR(cc.v2(0,0)).y<=0){this.bg1.y=this.bg2.y+this.bg1.height;var t=this.bg1;this.bg1=this.bg2,this.bg2=t}},__decorate([r(Number)],t.prototype,"speed",void 0),t=__decorate([i],t)}(cc.Component);o.default=c,cc._RF.pop()},{}]},{},["boom","bullet","config","end","enemy","player","room","sky"]);