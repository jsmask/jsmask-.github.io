require=function t(e,i,s){function n(r,c){if(!i[r]){if(!e[r]){var a="function"==typeof require&&require;if(!c&&a)return a(r,!0);if(o)return o(r,!0);var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return n(i||t)},h,h.exports,t,e,i,s)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({cow:[function(t,e,i){"use strict";cc._RF.push(e,"4468f0AT09NeKueSYXg3eWo","cow");var s=cc.Class({name:"cow_skin",properties:{cow_anim:{default:[],type:cc.SpriteFrame}}});cc.Class({extends:cc.Component,properties:{cow_skin_set:{default:[],type:s}},onLoad:function(){this.anim_com=this.node.getChildByName("anim").addComponent("frame_anim"),this.c_type=3*Math.random()+1,this.c_type=Math.floor(this.c_type),this.c_type>3&&(this.c_type=3),this._set_cow_anim(),this.speed=-(200+100*Math.random())},_set_cow_anim:function(){this.anim_com.sprite_frames=this.cow_skin_set[this.c_type-1].cow_anim,this.anim_com.duration=.2,this.anim_com.play_loop()},update:function(t){var e=this.speed*t;this.node.x+=e,this.node.x<=-510&&this.node.removeFromParent()}}),cc._RF.pop()},{}],end:[function(t,e,i){"use strict";cc._RF.push(e,"02346v2IyBKJ5R77LcRZ9gr","end"),cc.Class({extends:cc.Component,properties:{score:{type:cc.Label,default:null},txt:{type:cc.Label,default:null}},start:function(){this.score.string=window.score||0,this.score.string<=2?this.txt.string="你真的，好low哦~":this.score.string<=5?this.txt.string="智商明显提高了，药别停~":this.score.string="说，你是不是作弊了~"},onplay:function(){cc.director.loadScene("game_scene")}}),cc._RF.pop()},{}],frame_anim:[function(t,e,i){"use strict";cc._RF.push(e,"0f442yo39tI0Yhlt96QTytP","frame_anim"),cc.Class({extends:cc.Component,properties:{sprite_frames:{default:[],type:cc.SpriteFrame},duration:.1,loop:!1,play_onload:!1},onLoad:function(){var t=this.node.getComponent(cc.Sprite);t||(t=this.node.addComponent(cc.Sprite)),this.sprite=t,this.is_playing=!1,this.play_time=0,this.is_loop=!1,this.end_func=null,this.play_onload&&(this.sprite.spriteFrame=this.sprite_frames[0],this.loop?this.play_loop():this.play_once(null))},play_once:function(t){this.play_time=0,this.is_playing=!0,this.is_loop=!1,this.end_func=t},play_loop:function(){this.play_time=0,this.is_playing=!0,this.is_loop=!0},stop_anim:function(){this.play_time=0,this.is_playing=!1,this.is_loop=!1},start:function(){},update:function(t){if(!1!==this.is_playing){this.play_time+=t;var e=Math.floor(this.play_time/this.duration);if(!1===this.is_loop){if(e>=this.sprite_frames.length)return this.sprite.spriteFrame=this.sprite_frames[this.sprite_frames.length-1],this.is_playing=!1,this.play_time=0,void(this.end_func&&this.end_func());this.sprite.spriteFrame=this.sprite_frames[e]}else{for(;e>=this.sprite_frames.length;)e-=this.sprite_frames.length,this.play_time-=this.duration*this.sprite_frames.length;this.sprite.spriteFrame=this.sprite_frames[e]}}}}),cc._RF.pop()},{}],game_scene:[function(t,e,i){"use strict";cc._RF.push(e,"4439bzxLA5Hno5oLn0wHtJa","game_scene"),cc.Class({extends:cc.Component,properties:{time:{type:cc.Label,default:null},score:{type:cc.Label,default:null},rope:{type:cc.Node,default:null},cow_prefab:{type:cc.Prefab,default:null},cow_root:{type:cc.Node,default:null},rope_images:{type:cc.SpriteFrame,default:[]},gametime:30},start:function(){var t=this;window.score=0,this.rope.y=-560,this.is_throwing=!1,this.score.string=0,this.time.string=this.gametime,this.rope_sprite=this.rope.getComponent(cc.Sprite),this.rope_sprite.spriteFrame=this.rope_images[0],cc.director.preloadScene("game_end"),this.schedule(function(){t.time.string-=1,t.time.string<=0&&(t.unscheduleAllCallbacks(),cc.director.loadScene("game_end"))},1,this.gametime),this.gen_one_cow()},gen_one_cow:function(){var t=cc.instantiate(this.cow_prefab);this.cow_root.addChild(t),t.x=830,t.y=-102;var e=2+2*Math.random();this.scheduleOnce(this.gen_one_cow.bind(this),e)},update:function(t){},hit_test:function(){for(var t=null,e=0;e<this.cow_root.childrenCount;e++)if((t=this.cow_root.children[e]).x>=60&&t.x<=160)return t;return null},on_throw_button_click:function(){if(!this.is_throwing){this.rope_sprite.spriteFrame=this.rope_images[0],this.is_throwing=!0,this.rope.y=-560;var t=cc.moveTo(1,0,20),e=cc.callFunc(function(){var t=this.hit_test();if(t){var e=t.getComponent("cow").c_type;t.removeFromParent(),window.score+=1,this.score.string=window.score,this.rope_sprite.spriteFrame=this.rope_images[e],this.rope.y=114}}.bind(this)),i=cc.moveTo(.4,0,-560),s=cc.callFunc(function(){this.is_throwing=!1}.bind(this)),n=cc.sequence([t,e,i,s]);this.rope.runAction(n)}}}),cc._RF.pop()},{}]},{},["cow","end","frame_anim","game_scene"]);
//# sourceMappingURL=project.js.map