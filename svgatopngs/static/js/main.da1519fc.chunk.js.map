{"version":3,"sources":["view/PlayBox.js","view/ChangeBese64.js","view/ShowBox.js","App.js","index.js"],"names":["TabPane","Tabs","PlayBox","props","state","isfirst","player","list","progress","custnum","columns","iscust","colors","colorindex","iscreate","canvas","createRef","downloader","Downloader","parser","Parser","Player","this","current","createTable","a","get","file","fileData","do","svgaData","set","loop","fillMode","mount","key","obj","_renderer","_bitmapCache","hasOwnProperty","src","setState","length","name","pic","timer","$on","setInterval","createImages","_animator","duration","clearInterval","e","videoItem","frames","setTimeout","start","onPlay","toDataURL","title","dataIndex","width","render","alt","style","height","backgroundColor","record","index","onClick","onDownLoad","bind","type","marginRight","onDel","danger","splice","getListIndex","i","saveAs","onclear","_isRunning","zip","JSZip","img","folder","forEach","item","split","base64","generateAsync","then","content","value","className","defaultActiveKey","onChange","callback","tab","ref","percent","showInfo","marginTop","videoSize","map","onChangeColor","disabled","onCreate","onDownloadAll","icon","DownloadOutlined","onClear","marginBottom","size","defaultChecked","onChangeSlider","max","min","defaultValue","dataSource","React","Component","Search","Input","ChangeBese64","error","trim","createAnimation","l","len","$chars","maxPos","pwd","charAt","Math","floor","random","message","randomString","marginLeft","placeholder","enterButton","onSearch","margin","onDownload","Header","Layout","Footer","Content","ShowBox","isdrop","ischange","showbox","fileinput","ondragover","ondrop","ondragenterbox","ondragleavebox","ondropintobox","loadMyFile","document","addEventListener","stopPropagation","preventDefault","dataTransfer","files","names","reader","FileReader","readAsDataURL","onload","console","log","result","target","changeBase64State","href","rel","GithubOutlined","shape","SyncOutlined","accept","onChangeFile","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.da1519fc.chunk.js","sourcesContent":["import React, { createRef } from 'react';\r\nimport { Downloader, Parser, Player } from 'svga.lite';\r\nimport { Button, Progress, Table, Tabs, Switch, Slider } from 'antd';\r\nimport { DownloadOutlined } from '@ant-design/icons';\r\nimport JSZip from 'jszip'\r\nimport { saveAs } from 'file-saver';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nclass PlayBox extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isfirst: true,\r\n            player: null,\r\n            list: [],\r\n            progress: 0,\r\n            custnum: 1,\r\n            columns: [],\r\n            iscust: false,\r\n            colors: ['#000000', '#ffffff', 'rgb(234, 236, 63)', 'rgb(235, 75, 47)', '#596feb', '#b4e93a'],\r\n            colorindex: 0,\r\n            iscreate:true\r\n        }\r\n        this.canvas = createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const downloader = new Downloader();\r\n        const parser = new Parser();\r\n        const player = new Player(this.canvas.current);\r\n\r\n        this.createTable();\r\n\r\n        ; (async () => {\r\n\r\n            // this.canvas.current.width = this.canvas.current.clientWidth;\r\n            // this.canvas.current.height = this.canvas.current.clientHeight;\r\n\r\n            const fileData = await downloader.get(this.props.file)\r\n            const svgaData = await parser.do(fileData)\r\n\r\n            player.set({\r\n                loop: 1,\r\n                fillMode: 'forwards'\r\n            });\r\n\r\n            await player.mount(svgaData);\r\n\r\n            let obj = player._renderer._bitmapCache;\r\n            for (const key in obj) {\r\n                if (obj.hasOwnProperty(key)) {\r\n                    const src = obj[key].src;\r\n                    this.setState({\r\n                        list: [...this.state.list, {\r\n                            key: this.state.list.length,\r\n                            name: `img_${this.state.list.length}`,\r\n                            pic: src\r\n                        }]\r\n                    })\r\n                }\r\n            }\r\n\r\n            var timer = null;\r\n\r\n            player\r\n                .$on('start', () => {\r\n                    this.setState({\r\n                        progress: 0\r\n                    });\r\n                    if(this.state.iscreate){\r\n                        // if(player.videoItem.frames>this.state.list.length&&!this.state.iscust){\r\n                        //     this.createImages();\r\n                        // }\r\n                        if(this.state.iscust){\r\n                            //this.createImages();\r\n                            timer = setInterval(()=>{\r\n                                this.createImages();\r\n                            },player._animator.duration/this.state.custnum);\r\n                        }\r\n                    }\r\n                })\r\n                .$on('pause', () => {                   \r\n                    clearInterval(timer)\r\n                    timer = null;\r\n                })\r\n                .$on('stop', () => {\r\n                    clearInterval(timer)\r\n                    timer = null;\r\n                })\r\n                .$on('end', () => {\r\n                    clearInterval(timer)\r\n                    timer = null;\r\n                })\r\n                .$on('clear', () => {\r\n                    clearInterval(timer)\r\n                    timer = null;\r\n                })\r\n                .$on('process', (e) => {\r\n                    this.setState({\r\n                        progress: player.progress\r\n                    });\r\n                    if(this.state.iscreate&&!this.state.iscust){\r\n                        if(player.videoItem.frames>this.state.list.length){\r\n                            this.createImages();\r\n                        }\r\n                    }\r\n                });\r\n\r\n            this.setState({\r\n                player\r\n            });\r\n\r\n            //this.state.player.start();\r\n\r\n            //console.log(this.state.player)\r\n        })()\r\n    }\r\n\r\n    onPlay(){\r\n        this.setState({\r\n            iscreate:false\r\n        });\r\n        setTimeout(() => {\r\n            this.state.player.start();\r\n        }, 200)\r\n    }\r\n\r\n    onCreate() {\r\n        this.onPlay();\r\n        this.setState({\r\n            list: [],\r\n            iscreate:true\r\n        });\r\n    }\r\n\r\n    createImages() {\r\n        this.setState({\r\n            list: [...this.state.list, {\r\n                key: this.state.list.length,\r\n                name: `img_${this.state.list.length}`,\r\n                pic: this.canvas.current.toDataURL(\"image/png\")\r\n            }]\r\n        });\r\n    }\r\n\r\n    callback(key) {\r\n        //console.log(key);\r\n    }\r\n\r\n    createTable() {\r\n        this.setState({\r\n            columns: [\r\n                {\r\n                    title: 'Name',\r\n                    dataIndex: 'name',\r\n                    key: 'name',\r\n                    width: 120,\r\n                },\r\n                {\r\n                    title: 'Image',\r\n                    dataIndex: 'pic',\r\n                    key: 'pic',\r\n                    render: src => (\r\n                        <>\r\n                            <img alt=\"\" src={src} style={{ height: \"100px\", backgroundColor: `${this.state.colors[this.state.colorindex]}` }} />\r\n                        </>\r\n                    ),\r\n                    width: 180,\r\n                },\r\n                {\r\n                    title: 'Edit',\r\n                    dataIndex: 'key',\r\n                    key: 'key',\r\n                    render: (key, record, index) => (\r\n                        <>\r\n                            <Button onClick={this.onDownLoad.bind(this, key, record, index)} type=\"primary\" style={{ marginRight: \"10px\" }}>download</Button>\r\n                            <Button onClick={this.onDel.bind(this, key, record, index)} type=\"primary\" danger>delete</Button>\r\n                        </>\r\n                    )\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    onDel(key, record, index) {\r\n        let list = [...this.state.list];\r\n        list.splice(this.getListIndex(record, list), 1);\r\n        this.setState({\r\n            list\r\n        })\r\n    }\r\n\r\n    getListIndex(obj,list){\r\n        for (let i = 0; i < list.length; i++) {\r\n            if(obj.key===list[i].key){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    onDownLoad(key, record, index) {\r\n        saveAs(record[\"pic\"], `${record[\"name\"]}.png`);\r\n    }\r\n\r\n    onClear() {\r\n        this.setState({\r\n            list: [],\r\n            player: null,\r\n            custnum:1\r\n        });\r\n        this.props.onclear();\r\n    }\r\n\r\n    onChange() {\r\n        if(this.state.player._animator._isRunning){\r\n            return false;\r\n        }\r\n        this.setState({\r\n            iscust: !this.state.iscust\r\n        })\r\n    }\r\n\r\n    onDownloadAll() {\r\n        let zip = new JSZip();\r\n        let img = zip.folder(\"images\");\r\n        this.state.list.forEach(item => {\r\n            img.file(`${item[\"name\"]}.png`, item[\"pic\"].split(',')[1], { base64: true });\r\n        })\r\n        zip.generateAsync({ type: \"blob\" })\r\n            .then(function (content) {\r\n                saveAs(content, \"images.zip\");\r\n            });\r\n    }\r\n\r\n    onChangeColor(index) {\r\n        this.setState({\r\n            colorindex: index\r\n        })\r\n    }\r\n\r\n    onChangeSlider(value){\r\n        if(this.state.player._animator._isRunning){\r\n            return false;\r\n        }\r\n        this.setState({\r\n            custnum:value\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { player, progress, columns, list, iscust, custnum, colors, colorindex } = this.state;\r\n        return (\r\n            <>\r\n                <div className=\"play-box\">\r\n\r\n                    <Tabs defaultActiveKey=\"1\" onChange={this.callback.bind(this)}>\r\n                        <TabPane tab=\"Control\" key=\"1\">\r\n                            <canvas style={{ backgroundColor: colors[colorindex] }} ref={this.canvas}></canvas>\r\n\r\n                            <Progress percent={progress} showInfo={false} style={{ marginTop: \"30px\" }} />\r\n\r\n                            <ul className=\"play-box-info\">\r\n                                <li>\r\n                                    status: {player != null ? (player._animator._isRunning ? 'playing' : 'complete') : 'stop'}\r\n                                </li>\r\n                                <li>\r\n                                    duration: {player != null ? (player._animator.duration + 'ms') : 'null'}\r\n                                </li>\r\n                                <li>\r\n                                    frames: {player != null ? (player.videoItem.frames) : '0'}\r\n                                </li>\r\n                                <li>\r\n                                    {player != null ? (`width: ${player.videoItem.videoSize.width} height: ${player.videoItem.videoSize.height}`) : \"\"}\r\n                                </li>\r\n                            </ul>\r\n\r\n                            <ul className=\"color-box\">\r\n                                {colors.map((item, index) => (<li onClick={this.onChangeColor.bind(this, index)} key={index} style={{ backgroundColor: `${item}` }}></li>))}\r\n                            </ul>\r\n\r\n                            <div>\r\n                                <Button type=\"primary\" onClick={this.onPlay.bind(this)} style={{ marginRight: \"10px\" }} disabled={player && player._animator._isRunning}>Play</Button>\r\n                                <Button type=\"primary\" onClick={this.onCreate.bind(this)} style={{ marginRight: \"10px\" }} disabled={player && player._animator._isRunning}>Create</Button>\r\n                                <Button type=\"primary\" onClick={this.onDownloadAll.bind(this)} icon={<DownloadOutlined />} style={{ marginRight: \"10px\" }} disabled={player && player._animator._isRunning}>Download all</Button>\r\n                                <Button type=\"primary\" onClick={this.onClear.bind(this)} disabled={player && player._animator._isRunning} danger>Destroy</Button>\r\n                            </div>\r\n\r\n                            {\r\n                                player&&player._animator._isRunning?\"\":(\r\n                                    <div style={{marginTop: \"30px\", marginBottom: \"30px\" }}>\r\n                                        <label>custom：</label> <Switch size=\"small\" defaultChecked={iscust} onChange={this.onChange.bind(this)} />\r\n                                        <Slider onChange={this.onChangeSlider.bind(this)} max={player != null?(player.videoItem.frames):100} min={1} defaultValue={custnum} disabled={!iscust} />\r\n                                    </div>\r\n                                )\r\n                            }\r\n\r\n\r\n                        </TabPane>\r\n\r\n                        <TabPane tab=\"More\" key=\"2\">\r\n                            <Table columns={columns} dataSource={list} />\r\n                        </TabPane>\r\n                    </Tabs>\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PlayBox;","import { Downloader, Parser, Player } from 'svga.lite';\r\nimport React, { Component, createRef } from 'react';\r\nimport { DownloadOutlined } from '@ant-design/icons';\r\nimport { saveAs } from 'file-saver';\r\nimport { Input, message, Button } from 'antd';\r\nconst { Search } = Input;\r\n\r\n\r\nclass ChangeBese64 extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            file: \"\"\r\n        }\r\n        this.onChange = this.onChange.bind(this);\r\n        this.canvas = createRef();\r\n    }\r\n\r\n    onChange(value) {\r\n        if (value === '' || value.trim() === '') {\r\n            return false;\r\n        }\r\n        this.createAnimation(value);\r\n        this.setState({\r\n            file: value\r\n        })\r\n    }\r\n\r\n    randomString(l) {\r\n        let len = l || 32;\r\n        let $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\r\n        let maxPos = $chars.length;\r\n        let pwd = '';\r\n        for (let i = 0; i < len; i++) {\r\n            pwd += $chars.charAt(Math.floor(Math.random() * maxPos));\r\n        }\r\n        return pwd;\r\n    }\r\n\r\n    createAnimation(file) {\r\n        const downloader = new Downloader();\r\n        const parser = new Parser();\r\n        const player = new Player(this.canvas.current);\r\n\r\n        ; (async () => {\r\n            try {\r\n                const fileData = await downloader.get(file);\r\n\r\n                const svgaData = await parser.do(fileData);\r\n                player.set({\r\n                    loop: -1,\r\n                    fillMode: 'forwards'\r\n                });\r\n\r\n                await player.mount(svgaData);\r\n                player.start();\r\n            }\r\n            catch{\r\n                this.setState({\r\n                    file: \"\"\r\n                })\r\n                message.error(\"error svga\")\r\n            }\r\n        })();\r\n\r\n    }\r\n\r\n    // dataURLtoFile(dataurl, filename) {\r\n    //     let arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\r\n    //         bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\r\n    //     while(n--){\r\n    //         u8arr[n] = bstr.charCodeAt(n);\r\n    //     }\r\n    //     return new File([u8arr], filename, {type:mime});\r\n    // }\r\n\r\n    onDownload() {\r\n        if (this.state.file === \"\") return;\r\n        saveAs(this.state.file, `${this.randomString(8)}.svga`);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Search\r\n                    style={{ width: \"640px\", marginLeft: \"27px\", marginTop: \"30px\", marginBottom: \"30px\" }}\r\n                    placeholder=\"input base64 text\"\r\n                    enterButton=\"change\"\r\n                    size=\"large\"\r\n                    onSearch={this.onChange}\r\n                />\r\n                <div style={{ margin: \"30px\" }}>\r\n                    <canvas style={{ backgroundColor: \"#000000\" }} ref={this.canvas}></canvas>\r\n                </div>\r\n                <Button style={{ marginLeft: \"30px\" }} disabled={this.state.file === \"\"} type=\"primary\" icon={<DownloadOutlined />} onClick={this.onDownload.bind(this)} >\r\n                    Download\r\n                </Button>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default ChangeBese64;","import React, { createRef } from 'react';\r\nimport PlayBox from './PlayBox';\r\nimport ChangeBese64 from './ChangeBese64';\r\n\r\nimport { GithubOutlined,SyncOutlined } from '@ant-design/icons';\r\nimport { message, Layout, Button } from 'antd';\r\nconst { Header, Footer, Content } = Layout;\r\n\r\n\r\n\r\nclass ShowBox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            file: \"\",\r\n            isdrop: false,\r\n            ischange: false\r\n        }\r\n        this.showbox = createRef();\r\n        this.fileinput = createRef();\r\n\r\n        this.ondragover = this.ondragover.bind(this);\r\n        this.ondrop = this.ondrop.bind(this);\r\n        this.ondragenterbox = this.ondragenterbox.bind(this);\r\n        this.ondragleavebox = this.ondragleavebox.bind(this);\r\n        this.ondropintobox = this.ondropintobox.bind(this);\r\n        this.loadMyFile = this.loadMyFile.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"drop\", this.ondrop);\r\n        document.addEventListener(\"dragover\", this.ondragover);\r\n        this.showbox.current.addEventListener(\"dragenter\", this.ondragenterbox);\r\n        this.showbox.current.addEventListener(\"dragleave\", this.ondragleavebox);\r\n        this.showbox.current.addEventListener(\"drop\", this.ondropintobox);\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        if(this.showbox.current==null) return;\r\n        this.showbox.current.addEventListener(\"dragenter\", this.ondragenterbox);\r\n        this.showbox.current.addEventListener(\"dragleave\", this.ondragleavebox);\r\n        this.showbox.current.addEventListener(\"drop\", this.ondropintobox);\r\n    }\r\n\r\n    ondragover(e) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n\r\n    ondrop(e) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n\r\n    ondragleavebox(e) {\r\n        this.setState({ isdrop: false })\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n\r\n    ondragenterbox(e) {\r\n        this.setState({ isdrop: true })\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n\r\n    ondropintobox(e) {\r\n        this.setState({\r\n            isdrop: false\r\n        });\r\n        let file = e.dataTransfer.files[0];\r\n        let names = file.name.split(\".\");\r\n        if (names[names.length - 1] !== \"svga\") {\r\n            message.error('no svga');\r\n            return false;\r\n        }\r\n        this.loadMyFile(file);\r\n    }\r\n\r\n    loadMyFile(file) {\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n            console.log(reader.result)\r\n            this.setState({\r\n                file: reader.result\r\n            })\r\n        }\r\n    }\r\n\r\n    onClear() {\r\n        if(this.fileinput.current) this.fileinput.current.value = \"\";\r\n        this.setState({\r\n            file: \"\"\r\n        })\r\n    }\r\n\r\n    onChangeFile(e) {\r\n        if (this.fileinput.current.value === \"\") return false;\r\n        let names = e.target.files[0].name.split(\".\");\r\n        if (names[names.length - 1] !== \"svga\") {\r\n            message.error('no svga');\r\n            return false;\r\n        }\r\n        this.loadMyFile(e.target.files[0])\r\n    }\r\n\r\n    changeBase64State(state){\r\n        this.setState({\r\n            ischange:state\r\n        });\r\n        this.onClear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Layout className=\"main\">\r\n                    <Layout>\r\n                        <Header>\r\n                            <span className=\"logo\" onClick={this.changeBase64State.bind(this,false)}>SVGA TO PNGS</span>\r\n                            <a className=\"github-link\" href=\"https://github.com/jsmask\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n                                <GithubOutlined className=\"github-svg\" />\r\n                            </a>\r\n\r\n                            <Button style={{marginLeft:\"60px\"}} onClick={this.changeBase64State.bind(this,!this.state.ischange)}  type=\"primary\" shape=\"round\">\r\n                                <SyncOutlined />\r\n                                {\r\n                                    !this.state.ischange?'base64 change':'to pngs'\r\n                                }\r\n                                \r\n                            </Button>\r\n\r\n                        </Header>\r\n                        <Content>\r\n                            {\r\n                                this.state.ischange === false ?\r\n                                    (\r\n                                        <div ref={this.showbox} className={`show-box ${this.state.isdrop === true ? 'is-active' : ''}`}>\r\n                                            <input ref={this.fileinput} type=\"file\" accept=\"*.svga\" onChange={this.onChangeFile.bind(this)} />\r\n                                            {this.state.file === \"\" ? \"\" : <PlayBox file={this.state.file} onclear={this.onClear.bind(this)} />}\r\n                                        </div>\r\n                                    ) : <ChangeBese64 />\r\n                            }\r\n\r\n\r\n                        </Content>\r\n                        <Footer>\r\n\r\n                        </Footer>\r\n                    </Layout>\r\n                </Layout>\r\n\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ShowBox;","import React from 'react';\nimport ShowBox from './view/ShowBox';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <>\n        <ShowBox></ShowBox>\n      </>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css'\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}