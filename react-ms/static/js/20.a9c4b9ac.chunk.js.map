{"version":3,"sources":["pages/home/home.js","config/config.js","request/request.js","request/api.js"],"names":["Home","useState","addNum","setAddNum","totalUser","setTotalUser","totalIncome","setTotalIncome","visitsNum","setVisitsNum","a","reqHomeInfo","res","status","data","add_num","total_user","total_income","visits_num","useEffect","getHomeInfo","className","gutter","align","span","style","backgroundColor","type","title","bordered","margin","column","Item","label","text","color","role","aria-label","BASEURL","IMAGESURL","defaultOptions","method","params","url","isloading","hideLoading","store","dispatch","setLoading","request","options","Object","assign","instance","axios","create","baseURL","timeout","interceptors","use","response","err","message","error","console","log","reqLogin","reqRoleList","reqRoleInfo","reqRoleRevise","reqRoleAdd","reqRoleDelete","reqPropList","reqPropInfo","reqPropRevise","reqPropChangeStatus","reqPropAdd","reqPropDelete","reqEchartsData","reqIncomeList","reqPropDeleteImg","reqUploadImages","reqModelList","reqModelInfo","reqModelRevise","reqModelAdd","reqModelDelete","reqUserList","reqUserInfo","reqSetBags"],"mappings":"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","file":"static/js/20.a9c4b9ac.chunk.js","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport { Descriptions, Badge, Tag, Icon, Row, Col } from 'antd';\r\nimport { reqHomeInfo } from '@request/api';\r\n\r\nfunction Home() {\r\n\r\n    const [addNum, setAddNum] = useState(0);\r\n    const [totalUser, setTotalUser] = useState(0);\r\n    const [totalIncome, setTotalIncome] = useState(\"$0\");\r\n    const [visitsNum, setVisitsNum] = useState(0);\r\n\r\n    async function getHomeInfo() {\r\n        let res = await reqHomeInfo();\r\n        if (res.status === 1) {\r\n            setAddNum(res.data.add_num)\r\n            setTotalUser(res.data.total_user)\r\n            setTotalIncome(res.data.total_income)\r\n            setVisitsNum(res.data.visits_num)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getHomeInfo();\r\n        return () => {\r\n\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <div className=\"home-top-cardbox\">\r\n                <Row gutter={20} align=\"middle\">\r\n                    <Col className=\"gutter-row\" span={6}>\r\n                        <div className=\"gutter-box\" style={{ backgroundColor: \"#f7a482\" }}>\r\n                            <Icon type=\"user-add\" className=\"home-top-icon\" />\r\n                            <h5>Add Users</h5>\r\n                            <h6>{addNum}</h6>\r\n                        </div>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={6}>\r\n                        <div className=\"gutter-box\" style={{ backgroundColor: \"#96c4e6\" }}>\r\n                            <Icon type=\"usergroup-add\" className=\"home-top-icon\" />\r\n                            <h5>Total Users</h5>\r\n                            <h6>{totalUser}</h6>\r\n                        </div>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={6}>\r\n                        <div className=\"gutter-box\" style={{ backgroundColor: \"#ffb44a\" }}>\r\n                            <Icon type=\"property-safety\" className=\"home-top-icon\" />\r\n                            <h5>Total Income</h5>\r\n                            <h6>{totalIncome}</h6>\r\n                        </div>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={6}>\r\n                        <div className=\"gutter-box\" style={{ backgroundColor: \"#194b5d\" }}>\r\n                            <Icon type=\"global\" className=\"home-top-icon\" />\r\n                            <h5>Total Visits</h5>\r\n                            <h6>{visitsNum}</h6>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n\r\n\r\n            <Descriptions title=\"Project information\" bordered style={{ margin: 20 }} column={1}>\r\n                <Descriptions.Item label=\"Product\">React MS</Descriptions.Item>\r\n                <Descriptions.Item label=\"Start date\">2019-09-28</Descriptions.Item>\r\n                <Descriptions.Item label=\"Completion date\">-- -- --</Descriptions.Item>\r\n                <Descriptions.Item label=\"Status\"><Badge status=\"warning\" text=\"Warning\" /></Descriptions.Item>\r\n                <Descriptions.Item label=\"Main technology\">\r\n                    <Tag color=\"#108ee9\">React</Tag>\r\n                    <Tag color=\"#333f50\">Rudex</Tag>\r\n                    <Tag color=\"#2db7f5\">antd</Tag>\r\n                    <Tag color=\"#1db725\">Less</Tag>\r\n                    <Tag color=\"#f26e63\">axios</Tag>\r\n                    <Tag color=\"#f25e23\">echarts</Tag>\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"Other Info\">\r\n                    <span role=\"img\" aria-label=\"alien\">👽</span> Memory not optimized yet \r\n                    <br />\r\n                    <span role=\"img\" aria-label=\"ghost\">👻</span> Authority control not added yet \r\n                </Descriptions.Item>\r\n            </Descriptions>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Home;","export const BASEURL = \"https://www.fastmock.site/mock/0bd2fde1e6106f50087551ac363e6641/api\";\r\n\r\nexport const IMAGESURL = BASEURL + \"/images/upload\";","import axios from 'axios';\r\nimport { message } from 'antd';\r\nimport { BASEURL } from '../config/config';\r\nimport store from '@store/store';\r\nimport { setLoading } from '@store/action';\r\n\r\nconst defaultOptions = {\r\n    method: 'GET',\r\n    params:{},\r\n    url:\"\",\r\n    isloading:true\r\n}\r\n\r\nfunction showLoading() {\r\n    store.dispatch(setLoading(true));\r\n}\r\n\r\nfunction hideLoading() {\r\n    store.dispatch(setLoading(false));\r\n}\r\n\r\nexport default function request(options,isloading=true){\r\n    const params = Object.assign({},defaultOptions,options);\r\n    \r\n    const instance = axios.create({\r\n        baseURL: BASEURL, //配置请求服务器路径\r\n        timeout: 5000, //超时\r\n    });\r\n\r\n    instance.interceptors.request.use(options=>{\r\n        if(isloading) showLoading();  \r\n        return options;\r\n    });\r\n    instance.interceptors.response.use(res=>{\r\n        if(isloading) hideLoading();\r\n        return res.data;\r\n    },err=>{\r\n        message.error(\"系统错误\");\r\n        console.log(err.message);\r\n        if(isloading) hideLoading()\r\n    });\r\n    \r\n    return instance(params);\r\n}","import request from './request';\r\nimport { IMAGESURL } from '@config/config';\r\n\r\n//登录接口\r\nexport const reqLogin = (params, isloading) => request({ url: \"/login\", method: \"POST\", params }, isloading);\r\n\r\n//获取首页信息\r\nexport const reqHomeInfo = (params, isloading) => request({ url: \"/home/info\", method: \"GET\", params }, isloading);\r\n\r\n//获取角色列表\r\nexport const reqRoleList = params => request({ url: \"/role/list\", method: \"GET\", params }, false);\r\n\r\n//获取角色信息\r\nexport const reqRoleInfo = params => request({ url: \"/role/info\", method: \"POST\", params }, false);\r\n\r\n//修改角色信息\r\nexport const reqRoleRevise = (params, isloading) => request({ url: \"/role/revise\", method: \"POST\", params }, isloading);\r\n\r\n//添加角色信息\r\nexport const reqRoleAdd = (params, isloading) => request({ url: \"/role/add\", method: \"POST\", params }, isloading);\r\n\r\n//删除角色信息\r\nexport const reqRoleDelete = (params, isloading) => request({ url: \"/role/delete\", method: \"POST\", params }, isloading);\r\n\r\n//获取道具列表\r\nexport const reqPropList = params => request({ url: \"/prop/list\", method: \"GET\", params }, false);\r\n\r\n//获取道具信息\r\nexport const reqPropInfo = params => request({ url: \"/prop/info\", method: \"POST\", params }, false);\r\n\r\n//修改道具信息\r\nexport const reqPropRevise = (params, isloading) => request({ url: \"/prop/revise\", method: \"POST\", params }, isloading);\r\n\r\n//修改道具状态\r\nexport const reqPropChangeStatus = params => request({ url: \"/prop/changestatus\", method: \"POST\", params }, false);\r\n\r\n//添加道具信息\r\nexport const reqPropAdd = (params, isloading) => request({ url: \"/prop/add\", method: \"POST\", params }, isloading);\r\n\r\n//删除道具信息\r\nexport const reqPropDelete = (params, isloading) => request({ url: \"/prop/delete\", method: \"POST\", params }, isloading);\r\n\r\n//获取统计数据\r\nexport const reqEchartsData = (params, isloading) => request({ url: \"/echarts/data\", method: \"GET\", params }, isloading);\r\n\r\n//获取收入支出列表\r\nexport const reqIncomeList = params => request({ url: \"/income/list\", method: \"POST\", params }, false);\r\n\r\n//删除道具图片\r\nexport const reqPropDeleteImg = (params, isloading) => request({ url: \"/prop/deleteimg\", method: \"POST\", params }, isloading);\r\n\r\n//上传图片\r\nexport const reqUploadImages = params => request({ url: IMAGESURL, method: \"POST\", params }, false);\r\n\r\n//获取模型列表\r\nexport const reqModelList = params => request({ url: \"/model/list\", method: \"GET\", params }, false);\r\n\r\n//获取模型信息\r\nexport const reqModelInfo = params => request({ url: \"/model/info\", method: \"POST\", params }, false);\r\n\r\n//修改模型信息\r\nexport const reqModelRevise = (params, isloading) => request({ url: \"/model/revise\", method: \"POST\", params }, isloading);\r\n\r\n//添加模型信息\r\nexport const reqModelAdd = (params, isloading) => request({ url: \"/model/add\", method: \"POST\", params }, isloading);\r\n\r\n//删除模型信息\r\nexport const reqModelDelete = (params, isloading) => request({ url: \"/model/delete\", method: \"POST\", params }, isloading);\r\n\r\n//获取用户列表\r\nexport const reqUserList = params => request({ url: \"/user/list\", method: \"GET\", params }, false);\r\n\r\n//获取用户信息\r\nexport const reqUserInfo = params => request({ url: \"/user/info\", method: \"POST\", params }, false);\r\n\r\n//设置用户背包\r\nexport const reqSetBags = (params, isloading) => request({ url: \"/user/setbags\", method: \"POST\", params }, isloading);\r\n"],"sourceRoot":""}