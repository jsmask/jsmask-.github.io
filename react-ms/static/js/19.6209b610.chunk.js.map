{"version":3,"sources":["components/leftNav/index.js","components/header/index.js","components/bread/index.js","pages/admin/admin.js"],"names":["SubMenu","Item","connect","state","props","Object","assign","setMenuCollapsed","withRouter","globalReducer","pathname","location","openkey","split","useState","openKeys","setOpenKeys","createMenuItem","obj","key","icon","title","children","length","popupClassName","type","map","child","to","replace","useEffect","className","onClick","isCollapsed","mode","theme","onOpenChange","keys","latestOpenKey","find","indexOf","selectedKeys","defaultOpenKeys","MenuConfig","item","setLogout","userReducer","history","info","username","confirm","centered","onOk","style","margin","list","arr","path","forEach","push","breadListReader","Header","Sider","Content","console","log","height","collapsed","exact","component","Home","Income","Model","Prop","User","Role","Bar","Line","Pie"],"mappings":"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","file":"static/js/19.6209b610.chunk.js","sourcesContent":["\r\nimport React, { useEffect, useState } from 'react';\r\nimport '@less/left-nav.less';\r\nimport { Menu, Icon } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { setMenuCollapsed } from '@store/action';\r\nimport MenuConfig from \"@config/menuConfig.json\"\r\n\r\nconst { SubMenu, Item } = Menu;\r\n\r\nfunction LeftNav(props) {\r\n    const { setMenuCollapsed, globalReducer, location } = props;\r\n\r\n    let pathname = location.pathname;\r\n\r\n    let openkey = `/${pathname.split(\"/\")[1]}`;\r\n    let [openKeys, setOpenKeys] = useState([openkey]);\r\n\r\n    const changeCollapsed = () => {\r\n        setMenuCollapsed(!globalReducer.isCollapsed);\r\n        setOpenKeys([])\r\n    }\r\n\r\n    const createMenuItem = obj => {\r\n        const { key, icon, title, children } = obj;\r\n        return (\r\n            children && children.length > 0 ?\r\n                <SubMenu key={key}\r\n                    popupClassName=\"left-nav-popup\"\r\n                    title={\r\n                        <span>\r\n                            <Icon type={icon} />\r\n                            <span>{title}</span>\r\n                        </span>\r\n                    }\r\n                >\r\n                    {\r\n                        children.map(child => createMenuItem(child))\r\n                    }\r\n                </SubMenu>\r\n                :\r\n                <Item key={key}>\r\n                    <Link to={key} replace>\r\n                        {\r\n                            icon && icon !== \"\" ? <Icon type={icon} /> : null\r\n                        }\r\n                        <span>{title}</span>\r\n                    </Link>\r\n                </Item>\r\n        )\r\n    }\r\n\r\n    function createMenuContent(){\r\n        return (\r\n            MenuConfig.map(item => {\r\n                return createMenuItem(item)\r\n            })\r\n        )\r\n    }\r\n\r\n    const onOpenChange = keys => {\r\n        const latestOpenKey = keys.find(key => openKeys.indexOf(key) === -1);\r\n        setOpenKeys([latestOpenKey])\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        return () => {\r\n\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"left-nav\">\r\n\r\n            <Icon onClick={changeCollapsed} className=\"left-nav-close\" type={!globalReducer.isCollapsed ? \"left\" : \"right\"} />\r\n\r\n            <div className=\"left-nav-title\">\r\n                <i className=\"logo-icon\"></i>\r\n                React MS\r\n            </div>\r\n\r\n            <div className=\"left-nav-menu-box\">\r\n                <Menu\r\n                    mode=\"inline\" theme=\"dark\"\r\n                    openKeys={openKeys}\r\n                    onOpenChange={onOpenChange}\r\n                    selectedKeys={[pathname]}\r\n                    defaultOpenKeys={[openkey]}\r\n                >\r\n                    {\r\n                        createMenuContent()\r\n                    }\r\n                </Menu>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect((state, props) => Object.assign({}, props, state), {\r\n    setMenuCollapsed\r\n})(withRouter(LeftNav));\r\n","import React from 'react';\r\nimport '@less/header.less'\r\nimport { connect } from 'react-redux';\r\nimport { setLogout } from \"@store/action\"\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Icon } from 'antd'\r\n\r\nimport { Modal } from 'antd'\r\n\r\nfunction HeaderNav(props) {\r\n\r\n    const { userReducer, history, setLogout } = props;\r\n\r\n    const onLogout = () => {\r\n        Modal.confirm({\r\n            title: 'Do you want to log out?',\r\n            centered: true,\r\n            onOk() {\r\n                history.replace(\"/login\");\r\n                setLogout();\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"header-nav\">\r\n            <h6>\r\n                <Icon type=\"user\" />\r\n                <span>{userReducer.info&&userReducer.info.username}</span>\r\n                <button onClick={onLogout}>Sign out</button>\r\n            </h6>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect((state, props) => Object.assign({}, props, state), {\r\n    setLogout\r\n})(withRouter(HeaderNav));\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Breadcrumb } from 'antd';\r\nimport MenuConfig from '@config/menuConfig.json';\r\n\r\nfunction Bread(props) {\r\n    const { history } = props;\r\n\r\n    const breadListReader = (list) => {\r\n        let arr = [];\r\n        const path = history.location.pathname;\r\n        list.forEach(item => {\r\n\r\n            if (item.key === path) {\r\n                arr.push(\r\n                    <Breadcrumb.Item key={item.key}>\r\n                        {item.title}\r\n                    </Breadcrumb.Item>\r\n                );\r\n            }\r\n\r\n            else if (item.children && item.children.length > 0) {\r\n                let children = item.children.find(child => {\r\n                    if (child.key === path) return true;\r\n                    return false;\r\n                });\r\n                if (children) {\r\n                    arr.push(\r\n                        <Breadcrumb.Item key={item.key}>\r\n                            {item.title}\r\n                        </Breadcrumb.Item>\r\n                    );\r\n                    arr.push(\r\n                        <Breadcrumb.Item key={children.key}>\r\n                            {children.title}\r\n                        </Breadcrumb.Item>\r\n                    );\r\n                }\r\n            }\r\n        });\r\n        return arr;\r\n    }\r\n\r\n    return (\r\n        <Breadcrumb style={{margin: \"18px 22px 18px 22px\"}}>\r\n            {\r\n                breadListReader(MenuConfig)\r\n            }\r\n        </Breadcrumb>\r\n    )\r\n}\r\n\r\n\r\nexport default withRouter(Bread);","import React, { useEffect, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Layout } from 'antd';\r\nimport '@less/admin.less'\r\nimport LeftNav from '@components/leftNav';\r\nimport HeaderNav from '@components/header';\r\nimport Bread from '@components/bread'\r\nimport { Route, Switch , Redirect } from 'react-router-dom';\r\nimport { Home,Income,Model,Prop,User,Role,Bar,Line,Pie } from '@config/pageComponents';\r\n\r\nconst { Header, Sider, Content } = Layout;\r\n\r\nfunction Admin(props) {\r\n    const { userReducer, history, globalReducer } = props;\r\n\r\n    useEffect(() => {\r\n        console.log(\"In admin\")\r\n        if (!userReducer.info) {\r\n            history.replace(\"/login\")\r\n        }\r\n        return () => {\r\n            console.log(\"Out admin\")\r\n        }\r\n    }, [userReducer, history])\r\n\r\n    return (\r\n        <Fragment>\r\n            <Layout style={{ height: \"100%\" }}>\r\n                <Sider className=\"main-sider\" collapsed={globalReducer.isCollapsed}>\r\n                    <LeftNav></LeftNav>\r\n                </Sider>\r\n                <Layout>\r\n                    <Header className=\"main-header\">\r\n                        <HeaderNav></HeaderNav>\r\n                    </Header>\r\n\r\n                    <Bread></Bread>\r\n\r\n                    <Content className=\"main-content\">\r\n                        <Switch>\r\n                            <Route path=\"/home\" exact component={Home}></Route>\r\n                            <Route path=\"/income\" exact component={Income}></Route>\r\n\r\n                            <Route path=\"/form/model\" exact component={Model}></Route>\r\n                            <Route path=\"/form/prop\" exact component={Prop}></Route>\r\n\r\n                            <Route path=\"/data/user\" exact component={User}></Route>\r\n                            <Route path=\"/data/role\" exact component={Role}></Route>\r\n\r\n                            <Route path=\"/charts/bar\" exact component={Bar}></Route>\r\n                            <Route path=\"/charts/line\" exact component={Line}></Route>\r\n                            <Route path=\"/charts/Pie\" exact component={Pie}></Route>\r\n\r\n                            <Redirect to=\"/home\"></Redirect>\r\n\r\n                        </Switch>\r\n                    </Content>\r\n                </Layout>\r\n            </Layout>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default connect((state, props) => Object.assign({}, props, state))(Admin);"],"sourceRoot":""}