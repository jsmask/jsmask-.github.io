(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a2eeb4d"],{"8bcb":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{ref:"pool",staticClass:"main"},[t._l(t.fishList,(function(i,e){var o;return s("div",{key:e,ref:"fish",refInFor:!0,staticClass:"fish",class:(o={left:-1==i.direction},o[i.type]=!0,o),style:{transform:"translate("+i.x+"px,"+i.y+"px)"}},[s("div",{staticClass:"fish-main",style:{transform:"scale("+(1+.025*i.level)+")"}},[t._m(0,!0)])])})),t._l(t.bubbleList,(function(t){return s("div",{key:t.index,staticClass:"bubble",style:{left:t.x+"px",top:t.y+"px"}},[s("div",{staticClass:"bubble-body"})])})),t._l(t.foodList,(function(t){return s("div",{key:t.index,staticClass:"food",style:{left:t.x+"px",top:t.y+"px"}},[s("div",{staticClass:"food-body"})])}))],2)},o=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"fish-body"},[s("div",{staticClass:"fish-fins"})])}],n=(s("ac6a"),{data:function(){return{fishNum:7,fishList:[],bubbleList:[],foodList:[]}},mounted:function(){this.init()},methods:{init:function(){this.width=this.$refs.pool.clientWidth,this.height=this.$refs.pool.clientHeight;for(var t=0;t<this.fishNum;t++)this.addFish(t);this.move(),this.foodMove(),this.throw()},addFish:function(t){var i={index:"fish_".concat(t),x:this.random(0,this.width-60),y:this.random(15,this.height-30),direction:this.random(0,1)>.5?1:-1,type:"fish-type"+~~this.random(1,6),speed:this.random(1,3),bTime:100*this.random(1,3),bMax:100*this.random(3,10),sy:Math.random(0,10),level:~~this.random(0,2)};return this.fishList.push(i),i},addBubble:function(t){var i=t.index,s=t.x,e=t.y;this.bubbleList.push({x:s,y:e,index:i+"_"+~~(Math.random()*Math.pow(10,6))})},foodMove:function(){var t=this;window.requestAnimationFrame((function(){t.foodList.forEach((function(i,s){i.y++,i.y>t.height&&t.foodList.splice(s,1)})),t.foodMove()}))},move:function(){var t=this;window.requestAnimationFrame((function(){t.fishList.forEach((function(i){if(++i.bTime>i.bMax&&(i.bTime=0,t.addBubble(i)),t.foodList.length>0){var s=0;if(t.foodList.length>1)for(var e=0,o=null;e<t.foodList.length;e++){var n=Math.abs(t.foodList[e].x-i.x);null==o&&(o=n),n<o&&(o=n,s=e)}var a=t.foodList[s],r=a.x-i.x,d=a.y-i.y;i.direction=r>=0?1:-1;var h=Math.atan2(d,r);if(r<10&&r>-10&&d<10&&d>-10)i.level++,t.foodList.splice(s,1),i.direction=Math.random()>.5?1:-1;else{var f=1.2*i.speed*Math.cos(h),c=1.2*i.speed*Math.sin(h);i.x+=f,i.y+=c}}else i.x+=i.speed*i.direction,i.sy+=.01,i.y+=2*Math.cos(i.sy);i.x<-60&&(i.x=-60,i.direction*=-1,i.speed=t.random(1,3)),i.x>t.width+30&&(i.x=t.width+30,i.direction*=-1,i.speed=t.random(1,3)),i.y<0&&(i.y=0),i.y>t.height-30&&(i.y=t.height-30)})),t.move()}))},throw:function(){var t=this;this.$refs.pool.addEventListener("click",(function(i){var s={x:i.layerX,y:i.layerY};t.foodList.push(s)}))},random:function(t,i){return t+Math.random()*i}}}),a=n,r=(s("e879"),s("2877")),d=Object(r["a"])(a,e,o,!1,null,"1a890f98",null);i["default"]=d.exports},cc68:function(t,i,s){},e879:function(t,i,s){"use strict";var e=s("cc68"),o=s.n(e);o.a}}]);
//# sourceMappingURL=chunk-3a2eeb4d.4b02b537.js.map